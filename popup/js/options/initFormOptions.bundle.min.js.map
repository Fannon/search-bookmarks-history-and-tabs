{
  "version": 3,
  "sources": ["../helper/utils.js", "../helper/objectUtils.js", "../model/optionsDiff.js", "../model/options.js", "optionsSchema.js", "formState.js", "renderForm.js", "vendor/schemasafe.esm.js", "validation.js", "initFormOptions.js", "../helper/browserApi.js"],
  "sourcesContent": ["/**\n * Get text how long a date is ago\n *\n * @see https://stackoverflow.com/questions/3177836/how-to-format-time-since-xxx-e-g-4-minutes-ago-similar-to-stack-exchange-site\n */\nexport function timeSince(date) {\n  // Handle invalid inputs\n  if (!date || isNaN(new Date(date).getTime())) {\n    return 'Invalid date'\n  }\n\n  const seconds = Math.floor((new Date() - new Date(date)) / 1000)\n\n  // Handle future dates\n  if (seconds < 0) {\n    return '0 seconds'\n  }\n\n  const intervals = [\n    { unitSeconds: 31536000, label: 'year' },\n    { unitSeconds: 2592000, label: 'month' },\n    { unitSeconds: 86400, label: 'day' },\n    { unitSeconds: 3600, label: 'hour' },\n    { unitSeconds: 60, label: 'minute' },\n  ]\n\n  for (const { unitSeconds, label } of intervals) {\n    const count = Math.floor(seconds / unitSeconds)\n    if (count >= 1) {\n      return `${count} ${label}${count === 1 ? '' : 's'}`\n    }\n  }\n\n  const secondsCount = Math.floor(seconds)\n  const secondsLabel = secondsCount === 1 ? 'second' : 'seconds'\n  return `${secondsCount} ${secondsLabel}`\n}\n\n/**\n * Remove http://, http://, www, trailing slashes from URLs\n * @see https://stackoverflow.com/a/57698415\n */\nexport function cleanUpUrl(url) {\n  // Handle null, undefined, or empty inputs\n  if (!url) {\n    return ''\n  }\n\n  // Convert to string and clean up\n  const urlString = String(url)\n    .replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '')\n    .replace(/\\/$/, '')\n    .toLowerCase()\n\n  return urlString\n}\n\n// Cache for loaded scripts to avoid duplicate loading\nconst loadedScripts = new Set()\n\nexport async function loadScript(url) {\n  // Return immediately if already loaded\n  if (loadedScripts.has(url)) {\n    return Promise.resolve()\n  }\n\n  return new Promise(function (resolve, reject) {\n    const s = document.createElement('script')\n    s.type = 'text/javascript'\n    s.onload = () => {\n      loadedScripts.add(url)\n      resolve()\n    }\n    s.onerror = () => {\n      reject(new Error(`Failed to load script: ${url}`))\n    }\n    s.src = url\n    document.getElementsByTagName('head')[0].appendChild(s)\n  })\n}\nexport async function loadCSS(href) {\n  var l = document.createElement('link')\n  l.href = href\n  l.rel = 'stylesheet'\n  l.type = 'text/css'\n  document.getElementsByTagName('head')[0].appendChild(l)\n}\n\nexport function printError(err, text) {\n  let html = ''\n  if (text) {\n    html += `<li class=\"error\"><b>Error</b>: ${text}</span>`\n    console.error(text)\n  }\n  console.error(err)\n  html += `<li class=\"error\"><b>Error Message</b>: ${err.message}</span>`\n  if (err.stack) {\n    html += `<li class=\"error\"><b>Error Stack</b>: ${err.stack}</li>`\n  }\n  const errorList = document.getElementById('error-list')\n  errorList.innerHTML = html + errorList.innerHTML\n  errorList.style = 'display: block;'\n}\n", "export function deepClone(value) {\n  if (Array.isArray(value)) {\n    return value.map((entry) => deepClone(entry))\n  }\n  if (value && typeof value === 'object') {\n    const result = {}\n    for (const [key, nested] of Object.entries(value)) {\n      result[key] = deepClone(nested)\n    }\n    return result\n  }\n  return value\n}\n\nexport function deepEqual(left, right) {\n  if (left === right) {\n    return true\n  }\n\n  if (Array.isArray(left) && Array.isArray(right)) {\n    if (left.length !== right.length) {\n      return false\n    }\n    for (let index = 0; index < left.length; index += 1) {\n      if (!deepEqual(left[index], right[index])) {\n        return false\n      }\n    }\n    return true\n  }\n\n  if (isPlainObject(left) && isPlainObject(right)) {\n    const leftKeys = Object.keys(left)\n    const rightKeys = Object.keys(right)\n    if (leftKeys.length !== rightKeys.length) {\n      return false\n    }\n    for (const key of leftKeys) {\n      if (!deepEqual(left[key], right[key])) {\n        return false\n      }\n    }\n    return true\n  }\n\n  return false\n}\n\nexport function isPlainObject(value) {\n  return !!value && typeof value === 'object' && !Array.isArray(value)\n}\n", "import { deepClone, deepEqual, isPlainObject } from '../helper/objectUtils.js'\n\nexport function computeOverrides(current, defaults) {\n  const diff = diffRecursive(current, defaults)\n  if (diff === undefined) {\n    return {}\n  }\n  return diff\n}\n\nexport function diffUserOptions(current, defaults) {\n  const overrides = computeOverrides(current, defaults)\n  return {\n    overrides,\n    isDirty: Object.keys(overrides).length > 0,\n  }\n}\n\nfunction diffRecursive(current, defaults) {\n  if (deepEqual(current, defaults)) {\n    return undefined\n  }\n\n  if (Array.isArray(current)) {\n    if (!Array.isArray(defaults)) {\n      return deepClone(current)\n    }\n    if (current.length !== defaults.length) {\n      return deepClone(current)\n    }\n    for (let index = 0; index < current.length; index += 1) {\n      if (!deepEqual(current[index], defaults[index])) {\n        return deepClone(current)\n      }\n    }\n    return undefined\n  }\n\n  if (isPlainObject(current)) {\n    if (!isPlainObject(defaults)) {\n      return deepClone(current)\n    }\n    const keys = new Set([...Object.keys(current), ...Object.keys(defaults)])\n    const result = {}\n    for (const key of keys) {\n      if (!Object.prototype.hasOwnProperty.call(current, key)) {\n        continue\n      }\n      const diff = diffRecursive(current[key], defaults[key])\n      if (diff !== undefined) {\n        result[key] = diff\n      }\n    }\n    if (Object.keys(result).length === 0) {\n      return undefined\n    }\n    return result\n  }\n\n  return deepClone(current)\n}\n", "import { printError } from '../helper/utils.js'\n\n/**\n * The default options\n *\n * They can be selectively overwritten and customized via user options\n * @see https://github.com/Fannon/search-tabs-bookmarks-and-history#user-configuration\n */\nexport const defaultOptions = {\n  //////////////////////////////////////////\n  // GENERAL OPTIONS                      //\n  //////////////////////////////////////////\n\n  /**\n   * When enabled, the extension will log some additional information like what it indexed\n   * and performance measurements\n   */\n  debug: false,\n\n  //////////////////////////////////////////\n  // SEARCH OPTIONS                       //\n  //////////////////////////////////////////\n\n  /**\n   * Search approach to use. Choose between:\n   *\n   * * 'precise': Simple search approach that will only find precise matches.\n   *              It provides best init performance and provides good search performance.\n   *              The 'fuzzyness' option will be ignored\n   *\n   * * 'fuzzy':   Search approach that implements a fuzzy (approximate) search.\n   *              This search approach will find more results, even if there are no perfect matches.\n   *              It has a moderate impact on init performance, and is slower when searching.\n   *              It supports all options.\n   *              Uses https://github.com/leeoniya/uFuzzy\n   */\n  searchStrategy: 'precise', // 'precise' or 'fuzzy'\n  /**\n   * Max search results. Reduce for better performance.\n   * Does not apply for tag and folder search\n   */\n  searchMaxResults: 32,\n  /**\n   * Minimum string characters of the search term to consider a match\n   */\n  searchMinMatchCharLength: 1,\n  /**\n   * Fuzzy search threshold (0 - 1)\n   * 0 is no fuzzyness, 1 is full fuzzyness\n   *\n   * This applies only to search approach 'fuzzy'.\n   * For precise this is always 0 (no fuzzyness)\n   */\n  searchFuzzyness: 0.6,\n  /**\n   * Debounce delay in milliseconds for search input to prevent excessive calls\n   * Lower values provide more responsive search, higher values improve performance\n   */\n  searchDebounceMs: 100,\n\n  //////////////////////////////////////////\n  // COLORS AND STYLE                     //\n  //////////////////////////////////////////\n\n  /**\n   * Width of the left color marker in search results in pixels\n   */\n  colorStripeWidth: 5,\n\n  /**\n   * Color for bookmark results, expressed as CSS color\n   */\n  bookmarkColor: '#3c8d8d',\n  /**\n   * Color for tab results, expressed as CSS color\n   */\n  tabColor: '#b89aff',\n  /**\n   * Color for history results, expressed as CSS color\n   */\n  historyColor: '#9ece2f',\n  /**\n   * Color for search results, expressed as CSS color\n   */\n  searchColor: '#e1a535',\n  /**\n   * Color for custom search results, expressed as CSS color\n   */\n  customSearchColor: '#ce5c2f',\n  /**\n   * Color for direct URL results, expressed as CSS color\n   */\n  directColor: '#7799CE',\n\n  //////////////////////////////////////////\n  // SEARCH SOURCES                       //\n  //////////////////////////////////////////\n\n  /**\n   * Whether to index and search for open browser tabs\n   */\n  enableTabs: true,\n  /**\n   * Whether to index and search for bookmarks\n   */\n  enableBookmarks: true,\n  /**\n   * Whether to index and search for browsing history\n   * Please note that the history API tends to be slow,\n   * so be careful about how many items you load.\n   */\n  enableHistory: true,\n  /**\n   * Enable or disable search engine links in results\n   * Search engines can be a useful fallback mechanism to search externally for the term\n   */\n  enableSearchEngines: true,\n  /**\n   * Enable help and tips on startup\n   */\n  enableHelp: true,\n  /**\n   * Whether to treat URL like terms as directly navigable.\n   */\n  enableDirectUrl: true,\n\n  //////////////////////////////////////////\n  // DISPLAY OPTIONS                      //\n  //////////////////////////////////////////\n\n  /**\n   * Extract tags from title and display it as a badge with different search priority\n   * Disabling this will also disable the tag overview and the tag search mode.\n   */\n  displayTags: true,\n  /**\n   * Display and search the folder names of bookmarks.\n   * Disabling this will also disable the folder overview and the folder search mode.\n   */\n  displayFolderName: true,\n  /**\n   * Highlight search matches in results.\n   * Reduces rendering performance a little.\n   */\n  displaySearchMatchHighlight: true,\n  /**\n   * Display last visit (time ago)\n   */\n  displayLastVisit: true,\n  /**\n   * Display how many times a result was visited (by history)\n   */\n  displayVisitCounter: false,\n  /**\n   * Display date when a bookmark was added\n   */\n  displayDateAdded: false,\n  /**\n   * Display result score.\n   * The score indicates the relevance of the result and defines the order of results.\n   */\n  displayScore: true,\n\n  //////////////////////////////////////////\n  // BOOKMARKS OPTIONS                    //\n  //////////////////////////////////////////\n\n  /**\n   * Ignores all bookmarks within the folders listed here, including their subfolders.\n   */\n  bookmarksIgnoreFolderList: [],\n\n  //////////////////////////////////////////\n  // TABS OPTIONS                         //\n  //////////////////////////////////////////\n\n  /**\n   * If true, only the current browser window is considered for tab indexing and switching\n   */\n  tabsOnlyCurrentWindow: false,\n  /**\n   * Number of recent tabs to show when popup is opened without search term. Set to 0 to disable.\n   * Limiting this improves performance for users with many open tabs\n   */\n  maxRecentTabsToShow: 16,\n\n  //////////////////////////////////////////\n  // HISTORY OPTIONS                      //\n  //////////////////////////////////////////\n\n  /**\n   * How many days ago the browser history should be fetched\n   */\n  historyDaysAgo: 14,\n  /**\n   * How many history items should be fetched at most\n   * Be careful, as too many items have negative impact on startup and search performance\n   */\n  historyMaxItems: 1024,\n  /**\n   * All history items that where the URL includes the given strings will be skipped\n   */\n  historyIgnoreList: ['extension://'],\n\n  //////////////////////////////////////////\n  // SEARCH ENGINES OPTIONS               //\n  //////////////////////////////////////////\n\n  /**\n   * Search Engine \"Providers\" which are used to pass on the search term via URL\n   *\n   * For each entry here, one result will be created - in the order they are defined.\n   * The URLs need to include the search querystring (see examples).\n   *\n   * If an '$s' is part of the urlPrefix, it will be replaced with the search term.\n   * Otherwise, the search term is appended to the urlPrefix.\n   */\n  searchEngineChoices: [\n    {\n      name: 'Google',\n      urlPrefix: 'https://www.google.com/search?q=$s',\n    },\n    {\n      name: 'Bing',\n      urlPrefix: 'https://www.bing.com/search?q=$s',\n    },\n    {\n      name: 'dict.cc',\n      urlPrefix: 'https://www.dict.cc/?s=$s',\n    },\n  ],\n\n  /**\n   * Allows to define custom search engines with their own custom alias\n   * To trigger a search, type in the alias plus space: `<alias> ` to begin the search\n   * The alias can be one string or an array of strings\n   *\n   * If an '$s' is part of the urlPrefix, it will be replaced with the search term.\n   * Otherwise, the search term is appended to the urlPrefix.\n   *\n   * Optionally, a \"blank\" can be given, which is the URL chosen when there is no search string.\n   * With this, they act like a \"high-priority\" custom bookmark.\n   */\n  customSearchEngines: [\n    {\n      alias: ['g', 'google'],\n      name: 'Google',\n      urlPrefix: 'https://www.google.com/search?q=$s',\n      blank: 'https://www.google.com',\n    },\n    {\n      alias: ['d', 'dict'],\n      name: 'dict.cc',\n      urlPrefix: 'https://www.dict.cc/?s=$s',\n      blank: 'https://www.dict.cc',\n    },\n  ],\n\n  //////////////////////////////////////////\n  // SCORE CALCULATION OPTIONS            //\n  //////////////////////////////////////////\n\n  /**\n   * Filter out all search results below this minimum score\n   */\n  scoreMinScore: 30,\n  /**\n   * Minimum ratio of search term matches to consider a match.\n   * Set to 1 to only return results that match all search terms\n   * Set to 0 to return all results that match at least one search term, although with reduced score\n   *\n   * This setting only applies to precise search\n   */\n  scoreMinSearchTermMatchRatio: 0.6,\n\n  // RESULT TYPE BASE SCORES\n  // Depending on the type of result, they start with a base score\n  // Please make sure that this is not below the minScore :)\n  /**\n   * Base score for bookmark results\n   */\n  scoreBookmarkBaseScore: 100,\n  /**\n   * Base score for tab results\n   */\n  scoreTabBaseScore: 70,\n  /**\n   * Base score for history results\n   */\n  scoreHistoryBaseScore: 45,\n  /**\n   * Base score for search engine choices\n   */\n  scoreSearchEngineBaseScore: 30,\n  /**\n   * Base score for custom search engine choices\n   * This is set very high to ensure that it's the topmost entry\n   */\n  scoreCustomSearchEngineBaseScore: 400,\n  /**\n   * Base score for a direct URL being typed in\n   */\n  scoreDirectUrlScore: 500,\n\n  // FIELD WEIGHTS\n  // Depending on in which field the search match was found,\n  // the match gets a multiplier applied on how important the match is.\n  /** Weight for a title match*/\n  scoreTitleWeight: 1,\n  /** Weight for a tag match*/\n  scoreTagWeight: 0.7,\n  /** Weight for an url match*/\n  scoreUrlWeight: 0.6,\n  /** Weight for a folder match*/\n  scoreFolderWeight: 0.5,\n\n  // BONUS SCORES\n  // If certain conditions apply, extra score points can be added\n  /**\n   * If enabled, bookmarks can add custom bonus scores by putting it in the title\n   * HowTo: Add a ` +<score>` (space, plus sign, whole number) in the title before tags.\n   * Do not add bonus scores more than once in a single bookmark title.\n   * E.g: `Bookmark Title +20` or `Another Bookmark +10 #tag1 #tag2`\n   * */\n  scoreCustomBonusScore: true,\n  /**\n   * For each exact \"includes\" match we add some bonus points\n   */\n  scoreExactIncludesBonus: 5,\n  /**\n   * The minimum characters a search term needs to have to consider a exact includes match\n   */\n  scoreExactIncludesBonusMinChars: 3,\n  /**\n   * Additional score points if title or url starts exactly with the search text.\n   * This comes on top of an include bonus.\n   */\n  scoreExactStartsWithBonus: 10,\n  /**\n   * Additional score points if title matches exactly with the search text.\n   * This comes on top of an include and starts with bonus.\n   */\n  scoreExactEqualsBonus: 15,\n  /**\n   * Additional points for an exact match of a search term tag\n   */\n  scoreExactTagMatchBonus: 10,\n  /**\n   * Additional points for an exact match of a search term folder name\n   */\n  scoreExactFolderMatchBonus: 5,\n  /**\n   * Adds score points for every site visit according to browsing history\n   * Please note that only history items within `history.daysAgo` can be considered,\n   * however the visited counter itself considers your complete history.\n   */\n  scoreVisitedBonusScore: 0.5,\n  /**\n   * Maximum score points for visited bonus\n   */\n  scoreVisitedBonusScoreMaximum: 20,\n  /**\n   * Adds score points when item has been visited recently.\n   * If it has been visited just now, score is maximum\n   * If it has been visited at the end of `historyDaysAgo`, score is 0\n   */\n  scoreRecentBonusScoreMaximum: 20,\n\n  //////////////////////////////////////////\n  // POWER USER OPTIONS                   //\n  //////////////////////////////////////////\n\n  // Those are only meant for power users who know what they're doing\n  // And those options may also not be long-time stable\n\n  /**\n   * If the extension detects that the title is just the URL of the link,\n   * it gets shortened so the result entries are not swamped by long URL patterns\n   */\n  titleLengthRestrictionForUrls: 80,\n\n  /**\n   * Customized options for the fuzzy search library uFuzzy ('@leeoniya/ufuzzy')\n   * @see https://github.com/leeoniya/uFuzzy/blob/main/src/uFuzzy.js#L9\n   */\n  uFuzzyOptions: {},\n}\n\nexport const emptyOptions = {\n  searchStrategy: defaultOptions.searchStrategy,\n}\n\n/**\n * Writes user settings to the sync storage, falls back to local storage\n *\n * @see https://developer.chrome.com/docs/extensions/reference/storage/\n */\nexport async function setUserOptions(userOptions = {}) {\n  return new Promise((resolve, reject) => {\n    try {\n      validateUserOptions(userOptions)\n    } catch (err) {\n      printError(err, 'Could not save user options.')\n      return reject(err)\n    }\n\n    if (ext.browserApi.storage && ext.browserApi.storage.sync) {\n      ext.browserApi.storage.sync.set({ userOptions: userOptions }, () => {\n        if (ext.browserApi.runtime.lastError) {\n          return reject(ext.browserApi.runtime.lastError)\n        }\n        return resolve()\n      })\n    } else {\n      console.warn('No storage API found. Falling back to local Web Storage')\n      window.localStorage.setItem('userOptions', JSON.stringify(userOptions))\n      return resolve()\n    }\n  })\n}\n\n/**\n * Get user options, fall back to default options\n */\nexport async function getUserOptions() {\n  return new Promise((resolve, reject) => {\n    try {\n      if (ext.browserApi.storage && ext.browserApi.storage.sync) {\n        ext.browserApi.storage.sync.get(['userOptions'], (result) => {\n          if (ext.browserApi.runtime.lastError) {\n            return reject(ext.browserApi.runtime.lastError)\n          }\n          const userOptions = result.userOptions || emptyOptions\n          return resolve(userOptions)\n        })\n      } else {\n        console.warn('No storage API found. Falling back to local Web Storage')\n        const userOptionsString = window.localStorage.getItem('userOptions')\n        const userOptions = userOptionsString ? JSON.parse(userOptionsString) : emptyOptions\n        return resolve(userOptions)\n      }\n    } catch (err) {\n      return reject(err)\n    }\n  })\n}\n\n/**\n * Gets the actual effective options based on the default options\n * and the overrides of the user options\n */\nexport async function getEffectiveOptions() {\n  try {\n    const userOptions = await getUserOptions()\n    validateUserOptions(userOptions)\n    return {\n      ...defaultOptions,\n      ...userOptions,\n    }\n  } catch (err) {\n    printError(err, 'Could not get valid user options, falling back to defaults.')\n    return defaultOptions\n  }\n}\n\nexport function validateUserOptions(userOptions) {\n  if (userOptions) {\n    if (typeof userOptions !== 'object') {\n      throw new Error('User options must be a valid YAML / JSON object')\n    }\n    try {\n      JSON.stringify(userOptions)\n    } catch (err) {\n      throw new Error('User options cannot be parsed into JSON: ' + err.message)\n    }\n  }\n}\n\nexport { diffUserOptions } from './optionsDiff.js'\n", "import { defaultOptions } from '../model/options.js'\n\n/**\n * JSON Schema describing the configurable options exposed in the options UI.\n * The schema is intentionally limited to Draft-07 features we actively support\n * in the renderer as well as a small set of custom keywords declared in\n * validation.js.\n */\nexport const optionsSchema = {\n  $id: 'https://github.com/Fannon/search-bookmarks-history-and-tabs/options-schema.json',\n  $schema: 'http://json-schema.org/draft-07/schema#',\n  type: 'object',\n  additionalProperties: false,\n  properties: {\n    debug: {\n      type: 'boolean',\n      default: defaultOptions.debug,\n      description: 'Log additional diagnostic information to help troubleshooting.',\n      'ui:section': 'general',\n    },\n    searchStrategy: {\n      type: 'string',\n      enum: ['precise', 'fuzzy'],\n      default: defaultOptions.searchStrategy,\n      description: 'Search approach to use for matching.',\n      'ui:section': 'search',\n    },\n    searchMaxResults: {\n      type: 'integer',\n      minimum: 1,\n      default: defaultOptions.searchMaxResults,\n      description: 'Maximum number of search results to display.',\n      'ui:section': 'search',\n    },\n    searchMinMatchCharLength: {\n      type: 'integer',\n      minimum: 1,\n      default: defaultOptions.searchMinMatchCharLength,\n      description: 'Minimum length of the search term considered for a match.',\n      'ui:section': 'search',\n    },\n    searchFuzzyness: {\n      type: 'number',\n      minimum: 0,\n      maximum: 1,\n      default: defaultOptions.searchFuzzyness,\n      description: 'Fuzzy search threshold between 0 (precise) and 1 (full fuzziness).',\n      'ui:section': 'search',\n    },\n    searchDebounceMs: {\n      type: 'integer',\n      minimum: 0,\n      default: defaultOptions.searchDebounceMs,\n      description: 'Debounce duration for the search field in milliseconds.',\n      'ui:section': 'search',\n    },\n    colorStripeWidth: {\n      type: 'integer',\n      minimum: 0,\n      maximum: 16,\n      default: defaultOptions.colorStripeWidth,\n      description: 'Width of the accent stripe next to search results in pixels.',\n      'ui:section': 'style',\n    },\n    bookmarkColor: {\n      type: 'string',\n      pattern: '^#([0-9a-fA-F]{3}){1,2}$',\n      default: defaultOptions.bookmarkColor,\n      description: 'Color used for bookmark results.',\n      'ui:section': 'style',\n    },\n    tabColor: {\n      type: 'string',\n      pattern: '^#([0-9a-fA-F]{3}){1,2}$',\n      default: defaultOptions.tabColor,\n      description: 'Color used for tab results.',\n      'ui:section': 'style',\n    },\n    historyColor: {\n      type: 'string',\n      pattern: '^#([0-9a-fA-F]{3}){1,2}$',\n      default: defaultOptions.historyColor,\n      description: 'Color used for history results.',\n      'ui:section': 'style',\n    },\n    searchColor: {\n      type: 'string',\n      pattern: '^#([0-9a-fA-F]{3}){1,2}$',\n      default: defaultOptions.searchColor,\n      description: 'Color used for built-in search engines.',\n      'ui:section': 'style',\n    },\n    customSearchColor: {\n      type: 'string',\n      pattern: '^#([0-9a-fA-F]{3}){1,2}$',\n      default: defaultOptions.customSearchColor,\n      description: 'Color used for custom search engines.',\n      'ui:section': 'style',\n    },\n    directColor: {\n      type: 'string',\n      pattern: '^#([0-9a-fA-F]{3}){1,2}$',\n      default: defaultOptions.directColor,\n      description: 'Color used for direct URL matches.',\n      'ui:section': 'style',\n    },\n    enableTabs: {\n      type: 'boolean',\n      default: defaultOptions.enableTabs,\n      description: 'Index and search open tabs.',\n      'ui:section': 'sources',\n    },\n    enableBookmarks: {\n      type: 'boolean',\n      default: defaultOptions.enableBookmarks,\n      description: 'Index and search bookmarks.',\n      'ui:section': 'sources',\n    },\n    enableHistory: {\n      type: 'boolean',\n      default: defaultOptions.enableHistory,\n      description: 'Index and search browser history.',\n      'ui:section': 'sources',\n    },\n    enableSearchEngines: {\n      type: 'boolean',\n      default: defaultOptions.enableSearchEngines,\n      description: 'Show search engine links for fallback searches.',\n      'ui:section': 'sources',\n    },\n    enableHelp: {\n      type: 'boolean',\n      default: defaultOptions.enableHelp,\n      description: 'Display tips when the popup loads.',\n      'ui:section': 'sources',\n    },\n    enableDirectUrl: {\n      type: 'boolean',\n      default: defaultOptions.enableDirectUrl,\n      description: 'Recognize typed URLs and allow direct navigation.',\n      'ui:section': 'sources',\n    },\n    displayTags: {\n      type: 'boolean',\n      default: defaultOptions.displayTags,\n      description: 'Show and search bookmark tags.',\n      'ui:section': 'display',\n    },\n    displayFolderName: {\n      type: 'boolean',\n      default: defaultOptions.displayFolderName,\n      description: 'Show bookmark folder names in results.',\n      'ui:section': 'display',\n    },\n    displaySearchMatchHighlight: {\n      type: 'boolean',\n      default: defaultOptions.displaySearchMatchHighlight,\n      description: 'Highlight matches within results.',\n      'ui:section': 'display',\n    },\n    displayLastVisit: {\n      type: 'boolean',\n      default: defaultOptions.displayLastVisit,\n      description: 'Display relative time since the last visit.',\n      'ui:section': 'display',\n    },\n    displayVisitCounter: {\n      type: 'boolean',\n      default: defaultOptions.displayVisitCounter,\n      description: 'Display how often an item was visited.',\n      'ui:section': 'display',\n    },\n    displayDateAdded: {\n      type: 'boolean',\n      default: defaultOptions.displayDateAdded,\n      description: 'Display the creation date for bookmarks.',\n      'ui:section': 'display',\n    },\n    displayScore: {\n      type: 'boolean',\n      default: defaultOptions.displayScore,\n      description: 'Display the calculated score next to each result.',\n      'ui:section': 'display',\n    },\n    bookmarksIgnoreFolderList: {\n      type: 'array',\n      items: {\n        type: 'string',\n        minLength: 1,\n      },\n      default: defaultOptions.bookmarksIgnoreFolderList,\n      description: 'Folders whose bookmarks should be excluded from search.',\n      'ui:section': 'bookmarks',\n    },\n    tabsOnlyCurrentWindow: {\n      type: 'boolean',\n      default: defaultOptions.tabsOnlyCurrentWindow,\n      description: 'Limit tab indexing to the current browser window.',\n      'ui:section': 'tabs',\n    },\n    maxRecentTabsToShow: {\n      type: 'integer',\n      minimum: 0,\n      default: defaultOptions.maxRecentTabsToShow,\n      description: 'Number of recent tabs shown when opening the popup without a query.',\n      'ui:section': 'tabs',\n      'x-allowZeroOrMin': 3,\n    },\n    historyDaysAgo: {\n      type: 'integer',\n      minimum: 1,\n      default: defaultOptions.historyDaysAgo,\n      description: 'How many days of history to include.',\n      'ui:section': 'history',\n    },\n    historyMaxItems: {\n      type: 'integer',\n      minimum: 0,\n      default: defaultOptions.historyMaxItems,\n      description: 'Maximum number of history entries to index.',\n      'ui:section': 'history',\n    },\n    historyIgnoreList: {\n      type: 'array',\n      items: {\n        type: 'string',\n        minLength: 1,\n      },\n      default: defaultOptions.historyIgnoreList,\n      description: 'URLs containing these fragments will be skipped from history results.',\n      'ui:section': 'history',\n    },\n    searchEngineChoices: {\n      type: 'array',\n      minItems: 1,\n      items: {\n        $ref: '#/definitions/searchEngine',\n      },\n      default: defaultOptions.searchEngineChoices,\n      description: 'Built-in search engines offered as fallback entries.',\n      'ui:section': 'searchEngines',\n    },\n    customSearchEngines: {\n      type: 'array',\n      items: {\n        $ref: '#/definitions/customSearchEngine',\n      },\n      default: defaultOptions.customSearchEngines,\n      description: 'Custom search engines with optional aliases and blank URLs.',\n      'ui:section': 'searchEngines',\n    },\n    scoreMinScore: {\n      type: 'integer',\n      minimum: 0,\n      default: defaultOptions.scoreMinScore,\n      description: 'Filter out results scoring below this threshold.',\n      'ui:section': 'scores',\n    },\n    scoreMinSearchTermMatchRatio: {\n      type: 'number',\n      minimum: 0,\n      maximum: 1,\n      default: defaultOptions.scoreMinSearchTermMatchRatio,\n      description: 'Required match ratio for precise search.',\n      'ui:section': 'scores',\n    },\n    scoreBookmarkBaseScore: {\n      type: 'integer',\n      default: defaultOptions.scoreBookmarkBaseScore,\n      description: 'Base score applied to bookmark results.',\n      'ui:section': 'scores',\n    },\n    scoreTabBaseScore: {\n      type: 'integer',\n      default: defaultOptions.scoreTabBaseScore,\n      description: 'Base score applied to open tab results.',\n      'ui:section': 'scores',\n    },\n    scoreHistoryBaseScore: {\n      type: 'integer',\n      default: defaultOptions.scoreHistoryBaseScore,\n      description: 'Base score applied to history results.',\n      'ui:section': 'scores',\n    },\n    scoreSearchEngineBaseScore: {\n      type: 'integer',\n      default: defaultOptions.scoreSearchEngineBaseScore,\n      description: 'Base score applied to default search engines.',\n      'ui:section': 'scores',\n    },\n    scoreCustomSearchEngineBaseScore: {\n      type: 'integer',\n      default: defaultOptions.scoreCustomSearchEngineBaseScore,\n      description: 'Base score applied to custom search engines.',\n      'ui:section': 'scores',\n    },\n    scoreDirectUrlScore: {\n      type: 'integer',\n      default: defaultOptions.scoreDirectUrlScore,\n      description: 'Base score applied when typing a direct URL.',\n      'ui:section': 'scores',\n    },\n    scoreTitleWeight: {\n      type: 'number',\n      default: defaultOptions.scoreTitleWeight,\n      description: 'Weight multiplier for matches in titles.',\n      'ui:section': 'scores',\n    },\n    scoreTagWeight: {\n      type: 'number',\n      default: defaultOptions.scoreTagWeight,\n      description: 'Weight multiplier for matches in tags.',\n      'ui:section': 'scores',\n    },\n    scoreUrlWeight: {\n      type: 'number',\n      default: defaultOptions.scoreUrlWeight,\n      description: 'Weight multiplier for matches in URLs.',\n      'ui:section': 'scores',\n    },\n    scoreFolderWeight: {\n      type: 'number',\n      default: defaultOptions.scoreFolderWeight,\n      description: 'Weight multiplier for matches in folder names.',\n      'ui:section': 'scores',\n    },\n    scoreCustomBonusScore: {\n      type: 'boolean',\n      default: defaultOptions.scoreCustomBonusScore,\n      description: 'Allow bookmark titles to embed manual bonus scores.',\n      'ui:section': 'scores',\n    },\n    scoreExactIncludesBonus: {\n      type: 'integer',\n      default: defaultOptions.scoreExactIncludesBonus,\n      description: 'Bonus score for exact include matches.',\n      'ui:section': 'scores',\n    },\n    scoreExactIncludesBonusMinChars: {\n      type: 'integer',\n      minimum: 1,\n      default: defaultOptions.scoreExactIncludesBonusMinChars,\n      description: 'Minimum characters needed for exact include bonus.',\n      'ui:section': 'scores',\n    },\n    scoreExactStartsWithBonus: {\n      type: 'integer',\n      default: defaultOptions.scoreExactStartsWithBonus,\n      description: 'Bonus score when title or URL starts with the search term.',\n      'ui:section': 'scores',\n    },\n    scoreExactEqualsBonus: {\n      type: 'integer',\n      default: defaultOptions.scoreExactEqualsBonus,\n      description: 'Bonus score when title matches exactly.',\n      'ui:section': 'scores',\n    },\n    scoreExactTagMatchBonus: {\n      type: 'integer',\n      default: defaultOptions.scoreExactTagMatchBonus,\n      description: 'Bonus score for exact tag matches.',\n      'ui:section': 'scores',\n    },\n    scoreExactFolderMatchBonus: {\n      type: 'integer',\n      default: defaultOptions.scoreExactFolderMatchBonus,\n      description: 'Bonus score for exact folder matches.',\n      'ui:section': 'scores',\n    },\n    scoreVisitedBonusScore: {\n      type: 'number',\n      minimum: 0,\n      default: defaultOptions.scoreVisitedBonusScore,\n      description: 'Bonus score per visit from browsing history.',\n      'ui:section': 'scores',\n    },\n    scoreVisitedBonusScoreMaximum: {\n      type: 'integer',\n      minimum: 0,\n      default: defaultOptions.scoreVisitedBonusScoreMaximum,\n      description: 'Upper bound for visit-based bonus score.',\n      'ui:section': 'scores',\n    },\n    scoreRecentBonusScoreMaximum: {\n      type: 'integer',\n      minimum: 0,\n      default: defaultOptions.scoreRecentBonusScoreMaximum,\n      description: 'Maximum bonus for recently visited items.',\n      'ui:section': 'scores',\n    },\n    titleLengthRestrictionForUrls: {\n      type: 'integer',\n      minimum: 0,\n      default: defaultOptions.titleLengthRestrictionForUrls,\n      description: 'Maximum URL length before shortening titles.',\n      'ui:section': 'powerUsers',\n    },\n    uFuzzyOptions: {\n      type: 'object',\n      default: defaultOptions.uFuzzyOptions,\n      description: 'Advanced configuration for the uFuzzy search library.',\n      additionalProperties: true,\n      'ui:section': 'powerUsers',\n    },\n  },\n  definitions: {\n    searchEngine: {\n      type: 'object',\n      required: ['name', 'urlPrefix'],\n      additionalProperties: false,\n      properties: {\n        name: {\n          type: 'string',\n          minLength: 1,\n        },\n        urlPrefix: {\n          type: 'string',\n          minLength: 1,\n        },\n      },\n    },\n    customSearchEngine: {\n      type: 'object',\n      required: ['alias', 'name', 'urlPrefix'],\n      additionalProperties: false,\n      properties: {\n        alias: {\n          oneOf: [\n            {\n              type: 'array',\n              minItems: 1,\n              items: {\n                type: 'string',\n                minLength: 1,\n              },\n            },\n            {\n              type: 'string',\n              minLength: 1,\n            },\n          ],\n        },\n        name: {\n          type: 'string',\n          minLength: 1,\n        },\n        urlPrefix: {\n          type: 'string',\n          minLength: 1,\n        },\n        blank: {\n          type: 'string',\n          minLength: 1,\n        },\n      },\n    },\n  },\n}\n\nexport const uiSchema = {\n  sectionOrder: [\n    'general',\n    'search',\n    'style',\n    'sources',\n    'display',\n    'bookmarks',\n    'tabs',\n    'history',\n    'searchEngines',\n    'scores',\n    'powerUsers',\n  ],\n  sections: {\n    general: {\n      title: 'General',\n      description: 'Configure extension wide behaviour.',\n    },\n    search: {\n      title: 'Search',\n      description: 'Tune core search behaviour and responsiveness.',\n    },\n    style: {\n      title: 'Style',\n      description: 'Customize colors and visual accents.',\n    },\n    sources: {\n      title: 'Sources',\n      description: 'Enable or disable data sources.',\n    },\n    display: {\n      title: 'Display',\n      description: 'Control which metadata is rendered for each result.',\n    },\n    bookmarks: {\n      title: 'Bookmarks',\n      description: 'Fine tune bookmark indexing.',\n    },\n    tabs: {\n      title: 'Tabs',\n      description: 'Control how open tabs are handled.',\n    },\n    history: {\n      title: 'History',\n      description: 'Adjust browser history indexing.',\n    },\n    searchEngines: {\n      title: 'Search Engines',\n      description: 'Curate built-in and custom search engine shortcuts.',\n    },\n    scores: {\n      title: 'Scores',\n      description: 'Modify scoring heuristics.',\n    },\n    powerUsers: {\n      title: 'Power Users',\n      description: 'Advanced options for experienced users.',\n      collapsedByDefault: true,\n    },\n  },\n  fields: {\n    debug: { control: 'switch' },\n    searchStrategy: {\n      control: 'segmented',\n      options: [\n        { value: 'precise', label: 'Precise' },\n        { value: 'fuzzy', label: 'Fuzzy' },\n      ],\n    },\n    searchMaxResults: { control: 'number', unit: 'results', step: 1 },\n    searchMinMatchCharLength: { control: 'number', step: 1 },\n    searchFuzzyness: { control: 'slider', step: 0.05 },\n    searchDebounceMs: { control: 'number', unit: 'ms', step: 10 },\n    colorStripeWidth: { control: 'number', unit: 'px', step: 1 },\n    bookmarkColor: { control: 'color' },\n    tabColor: { control: 'color' },\n    historyColor: { control: 'color' },\n    searchColor: { control: 'color' },\n    customSearchColor: { control: 'color' },\n    directColor: { control: 'color' },\n    enableTabs: { control: 'switch' },\n    enableBookmarks: { control: 'switch' },\n    enableHistory: { control: 'switch' },\n    enableSearchEngines: { control: 'switch' },\n    enableHelp: { control: 'switch' },\n    enableDirectUrl: { control: 'switch' },\n    displayTags: { control: 'switch' },\n    displayFolderName: { control: 'switch' },\n    displaySearchMatchHighlight: { control: 'switch' },\n    displayLastVisit: { control: 'switch' },\n    displayVisitCounter: { control: 'switch' },\n    displayDateAdded: { control: 'switch' },\n    displayScore: { control: 'switch' },\n    bookmarksIgnoreFolderList: { control: 'stringList', placeholder: 'Folder name' },\n    tabsOnlyCurrentWindow: { control: 'switch' },\n    maxRecentTabsToShow: { control: 'number', step: 1 },\n    historyDaysAgo: { control: 'number', step: 1, unit: 'days' },\n    historyMaxItems: { control: 'number', step: 32 },\n    historyIgnoreList: { control: 'stringList', placeholder: 'URL fragment' },\n    searchEngineChoices: { control: 'objectList', itemName: 'Search Engine' },\n    customSearchEngines: { control: 'objectList', itemName: 'Custom Search Engine' },\n    scoreMinScore: { control: 'number', step: 1 },\n    scoreMinSearchTermMatchRatio: { control: 'slider', step: 0.05 },\n    scoreBookmarkBaseScore: { control: 'number', step: 1 },\n    scoreTabBaseScore: { control: 'number', step: 1 },\n    scoreHistoryBaseScore: { control: 'number', step: 1 },\n    scoreSearchEngineBaseScore: { control: 'number', step: 1 },\n    scoreCustomSearchEngineBaseScore: { control: 'number', step: 1 },\n    scoreDirectUrlScore: { control: 'number', step: 1 },\n    scoreTitleWeight: { control: 'number', step: 0.1 },\n    scoreTagWeight: { control: 'number', step: 0.1 },\n    scoreUrlWeight: { control: 'number', step: 0.1 },\n    scoreFolderWeight: { control: 'number', step: 0.1 },\n    scoreCustomBonusScore: { control: 'switch' },\n    scoreExactIncludesBonus: { control: 'number', step: 1 },\n    scoreExactIncludesBonusMinChars: { control: 'number', step: 1 },\n    scoreExactStartsWithBonus: { control: 'number', step: 1 },\n    scoreExactEqualsBonus: { control: 'number', step: 1 },\n    scoreExactTagMatchBonus: { control: 'number', step: 1 },\n    scoreExactFolderMatchBonus: { control: 'number', step: 1 },\n    scoreVisitedBonusScore: { control: 'number', step: 0.1 },\n    scoreVisitedBonusScoreMaximum: { control: 'number', step: 1 },\n    scoreRecentBonusScoreMaximum: { control: 'number', step: 1 },\n    titleLengthRestrictionForUrls: { control: 'number', step: 5 },\n    uFuzzyOptions: { control: 'json', advanced: true },\n    'searchEngineChoices[].name': { label: 'Name' },\n    'searchEngineChoices[].urlPrefix': { label: 'URL Prefix' },\n    'customSearchEngines[].alias': { control: 'stringList', label: 'Aliases' },\n    'customSearchEngines[].name': { label: 'Name' },\n    'customSearchEngines[].urlPrefix': { label: 'URL Prefix' },\n    'customSearchEngines[].blank': { label: 'Blank (optional)' },\n  },\n}\n", "import { getUserOptions } from '../model/options.js'\nimport { computeOverrides } from '../model/optionsDiff.js'\nimport { deepClone, deepEqual } from '../helper/objectUtils.js'\n\n/**\n * Loads default and user options and returns a form state object that keeps\n * track of the current form data alongside customization metadata.\n */\nexport async function createFormState(defaultOptions) {\n  const userOptions = await getUserOptions()\n  const defaults = deepClone(defaultOptions)\n  const overrides = deepClone(userOptions || {})\n  const formData = mergeOptions(defaults, overrides)\n\n  return {\n    defaults,\n    formData,\n    customizedPaths: collectCustomizedPaths(defaults, formData),\n  }\n}\n\nexport function updateField(state, path, value) {\n  setAtPath(state.formData, path, value)\n  refreshCustomization(state, path)\n}\n\nexport function resetField(state, path) {\n  const defaultValue = getAtPath(state.defaults, path)\n  if (typeof defaultValue === 'undefined') {\n    deleteAtPath(state.formData, path)\n  } else {\n    setAtPath(state.formData, path, deepClone(defaultValue))\n  }\n  refreshCustomization(state, path)\n}\n\nexport function resetAll(state) {\n  state.formData = deepClone(state.defaults)\n  state.customizedPaths = collectCustomizedPaths(state.defaults, state.formData)\n}\n\nexport function appendItem(state, path, item) {\n  const current = getAtPath(state.formData, path) || []\n  const next = Array.isArray(current) ? [...current, item] : [item]\n  setAtPath(state.formData, path, next)\n  refreshCustomization(state, path)\n}\n\nexport function removeItem(state, path, index) {\n  const current = getAtPath(state.formData, path)\n  if (!Array.isArray(current)) {\n    return\n  }\n  const next = current.slice()\n  next.splice(index, 1)\n  setAtPath(state.formData, path, next)\n  refreshCustomization(state, path)\n}\n\nexport function getOverrides(state) {\n  return computeOverrides(state.formData, state.defaults)\n}\n\nexport function isCustomized(state, path) {\n  return state.customizedPaths.has(path.join('.'))\n}\n\nexport function customizedCount(state) {\n  return state.customizedPaths.size\n}\n\nexport function collectCustomizedPaths(defaults, current, basePath = []) {\n  const customized = new Set()\n  walkCustomization(defaults, current, basePath, customized)\n  return customized\n}\n\nfunction walkCustomization(defaultValue, currentValue, basePath, customized) {\n  if (!deepEqual(defaultValue, currentValue)) {\n    const pathKey = basePath.join('.')\n    if (pathKey.length) {\n      customized.add(pathKey)\n    }\n  }\n\n  if (Array.isArray(currentValue) || Array.isArray(defaultValue)) {\n    const max = Math.max(\n      Array.isArray(defaultValue) ? defaultValue.length : 0,\n      Array.isArray(currentValue) ? currentValue.length : 0\n    )\n    for (let index = 0; index < max; index += 1) {\n      const nextPath = [...basePath, String(index)]\n      const defaultChild = Array.isArray(defaultValue) ? defaultValue[index] : undefined\n      const currentChild = Array.isArray(currentValue) ? currentValue[index] : undefined\n      walkCustomization(defaultChild, currentChild, nextPath, customized)\n    }\n    return\n  }\n\n  if (\n    currentValue &&\n    typeof currentValue === 'object' &&\n    !Array.isArray(currentValue)\n  ) {\n    const keys = new Set([\n      ...Object.keys(defaultValue || {}),\n      ...Object.keys(currentValue || {}),\n    ])\n    for (const key of keys) {\n      const nextPath = [...basePath, key]\n      walkCustomization(\n        defaultValue ? defaultValue[key] : undefined,\n        currentValue ? currentValue[key] : undefined,\n        nextPath,\n        customized\n      )\n    }\n  }\n}\n\nfunction refreshCustomization(state, path) {\n  for (let length = path.length; length >= 1; length -= 1) {\n    const slice = path.slice(0, length)\n    const pathKey = slice.join('.')\n    const defaultValue = getAtPath(state.defaults, slice)\n    const currentValue = getAtPath(state.formData, slice)\n    if (deepEqual(defaultValue, currentValue)) {\n      state.customizedPaths.delete(pathKey)\n    } else {\n      state.customizedPaths.add(pathKey)\n    }\n  }\n}\n\nfunction mergeOptions(defaults, overrides) {\n  const merged = deepClone(defaults)\n  if (overrides && typeof overrides === 'object') {\n    for (const [key, value] of Object.entries(overrides)) {\n      merged[key] = deepClone(value)\n    }\n  }\n  return merged\n}\n\nexport function getAtPath(object, path) {\n  return path.reduce((accumulator, segment) => {\n    if (accumulator === undefined || accumulator === null) {\n      return undefined\n    }\n    return accumulator[segment]\n  }, object)\n}\n\nexport function setAtPath(object, path, value) {\n  if (!path.length) {\n    throw new Error('Path must contain at least one segment')\n  }\n  let target = object\n  for (let index = 0; index < path.length - 1; index += 1) {\n    const segment = path[index]\n    const nextSegment = path[index + 1]\n    const expectsArray = isArrayIndex(nextSegment)\n    let currentValue = target[segment]\n\n    if (currentValue === undefined || currentValue === null) {\n      currentValue = expectsArray ? [] : {}\n      target[segment] = currentValue\n    } else if (expectsArray && !Array.isArray(currentValue)) {\n      currentValue = Array.isArray(currentValue) ? currentValue : [currentValue]\n      target[segment] = currentValue\n    } else if (!expectsArray && (typeof currentValue !== 'object' || Array.isArray(currentValue))) {\n      currentValue = {}\n      target[segment] = currentValue\n    }\n\n    target = currentValue\n  }\n  const lastSegment = path[path.length - 1]\n  if (Array.isArray(target) && isArrayIndex(lastSegment)) {\n    target[Number(lastSegment)] = value\n  } else {\n    target[lastSegment] = value\n  }\n}\n\nexport function deleteAtPath(object, path) {\n  if (!path.length) {\n    return\n  }\n  let target = object\n  for (let index = 0; index < path.length - 1; index += 1) {\n    const segment = path[index]\n    if (target[segment] === undefined || target[segment] === null) {\n      return\n    }\n    target = target[segment]\n  }\n  const lastSegment = path[path.length - 1]\n  if (Array.isArray(target)) {\n    target.splice(Number(lastSegment), 1)\n  } else {\n    delete target[lastSegment]\n  }\n}\n\nfunction isArrayIndex(segment) {\n  if (typeof segment === 'number') {\n    return Number.isInteger(segment) && segment >= 0\n  }\n  if (typeof segment === 'string') {\n    return /^[0-9]+$/.test(segment)\n  }\n  return false\n}\n", "import { getAtPath } from './formState.js'\nimport { deepClone, isPlainObject } from '../helper/objectUtils.js'\n\nexport function renderOptionsForm({\n  container,\n  schema,\n  uiSchema,\n  state,\n  errors = new Map(),\n  customizedCount,\n  sectionState,\n  isCustomized,\n  handlers,\n}) {\n  const errorMap = errors instanceof Map ? errors : new Map(errors)\n\n  container.innerHTML = ''\n\n  const root = document.createElement('div')\n  root.className = 'options-app'\n\n  const header = createHeader(customizedCount, handlers)\n  root.appendChild(header)\n\n  const errorBanner = createErrorBanner(errorMap, handlers)\n  if (errorBanner) {\n    root.appendChild(errorBanner)\n  }\n\n  const sectionsWrapper = document.createElement('div')\n  sectionsWrapper.className = 'options-sections'\n\n  const fieldsBySection = groupFieldsBySection(schema)\n  for (const sectionId of uiSchema.sectionOrder) {\n    const fields = fieldsBySection.get(sectionId)\n    if (!fields || fields.length === 0) {\n      continue\n    }\n    const sectionMeta = uiSchema.sections[sectionId] || { title: sectionId }\n    const sectionElement = renderSection({\n      sectionId,\n      sectionMeta,\n      fields,\n      schema,\n      uiSchema,\n      state,\n      errors: errorMap,\n      sectionState,\n      isCustomized,\n      handlers,\n    })\n    sectionsWrapper.appendChild(sectionElement)\n  }\n\n  root.appendChild(sectionsWrapper)\n  container.appendChild(root)\n}\n\nfunction createHeader(customizedCount, handlers) {\n  const header = document.createElement('header')\n  header.className = 'options-header'\n\n  const summary = document.createElement('div')\n  summary.className = 'options-header__summary'\n  const title = document.createElement('h1')\n  title.textContent = 'Extension Options'\n  summary.appendChild(title)\n\n  const customized = document.createElement('div')\n  customized.className = 'options-header__customized'\n  customized.textContent =\n    customizedCount === 1 ? '1 customized field' : `${customizedCount} customized fields`\n  summary.appendChild(customized)\n\n  const actions = document.createElement('div')\n  actions.className = 'options-header__actions'\n\n  const resetButton = document.createElement('button')\n  resetButton.type = 'button'\n  resetButton.className = 'options-button options-button--secondary'\n  resetButton.textContent = 'Reset all to defaults'\n  resetButton.addEventListener('click', () => handlers.onResetAll())\n  actions.appendChild(resetButton)\n\n  const downloadButton = document.createElement('button')\n  downloadButton.type = 'button'\n  downloadButton.className = 'options-button options-button--ghost'\n  downloadButton.textContent = 'Download overrides (YAML)'\n  downloadButton.addEventListener('click', () => handlers.onDownload())\n  actions.appendChild(downloadButton)\n\n  const saveButton = document.createElement('button')\n  saveButton.type = 'button'\n  saveButton.className = 'options-button options-button--primary'\n  saveButton.textContent = 'Save changes'\n  saveButton.addEventListener('click', () => handlers.onSubmit())\n  actions.appendChild(saveButton)\n\n  header.appendChild(summary)\n  header.appendChild(actions)\n  return header\n}\n\nfunction createErrorBanner(errors, handlers) {\n  if (!errors || errors.size === 0) {\n    return null\n  }\n  const banner = document.createElement('div')\n  banner.className = 'options-error-banner'\n\n  const heading = document.createElement('strong')\n  heading.textContent = 'Please review the highlighted fields.'\n  banner.appendChild(heading)\n\n  const list = document.createElement('ul')\n  list.className = 'options-error-banner__list'\n\n  let shown = 0\n  for (const [path, messages] of errors.entries()) {\n    if (shown >= 3 || messages.length === 0) {\n      continue\n    }\n    const item = document.createElement('li')\n    const button = document.createElement('button')\n    button.type = 'button'\n    button.className = 'options-link-button'\n    button.textContent = messages[0]\n    button.addEventListener('click', () => handlers.onFocus(path))\n    item.appendChild(button)\n    list.appendChild(item)\n    shown += 1\n  }\n\n  if (shown > 0) {\n    banner.appendChild(list)\n  }\n\n  if (errors.size > shown) {\n    const more = document.createElement('p')\n    more.className = 'options-error-banner__more'\n    more.textContent = `+${errors.size - shown} more issue(s)`\n    banner.appendChild(more)\n  }\n\n  return banner\n}\n\nfunction renderSection({\n  sectionId,\n  sectionMeta,\n  fields,\n  schema,\n  uiSchema,\n  state,\n  errors,\n  sectionState,\n  isCustomized,\n  handlers,\n}) {\n  const section = document.createElement('section')\n  section.className = 'options-section'\n  section.dataset.section = sectionId\n\n  const header = document.createElement('header')\n  header.className = 'options-section__header'\n\n  const toggle = document.createElement('button')\n  toggle.type = 'button'\n  toggle.className = 'options-section__toggle'\n  toggle.textContent = sectionMeta.title\n  toggle.addEventListener('click', () => {\n    const collapsed = sectionState[sectionId] ?? !!sectionMeta.collapsedByDefault\n    handlers.onToggleSection(sectionId, !collapsed)\n  })\n  header.appendChild(toggle)\n\n  if (sectionMeta.description) {\n    const description = document.createElement('p')\n    description.className = 'options-section__description'\n    description.textContent = sectionMeta.description\n    header.appendChild(description)\n  }\n\n  section.appendChild(header)\n\n  const collapsed = sectionState[sectionId] ?? !!sectionMeta.collapsedByDefault\n  const body = document.createElement('div')\n  body.className = 'options-section__body'\n  if (collapsed) {\n    section.classList.add('options-section--collapsed')\n    body.hidden = true\n  }\n\n  for (const fieldName of fields) {\n    const fieldSchema = schema.properties[fieldName]\n    const fieldPath = [fieldName]\n    const fieldValue = getAtPath(state.formData, fieldPath)\n    const uiField = resolveUiFieldConfig(uiSchema, fieldName, fieldPath)\n    const fieldElement = renderField({\n      fieldName,\n      schema,\n      fieldSchema,\n      uiField,\n      path: fieldPath,\n      value: fieldValue,\n      errors,\n      isCustomized,\n      handlers,\n      uiSchema,\n      state,\n      variant: 'root',\n    })\n    body.appendChild(fieldElement)\n  }\n\n  section.appendChild(body)\n  return section\n}\n\nfunction renderField({\n  fieldName,\n  schema,\n  fieldSchema,\n  uiField,\n  path,\n  value,\n  errors,\n  isCustomized,\n  handlers,\n  uiSchema,\n  state,\n  variant,\n}) {\n  const resolvedSchema = resolveSchemaVariant(fieldSchema, value, schema)\n  const fieldErrors = collectErrorsForPath(errors, path)\n\n  const container = document.createElement('div')\n  container.className = 'options-field'\n  if (variant === 'nested') {\n    container.classList.add('options-field--nested')\n  }\n  container.dataset.path = path.join('.')\n\n  if (isCustomized(path)) {\n    container.classList.add('options-field--customized')\n  }\n  if (fieldErrors.length > 0) {\n    container.classList.add('options-field--error')\n  }\n\n  const header = document.createElement('div')\n  header.className = 'options-field__header'\n\n  const label = document.createElement('label')\n  label.className = 'options-field__label'\n  label.textContent = uiField.label || humanize(fieldName)\n  header.appendChild(label)\n\n  const resetButton = document.createElement('button')\n  resetButton.type = 'button'\n  resetButton.className = 'options-link-button'\n  resetButton.textContent = 'Reset'\n  resetButton.addEventListener('click', () => handlers.onResetField(path))\n  header.appendChild(resetButton)\n\n  const controlWrapper = document.createElement('div')\n  controlWrapper.className = 'options-field__control'\n  const control = createControl({\n    schema,\n    fieldSchema: resolvedSchema,\n    uiField,\n    path,\n    value,\n    handlers,\n    uiSchema,\n    state,\n    errors,\n    isCustomized,\n  })\n  controlWrapper.appendChild(control)\n\n  container.appendChild(header)\n  container.appendChild(controlWrapper)\n\n  if (resolvedSchema.description) {\n    const description = document.createElement('p')\n    description.className = 'options-field__description'\n    description.textContent = resolvedSchema.description\n    container.appendChild(description)\n  }\n\n  if (fieldErrors.length > 0) {\n    const list = document.createElement('ul')\n    list.className = 'options-field__errors'\n    for (const message of fieldErrors) {\n      const item = document.createElement('li')\n      item.textContent = message\n      list.appendChild(item)\n    }\n    container.appendChild(list)\n  }\n\n  return container\n}\n\nfunction createControl({\n  schema,\n  fieldSchema,\n  uiField,\n  path,\n  value,\n  handlers,\n  uiSchema,\n  state,\n  errors,\n  isCustomized,\n}) {\n  const controlType = resolveControlType(fieldSchema, uiField)\n  switch (controlType) {\n    case 'switch':\n      return createSwitchControl(path, value, handlers)\n    case 'segmented':\n      return createSegmentedControl(path, fieldSchema, uiField, value, handlers)\n    case 'number':\n      return createNumberControl(path, fieldSchema, uiField, value, handlers)\n    case 'slider':\n      return createSliderControl(path, fieldSchema, uiField, value, handlers)\n    case 'color':\n      return createColorControl(path, value, handlers)\n    case 'select':\n      return createSelectControl(path, fieldSchema, value, handlers)\n    case 'stringList':\n      return createStringListControl(path, state, handlers)\n    case 'objectList':\n      return createObjectListControl({\n        schema,\n        fieldSchema,\n        uiSchema,\n        state,\n        handlers,\n        errors,\n        isCustomized,\n        path,\n      })\n    case 'json':\n      return createJsonControl(path, value, handlers)\n    default:\n      return createTextControl(path, value, handlers)\n  }\n}\n\nfunction createSwitchControl(path, value, handlers) {\n  const input = document.createElement('input')\n  input.type = 'checkbox'\n  input.checked = !!value\n  input.addEventListener('change', () => handlers.onFieldChange(path, input.checked))\n  return input\n}\n\nfunction createSegmentedControl(path, schema, uiField, value, handlers) {\n  const wrapper = document.createElement('div')\n  wrapper.className = 'options-segmented'\n  const options = uiField.options || (schema.enum || []).map((option) => ({ value: option, label: humanize(option) }))\n\n  for (const option of options) {\n    const button = document.createElement('button')\n    button.type = 'button'\n    button.className = 'options-segmented__option'\n    button.dataset.value = option.value\n    button.textContent = option.label\n    if (option.value === value) {\n      button.classList.add('is-active')\n    }\n    button.addEventListener('click', () => handlers.onFieldChange(path, option.value))\n    wrapper.appendChild(button)\n  }\n\n  return wrapper\n}\n\nfunction createNumberControl(path, schema, uiField, value, handlers) {\n  const input = document.createElement('input')\n  input.type = 'number'\n  if (schema.minimum !== undefined) {\n    input.min = schema.minimum\n  }\n  if (schema.maximum !== undefined) {\n    input.max = schema.maximum\n  }\n  if (uiField.step !== undefined) {\n    input.step = uiField.step\n  }\n  input.value = value ?? ''\n  input.addEventListener('change', () => {\n    const parsed = input.value === '' ? undefined : Number(input.value)\n    handlers.onFieldChange(path, parsed)\n  })\n  return input\n}\n\nfunction createSliderControl(path, schema, uiField, value, handlers) {\n  const wrapper = document.createElement('div')\n  wrapper.className = 'options-slider'\n\n  const range = document.createElement('input')\n  range.type = 'range'\n  range.min = schema.minimum ?? 0\n  range.max = schema.maximum ?? 1\n  range.step = uiField.step ?? 0.01\n  range.value = value ?? range.min\n\n  const display = document.createElement('span')\n  display.className = 'options-slider__display'\n  display.textContent = formatNumber(value)\n\n  range.addEventListener('input', () => {\n    const parsed = Number(range.value)\n    display.textContent = formatNumber(parsed)\n    handlers.onFieldChange(path, parsed)\n  })\n\n  wrapper.appendChild(range)\n  wrapper.appendChild(display)\n  return wrapper\n}\n\nfunction createColorControl(path, value, handlers) {\n  const wrapper = document.createElement('div')\n  wrapper.className = 'options-color'\n\n  const preview = document.createElement('span')\n  preview.className = 'options-color__preview'\n  preview.style.backgroundColor = value || '#000000'\n\n  const input = document.createElement('input')\n  input.type = 'color'\n  input.value = value || '#000000'\n  input.addEventListener('input', () => {\n    preview.style.backgroundColor = input.value\n    handlers.onFieldChange(path, input.value)\n  })\n\n  wrapper.appendChild(preview)\n  wrapper.appendChild(input)\n  return wrapper\n}\n\nfunction createSelectControl(path, schema, value, handlers) {\n  const select = document.createElement('select')\n  for (const optionValue of schema.enum || []) {\n    const option = document.createElement('option')\n    option.value = optionValue\n    option.textContent = humanize(optionValue)\n    if (optionValue === value) {\n      option.selected = true\n    }\n    select.appendChild(option)\n  }\n  select.addEventListener('change', () => handlers.onFieldChange(path, select.value))\n  return select\n}\n\nfunction createTextControl(path, value, handlers) {\n  const input = document.createElement('input')\n  input.type = 'text'\n  input.value = value ?? ''\n  input.addEventListener('change', () => handlers.onFieldChange(path, input.value))\n  return input\n}\n\nfunction createStringListControl(path, state, handlers) {\n  const wrapper = document.createElement('div')\n  wrapper.className = 'options-string-list'\n\n  const raw = getAtPath(state.formData, path)\n  let items\n  if (Array.isArray(raw)) {\n    items = raw\n  } else if (raw === undefined || raw === null || raw === '') {\n    items = []\n  } else {\n    items = [raw]\n  }\n\n  const list = document.createElement('div')\n  list.className = 'options-string-list__items'\n\n  items.forEach((itemValue, index) => {\n    const row = document.createElement('div')\n    row.className = 'options-string-list__item'\n\n    const input = document.createElement('input')\n    input.type = 'text'\n    input.value = itemValue ?? ''\n    input.addEventListener('input', () => {\n      handlers.onFieldChange([...path, String(index)], input.value)\n    })\n    row.appendChild(input)\n\n    const remove = document.createElement('button')\n    remove.type = 'button'\n    remove.className = 'options-link-button'\n    remove.textContent = 'Remove'\n    remove.addEventListener('click', () => handlers.onRemoveItem(path, index))\n    row.appendChild(remove)\n\n    list.appendChild(row)\n  })\n\n  const addButton = document.createElement('button')\n  addButton.type = 'button'\n  addButton.className = 'options-button options-button--ghost'\n  addButton.textContent = 'Add entry'\n  addButton.addEventListener('click', () => handlers.onAddItem(path, ''))\n\n  wrapper.appendChild(list)\n  wrapper.appendChild(addButton)\n  return wrapper\n}\n\nfunction createObjectListControl({ schema, fieldSchema, uiSchema, state, handlers, errors, isCustomized, path }) {\n  const wrapper = document.createElement('div')\n  wrapper.className = 'options-object-list'\n\n  const items = getAtPath(state.formData, path) || []\n  const resolvedItemSchema = resolveItemSchema(schema, fieldSchema)\n\n  const list = document.createElement('div')\n  list.className = 'options-object-list__items'\n\n  items.forEach((itemValue, index) => {\n    const item = document.createElement('div')\n    item.className = 'options-object-list__item'\n\n    const header = document.createElement('div')\n    header.className = 'options-object-list__item-header'\n    const title = document.createElement('h4')\n    const itemLabel = uiSchema.fields[path[0]]?.itemName || 'Item'\n    title.textContent = `${itemLabel} ${index + 1}`\n    header.appendChild(title)\n\n    const remove = document.createElement('button')\n    remove.type = 'button'\n    remove.className = 'options-link-button'\n    remove.textContent = 'Remove'\n    remove.addEventListener('click', () => handlers.onRemoveItem(path, index))\n    header.appendChild(remove)\n\n    item.appendChild(header)\n\n    const body = document.createElement('div')\n    body.className = 'options-object-list__item-body'\n\n    const properties = resolvedItemSchema.properties || {}\n    for (const [propKey, propSchema] of Object.entries(properties)) {\n      const nestedPath = [...path, String(index), propKey]\n      const nestedValue = itemValue ? itemValue[propKey] : undefined\n      const nestedUiField = resolveUiFieldConfig(uiSchema, propKey, nestedPath)\n      const fieldElement = renderField({\n        fieldName: propKey,\n        schema,\n        fieldSchema: resolveSchemaVariant(propSchema, nestedValue, schema),\n        uiField: nestedUiField,\n        path: nestedPath,\n        value: nestedValue,\n        errors,\n        isCustomized,\n        handlers,\n        uiSchema,\n        state,\n        variant: 'nested',\n      })\n      body.appendChild(fieldElement)\n    }\n\n    item.appendChild(body)\n    list.appendChild(item)\n  })\n\n  const addButton = document.createElement('button')\n  addButton.type = 'button'\n  addButton.className = 'options-button options-button--ghost'\n  const itemName = uiSchema.fields[path[0]]?.itemName || 'Item'\n  addButton.textContent = `Add ${itemName}`\n  addButton.addEventListener('click', () => {\n    const defaultItem = defaultObjectForSchema(resolvedItemSchema)\n    handlers.onAddItem(path, defaultItem)\n  })\n\n  wrapper.appendChild(list)\n  wrapper.appendChild(addButton)\n  return wrapper\n}\n\nfunction createJsonControl(path, value, handlers) {\n  const textarea = document.createElement('textarea')\n  textarea.rows = 8\n  textarea.className = 'options-json'\n  textarea.value = value && Object.keys(value).length ? JSON.stringify(value, null, 2) : ''\n  textarea.addEventListener('change', () => {\n    if (!textarea.value.trim()) {\n      handlers.onFieldChange(path, {})\n      return\n    }\n    try {\n      const parsed = JSON.parse(textarea.value)\n      handlers.onFieldChange(path, parsed)\n    } catch {\n      // keep invalid JSON in textarea; validation will surface errors\n    }\n  })\n  return textarea\n}\n\nfunction resolveControlType(schema, uiField) {\n  if (uiField.control) {\n    return uiField.control\n  }\n  if (schema.enum) {\n    return 'select'\n  }\n  if (schema.type === 'boolean') {\n    return 'switch'\n  }\n  if (schema.type === 'integer' || schema.type === 'number') {\n    return 'number'\n  }\n  if (schema.type === 'array') {\n    const items = schema.items || {}\n    if (items.type === 'string') {\n      return 'stringList'\n    }\n    return 'objectList'\n  }\n  if (schema.type === 'object') {\n    return 'json'\n  }\n  return 'text'\n}\n\nfunction resolveSchemaVariant(schema, value, rootSchema) {\n  if (!schema) {\n    return schema\n  }\n\n  if (schema.$ref) {\n    return dereferenceSchema(rootSchema, schema.$ref)\n  }\n\n  if (!schema.oneOf) {\n    return schema\n  }\n\n  if (value === undefined || value === null) {\n    return schema.oneOf[0]\n  }\n\n  for (const variant of schema.oneOf) {\n    if (variant.$ref) {\n      const resolved = dereferenceSchema(rootSchema, variant.$ref)\n      if (matchesType(resolved, value)) {\n        return resolved\n      }\n    } else if (matchesType(variant, value)) {\n      return variant\n    }\n  }\n\n  return schema.oneOf[0].$ref\n    ? dereferenceSchema(rootSchema, schema.oneOf[0].$ref)\n    : schema.oneOf[0]\n}\n\nfunction resolveItemSchema(rootSchema, fieldSchema) {\n  if (!fieldSchema) {\n    return { type: 'object' }\n  }\n  if (Array.isArray(fieldSchema.items)) {\n    return resolveSchemaVariant(fieldSchema.items[0], undefined, rootSchema)\n  }\n  if (fieldSchema.items && fieldSchema.items.$ref) {\n    return dereferenceSchema(rootSchema, fieldSchema.items.$ref)\n  }\n  return fieldSchema.items || { type: 'object' }\n}\n\nfunction dereferenceSchema(rootSchema, ref) {\n  if (!ref || !ref.startsWith('#/')) {\n    return {}\n  }\n  const segments = ref.slice(2).split('/')\n  let current = rootSchema\n  for (const segment of segments) {\n    const key = segment.replace(/~1/g, '/').replace(/~0/g, '~')\n    current = current?.[key]\n    if (current === undefined) {\n      break\n    }\n  }\n  return current || {}\n}\n\nfunction matchesType(schema, value) {\n  if (!schema || schema.type === undefined) {\n    return true\n  }\n  if (schema.type === 'array') {\n    return Array.isArray(value)\n  }\n  if (schema.type === 'object') {\n    return isPlainObject(value)\n  }\n  if (schema.type === 'integer') {\n    return Number.isInteger(value)\n  }\n  return typeof value === schema.type\n}\n\nfunction defaultObjectForSchema(schema) {\n  const resolved = schema.$ref ? {} : schema\n  if (!resolved.properties) {\n    return {}\n  }\n  const result = {}\n  for (const [key, propertySchema] of Object.entries(resolved.properties)) {\n    if (propertySchema.default !== undefined) {\n      result[key] = deepClone(propertySchema.default)\n    } else if (propertySchema.type === 'array') {\n      result[key] = []\n    } else if (propertySchema.type === 'object') {\n      result[key] = {}\n    } else {\n      result[key] = ''\n    }\n  }\n  return result\n}\n\nfunction resolveUiFieldConfig(uiSchema, fieldName, path) {\n  const fullPath = path.join('.')\n  return (\n    uiSchema.fields?.[fullPath] ||\n    uiSchema.fields?.[`${path[0]}[].${fieldName}`] ||\n    uiSchema.fields?.[fieldName] ||\n    {}\n  )\n}\n\nfunction groupFieldsBySection(schema) {\n  const grouped = new Map()\n  for (const [fieldName, fieldSchema] of Object.entries(schema.properties)) {\n    const section = fieldSchema['ui:section'] || 'general'\n    if (!grouped.has(section)) {\n      grouped.set(section, [])\n    }\n    grouped.get(section).push(fieldName)\n  }\n  for (const fields of grouped.values()) {\n    fields.sort((left, right) => left.localeCompare(right))\n  }\n  return grouped\n}\n\nfunction collectErrorsForPath(errors, path) {\n  const key = path.join('.')\n  return errors.get(key) || []\n}\n\nfunction humanize(value) {\n  return value\n    .toString()\n    .replace(/([A-Z])/g, ' $1')\n    .replace(/[_-]/g, ' ')\n    .replace(/\\s+/g, ' ')\n    .replace(/^./, (match) => match.toUpperCase())\n    .trim()\n}\n\nfunction formatNumber(value) {\n  if (value === undefined || value === null || Number.isNaN(value)) {\n    return ''\n  }\n  if (Number.isInteger(value)) {\n    return value.toString()\n  }\n  return value.toFixed(2)\n}\n", "var __getOwnPropNames = Object.getOwnPropertyNames;\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\n\n// node_modules/@exodus/schemasafe/src/safe-format.js\nvar require_safe_format = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/safe-format.js\"(exports, module) {\n    \"use strict\";\n    var SafeString = class extends String {\n    };\n    var compares = /* @__PURE__ */ new Set([\"<\", \">\", \"<=\", \">=\"]);\n    var escapeCode = (code) => `\\\\u${code.toString(16).padStart(4, \"0\")}`;\n    var jsval = (val) => {\n      if ([Infinity, -Infinity, NaN, void 0, null].includes(val)) return `${val}`;\n      const primitive = [\"string\", \"boolean\", \"number\"].includes(typeof val);\n      if (!primitive) {\n        if (typeof val !== \"object\") throw new Error(\"Unexpected value type\");\n        const proto = Object.getPrototypeOf(val);\n        const ok = proto === Array.prototype && Array.isArray(val) || proto === Object.prototype;\n        if (!ok) throw new Error(\"Unexpected object given as value\");\n      }\n      return JSON.stringify(val).replace(/([{,])\"__proto__\":/g, '$1[\"__proto__\"]:').replace(/[^\\\\]\"__proto__\":/g, () => {\n        throw new Error(\"Unreachable\");\n      }).replace(/[\\u2028\\u2029]/g, (char) => escapeCode(char.charCodeAt(0)));\n    };\n    var format = (fmt, ...args) => {\n      const res = fmt.replace(/%[%drscjw]/g, (match) => {\n        if (match === \"%%\") return \"%\";\n        if (args.length === 0) throw new Error(\"Unexpected arguments count\");\n        const val = args.shift();\n        switch (match) {\n          case \"%d\":\n            if (typeof val === \"number\") return val;\n            throw new Error(\"Expected a number\");\n          case \"%r\":\n            if (val instanceof RegExp) return format(\"new RegExp(%j, %j)\", val.source, val.flags);\n            throw new Error(\"Expected a RegExp instance\");\n          case \"%s\":\n            if (val instanceof SafeString) return val;\n            throw new Error(\"Expected a safe string\");\n          case \"%c\":\n            if (compares.has(val)) return val;\n            throw new Error(\"Expected a compare op\");\n          case \"%j\":\n            return jsval(val);\n          case \"%w\":\n            if (Number.isInteger(val) && val >= 0) return \" \".repeat(val);\n            throw new Error(\"Expected a non-negative integer for indentation\");\n        }\n        throw new Error(\"Unreachable\");\n      });\n      if (args.length !== 0) throw new Error(\"Unexpected arguments count\");\n      return new SafeString(res);\n    };\n    var safe = (string) => {\n      if (!/^[a-z][a-z0-9_]*$/i.test(string)) throw new Error(\"Does not look like a safe id\");\n      return new SafeString(string);\n    };\n    var safewrap = (fun) => (...args) => {\n      if (!args.every((arg) => arg instanceof SafeString)) throw new Error(\"Unsafe arguments\");\n      return new SafeString(fun(...args));\n    };\n    var safepriority = (arg) => (\n      // simple expression and single brackets can not break priority\n      /^[a-z][a-z0-9_().]*$/i.test(arg) || /^\\([^()]+\\)$/i.test(arg) ? arg : format(\"(%s)\", arg)\n    );\n    var safeor = safewrap(\n      (...args) => args.some((arg) => `${arg}` === \"true\") ? \"true\" : args.join(\" || \") || \"false\"\n    );\n    var safeand = safewrap(\n      (...args) => args.some((arg) => `${arg}` === \"false\") ? \"false\" : args.join(\" && \") || \"true\"\n    );\n    var safenot = (arg) => {\n      if (`${arg}` === \"true\") return safe(\"false\");\n      if (`${arg}` === \"false\") return safe(\"true\");\n      return format(\"!%s\", safepriority(arg));\n    };\n    var safenotor = (...args) => safenot(safeor(...args));\n    module.exports = { format, safe, safeand, safenot, safenotor };\n  }\n});\n\n// node_modules/@exodus/schemasafe/src/scope-utils.js\nvar require_scope_utils = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/scope-utils.js\"(exports, module) {\n    \"use strict\";\n    var { safe } = require_safe_format();\n    var caches = /* @__PURE__ */ new WeakMap();\n    var scopeMethods = (scope) => {\n      if (!caches.has(scope))\n        caches.set(scope, { sym: /* @__PURE__ */ new Map(), ref: /* @__PURE__ */ new Map(), format: /* @__PURE__ */ new Map(), pattern: /* @__PURE__ */ new Map() });\n      const cache = caches.get(scope);\n      const gensym = (name) => {\n        if (!cache.sym.get(name)) cache.sym.set(name, 0);\n        const index = cache.sym.get(name);\n        cache.sym.set(name, index + 1);\n        return safe(`${name}${index}`);\n      };\n      const genpattern = (p) => {\n        if (cache.pattern.has(p)) return cache.pattern.get(p);\n        const n = gensym(\"pattern\");\n        scope[n] = new RegExp(p, \"u\");\n        cache.pattern.set(p, n);\n        return n;\n      };\n      if (!cache.loop) cache.loop = \"ijklmnopqrstuvxyz\".split(\"\");\n      const genloop = () => {\n        const v = cache.loop.shift();\n        cache.loop.push(`${v}${v[0]}`);\n        return safe(v);\n      };\n      const getref = (sub) => cache.ref.get(sub);\n      const genref = (sub) => {\n        const n = gensym(\"ref\");\n        cache.ref.set(sub, n);\n        return n;\n      };\n      const genformat = (impl) => {\n        let n = cache.format.get(impl);\n        if (!n) {\n          n = gensym(\"format\");\n          scope[n] = impl;\n          cache.format.set(impl, n);\n        }\n        return n;\n      };\n      return { gensym, genpattern, genloop, getref, genref, genformat };\n    };\n    module.exports = { scopeMethods };\n  }\n});\n\n// node_modules/@exodus/schemasafe/src/scope-functions.js\nvar require_scope_functions = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/scope-functions.js\"(exports, module) {\n    \"use strict\";\n    var stringLength = (string) => /[\\uD800-\\uDFFF]/.test(string) ? [...string].length : string.length;\n    var isMultipleOf = (value, divisor, factor, factorMultiple) => {\n      if (value % divisor === 0) return true;\n      let multiple = value * factor;\n      if (multiple === Infinity || multiple === -Infinity) multiple = value;\n      if (multiple % factorMultiple === 0) return true;\n      const normal = Math.floor(multiple + 0.5);\n      return normal / factor === value && normal % factorMultiple === 0;\n    };\n    var deepEqual = (obj, obj2) => {\n      if (obj === obj2) return true;\n      if (!obj || !obj2 || typeof obj !== typeof obj2) return false;\n      if (obj !== obj2 && typeof obj !== \"object\") return false;\n      const proto = Object.getPrototypeOf(obj);\n      if (proto !== Object.getPrototypeOf(obj2)) return false;\n      if (proto === Array.prototype) {\n        if (!Array.isArray(obj) || !Array.isArray(obj2)) return false;\n        if (obj.length !== obj2.length) return false;\n        return obj.every((x, i) => deepEqual(x, obj2[i]));\n      } else if (proto === Object.prototype) {\n        const [keys, keys2] = [Object.keys(obj), Object.keys(obj2)];\n        if (keys.length !== keys2.length) return false;\n        const keyset2 = /* @__PURE__ */ new Set([...keys, ...keys2]);\n        return keyset2.size === keys.length && keys.every((key) => deepEqual(obj[key], obj2[key]));\n      }\n      return false;\n    };\n    var unique = (array) => {\n      if (array.length < 2) return true;\n      if (array.length === 2) return !deepEqual(array[0], array[1]);\n      const objects = [];\n      const primitives = array.length > 20 ? /* @__PURE__ */ new Set() : null;\n      let primitivesCount = 0;\n      let pos = 0;\n      for (const item of array) {\n        if (typeof item === \"object\") {\n          objects.push(item);\n        } else if (primitives) {\n          primitives.add(item);\n          if (primitives.size !== ++primitivesCount) return false;\n        } else {\n          if (array.indexOf(item, pos + 1) !== -1) return false;\n        }\n        pos++;\n      }\n      for (let i = 1; i < objects.length; i++)\n        for (let j = 0; j < i; j++) if (deepEqual(objects[i], objects[j])) return false;\n      return true;\n    };\n    var deBase64 = (string) => {\n      if (typeof Buffer !== \"undefined\") return Buffer.from(string, \"base64\").toString(\"utf-8\");\n      const b = atob(string);\n      return new TextDecoder(\"utf-8\").decode(new Uint8Array(b.length).map((_, i) => b.charCodeAt(i)));\n    };\n    var hasOwn = Function.prototype.call.bind(Object.prototype.hasOwnProperty);\n    hasOwn[Symbol.for(\"toJayString\")] = \"Function.prototype.call.bind(Object.prototype.hasOwnProperty)\";\n    var pointerPart = (s) => /~\\//.test(s) ? `${s}`.replace(/~/g, \"~0\").replace(/\\//g, \"~1\") : s;\n    var toPointer = (path) => path.length === 0 ? \"#\" : `#/${path.map(pointerPart).join(\"/\")}`;\n    var errorMerge = ({ keywordLocation, instanceLocation }, schemaBase, dataBase) => ({\n      keywordLocation: `${schemaBase}${keywordLocation.slice(1)}`,\n      instanceLocation: `${dataBase}${instanceLocation.slice(1)}`\n    });\n    var propertyIn = (key, [properties, patterns]) => properties.includes(true) || properties.some((prop) => prop === key) || patterns.some((pattern) => new RegExp(pattern, \"u\").test(key));\n    var dynamicResolve = (anchors, id) => (anchors.filter((x) => x[id])[0] || {})[id];\n    var extraUtils = { toPointer, pointerPart, errorMerge, propertyIn, dynamicResolve };\n    module.exports = { stringLength, isMultipleOf, deepEqual, unique, deBase64, hasOwn, ...extraUtils };\n  }\n});\n\n// node_modules/@exodus/schemasafe/src/javascript.js\nvar require_javascript = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/javascript.js\"(exports, module) {\n    \"use strict\";\n    var { format, safe } = require_safe_format();\n    var { scopeMethods } = require_scope_utils();\n    var functions = require_scope_functions();\n    var types = new Map(\n      Object.entries({\n        null: (name) => format(\"%s === null\", name),\n        boolean: (name) => format('typeof %s === \"boolean\"', name),\n        array: (name) => format(\"Array.isArray(%s)\", name),\n        object: (n) => format('typeof %s === \"object\" && %s && !Array.isArray(%s)', n, n, n),\n        number: (name) => format('typeof %s === \"number\"', name),\n        integer: (name) => format(\"Number.isInteger(%s)\", name),\n        string: (name) => format('typeof %s === \"string\"', name)\n      })\n    );\n    var buildName = ({ name, parent, keyval, keyname }) => {\n      if (name) {\n        if (parent || keyval || keyname) throw new Error(\"name can be used only stand-alone\");\n        return name;\n      }\n      if (!parent) throw new Error(\"Can not use property of undefined parent!\");\n      const parentName = buildName(parent);\n      if (keyval !== void 0) {\n        if (keyname) throw new Error(\"Can not use key value and name together\");\n        if (![\"string\", \"number\"].includes(typeof keyval)) throw new Error(\"Invalid property path\");\n        if (/^[a-z][a-z0-9_]*$/i.test(keyval)) return format(\"%s.%s\", parentName, safe(keyval));\n        return format(\"%s[%j]\", parentName, keyval);\n      } else if (keyname) {\n        return format(\"%s[%s]\", parentName, keyname);\n      }\n      throw new Error(\"Unreachable\");\n    };\n    var jsonProtoKeys = new Set(\n      [].concat(\n        ...[Object, Array, String, Number, Boolean].map((c) => Object.getOwnPropertyNames(c.prototype))\n      )\n    );\n    var jsHelpers = (fun, scope, propvar, { unmodifiedPrototypes, isJSON }, noopRegExps) => {\n      const { gensym, genpattern, genloop } = scopeMethods(scope, propvar);\n      const present = (obj) => {\n        const name = buildName(obj);\n        const { parent, keyval, keyname, inKeys, checked } = obj;\n        if (checked || inKeys && isJSON) throw new Error(\"Unreachable: useless check for undefined\");\n        if (inKeys) return format(\"%s !== undefined\", name);\n        if (parent && keyname) {\n          scope.hasOwn = functions.hasOwn;\n          const pname = buildName(parent);\n          if (isJSON) return format(\"%s !== undefined && hasOwn(%s, %s)\", name, pname, keyname);\n          return format(\"%s in %s && hasOwn(%s, %s)\", keyname, pname, pname, keyname);\n        } else if (parent && keyval !== void 0) {\n          if (unmodifiedPrototypes && isJSON && !jsonProtoKeys.has(`${keyval}`))\n            return format(\"%s !== undefined\", name);\n          scope.hasOwn = functions.hasOwn;\n          const pname = buildName(parent);\n          if (isJSON) return format(\"%s !== undefined && hasOwn(%s, %j)\", name, pname, keyval);\n          return format(\"%j in %s && hasOwn(%s, %j)\", keyval, pname, pname, keyval);\n        }\n        throw new Error(\"Unreachable: present() check without parent\");\n      };\n      const forObjectKeys = (obj, writeBody) => {\n        const key = gensym(\"key\");\n        fun.block(format(\"for (const %s of Object.keys(%s))\", key, buildName(obj)), () => {\n          writeBody(propvar(obj, key, true), key);\n        });\n      };\n      const forArray = (obj, start, writeBody) => {\n        const i = genloop();\n        const name = buildName(obj);\n        fun.block(format(\"for (let %s = %s; %s < %s.length; %s++)\", i, start, i, name, i), () => {\n          writeBody(propvar(obj, i, unmodifiedPrototypes, true), i);\n        });\n      };\n      const patternTest = (pat, key) => {\n        const r = pat.replace(/[.^$|*+?(){}[\\]\\\\]/gu, \"\");\n        if (pat === `^${r}$`) return format(\"(%s === %j)\", key, pat.slice(1, -1));\n        if (noopRegExps.has(pat)) return format(\"true\");\n        if ([r, `${r}+`, `${r}.*`, `.*${r}.*`].includes(pat)) return format(\"%s.includes(%j)\", key, r);\n        if ([`^${r}`, `^${r}+`, `^${r}.*`].includes(pat)) return format(\"%s.startsWith(%j)\", key, r);\n        if ([`${r}$`, `.*${r}$`].includes(pat)) return format(\"%s.endsWith(%j)\", key, r);\n        const subr = [...r].slice(0, -1).join(\"\");\n        if ([`${r}*`, `${r}?`].includes(pat))\n          return subr.length === 0 ? format(\"true\") : format(\"%s.includes(%j)\", key, subr);\n        if ([`^${r}*`, `^${r}?`].includes(pat))\n          return subr.length === 0 ? format(\"true\") : format(\"%s.startsWith(%j)\", key, subr);\n        return format(\"%s.test(%s)\", genpattern(pat), key);\n      };\n      const compare = (name, val) => {\n        if (!val || typeof val !== \"object\") return format(\"%s === %j\", name, val);\n        let type;\n        const shouldInline = (arr) => arr.length <= 3 && arr.every((x) => !x || typeof x !== \"object\");\n        if (Array.isArray(val)) {\n          type = types.get(\"array\")(name);\n          if (shouldInline(val)) {\n            let k = format(\"%s.length === %d\", name, val.length);\n            for (let i = 0; i < val.length; i++) k = format(\"%s && %s[%d] === %j\", k, name, i, val[i]);\n            return format(\"%s && %s\", type, k);\n          }\n        } else {\n          type = types.get(\"object\")(name);\n          const [keys, values] = [Object.keys(val), Object.values(val)];\n          if (shouldInline(values)) {\n            let k = format(\"Object.keys(%s).length === %d\", name, keys.length);\n            if (keys.length > 0) scope.hasOwn = functions.hasOwn;\n            for (const key of keys) k = format(\"%s && hasOwn(%s, %j)\", k, name, key);\n            for (const key of keys) k = format(\"%s && %s[%j] === %j\", k, name, key, val[key]);\n            return format(\"%s && %s\", type, k);\n          }\n        }\n        scope.deepEqual = functions.deepEqual;\n        return format(\"%s && deepEqual(%s, %j)\", type, name, val);\n      };\n      return { present, forObjectKeys, forArray, patternTest, compare, propvar };\n    };\n    var isArrowFnWithParensRegex = /^\\([^)]*\\) *=>/;\n    var isArrowFnWithoutParensRegex = /^[^=]*=>/;\n    var toJayString = Symbol.for(\"toJayString\");\n    function jaystring(item) {\n      if (typeof item === \"function\") {\n        if (item[toJayString]) return item[toJayString];\n        if (Object.getPrototypeOf(item) !== Function.prototype)\n          throw new Error(\"Can not stringify: a function with unexpected prototype\");\n        const stringified = `${item}`;\n        if (item.prototype) {\n          if (!/^function[ (]/.test(stringified)) throw new Error(\"Unexpected function\");\n          return stringified;\n        }\n        if (isArrowFnWithParensRegex.test(stringified) || isArrowFnWithoutParensRegex.test(stringified))\n          return stringified;\n        throw new Error(\"Can not stringify: only either normal or arrow functions are supported\");\n      } else if (typeof item === \"object\") {\n        const proto = Object.getPrototypeOf(item);\n        if (item instanceof RegExp && proto === RegExp.prototype) return format(\"%r\", item);\n        throw new Error(\"Can not stringify: an object with unexpected prototype\");\n      }\n      throw new Error(`Can not stringify: unknown type ${typeof item}`);\n    }\n    module.exports = { types, buildName, jsHelpers, jaystring };\n  }\n});\n\n// node_modules/@exodus/schemasafe/src/generate-function.js\nvar require_generate_function = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/generate-function.js\"(exports, module) {\n    \"use strict\";\n    var { format, safe, safenot } = require_safe_format();\n    var { jaystring } = require_javascript();\n    var INDENT_START = /[{[]/;\n    var INDENT_END = /[}\\]]/;\n    module.exports = () => {\n      const lines = [];\n      let indent = 0;\n      const pushLine = (line) => {\n        if (INDENT_END.test(line.trim()[0])) indent--;\n        lines.push({ indent, code: line });\n        if (INDENT_START.test(line[line.length - 1])) indent++;\n      };\n      const build = () => {\n        if (indent !== 0) throw new Error(\"Unexpected indent at build()\");\n        const joined = lines.map((line) => format(\"%w%s\", line.indent * 2, line.code)).join(\"\\n\");\n        return /^[a-z][a-z0-9]*$/i.test(joined) ? `return ${joined}` : `return (${joined})`;\n      };\n      const processScope = (scope) => {\n        const entries = Object.entries(scope);\n        for (const [key, value] of entries) {\n          if (!/^[a-z][a-z0-9]*$/i.test(key)) throw new Error(\"Unexpected scope key!\");\n          if (!(typeof value === \"function\" || value instanceof RegExp))\n            throw new Error(\"Unexpected scope value!\");\n        }\n        return entries;\n      };\n      return {\n        optimizedOut: false,\n        // some branch of code has been optimized out\n        size: () => lines.length,\n        write(fmt, ...args) {\n          if (typeof fmt !== \"string\") throw new Error(\"Format must be a string!\");\n          if (fmt.includes(\"\\n\")) throw new Error(\"Only single lines are supported\");\n          pushLine(format(fmt, ...args));\n          return true;\n        },\n        block(prefix, writeBody, noInline = false) {\n          const oldIndent = indent;\n          this.write(\"%s {\", prefix);\n          const length = lines.length;\n          writeBody();\n          if (length === lines.length) {\n            lines.pop();\n            indent = oldIndent;\n            return false;\n          } else if (length === lines.length - 1 && !noInline) {\n            const { code } = lines[lines.length - 1];\n            if (!/^(if|for) /.test(code)) {\n              lines.length -= 2;\n              indent = oldIndent;\n              return this.write(\"%s %s\", prefix, code);\n            }\n          }\n          return this.write(\"}\");\n        },\n        if(condition, writeBody, writeElse) {\n          if (`${condition}` === \"false\") {\n            if (writeElse) writeElse();\n            if (writeBody) this.optimizedOut = true;\n          } else if (`${condition}` === \"true\") {\n            if (writeBody) writeBody();\n            if (writeElse) this.optimizedOut = true;\n          } else if (writeBody && this.block(format(\"if (%s)\", condition), writeBody, !!writeElse)) {\n            if (writeElse) this.block(format(\"else\"), writeElse);\n          } else if (writeElse) {\n            this.if(safenot(condition), writeElse);\n          }\n        },\n        makeModule(scope = {}) {\n          const scopeDefs = processScope(scope).map(\n            ([key, val]) => `const ${safe(key)} = ${jaystring(val)};`\n          );\n          return `(function() {\n'use strict'\n${scopeDefs.join(\"\\n\")}\n${build()}})()`;\n        },\n        makeFunction(scope = {}) {\n          const scopeEntries = processScope(scope);\n          const keys = scopeEntries.map((entry) => entry[0]);\n          const vals = scopeEntries.map((entry) => entry[1]);\n          return Function(...keys, `'use strict'\n${build()}`)(...vals);\n        }\n      };\n    };\n  }\n});\n\n// node_modules/@exodus/schemasafe/src/known-keywords.js\nvar require_known_keywords = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/known-keywords.js\"(exports, module) {\n    \"use strict\";\n    var knownKeywords = [\n      ...[\"$schema\", \"$vocabulary\"],\n      // version\n      ...[\"id\", \"$id\", \"$anchor\", \"$ref\", \"definitions\", \"$defs\"],\n      // pointers\n      ...[\"$recursiveRef\", \"$recursiveAnchor\", \"$dynamicAnchor\", \"$dynamicRef\"],\n      ...[\"type\", \"required\", \"default\"],\n      // generic\n      ...[\"enum\", \"const\"],\n      // constant values\n      ...[\"not\", \"allOf\", \"anyOf\", \"oneOf\", \"if\", \"then\", \"else\"],\n      // logical checks\n      ...[\"maximum\", \"minimum\", \"exclusiveMaximum\", \"exclusiveMinimum\", \"multipleOf\", \"divisibleBy\"],\n      // numbers\n      ...[\"items\", \"maxItems\", \"minItems\", \"additionalItems\", \"prefixItems\"],\n      // arrays, basic\n      ...[\"contains\", \"minContains\", \"maxContains\", \"uniqueItems\"],\n      // arrays, complex\n      ...[\"maxLength\", \"minLength\", \"format\", \"pattern\"],\n      // strings\n      ...[\"contentEncoding\", \"contentMediaType\", \"contentSchema\"],\n      // strings content\n      ...[\"properties\", \"maxProperties\", \"minProperties\", \"additionalProperties\", \"patternProperties\"],\n      // objects\n      ...[\"propertyNames\"],\n      // objects\n      ...[\"dependencies\", \"dependentRequired\", \"dependentSchemas\", \"propertyDependencies\"],\n      // objects (dependencies)\n      ...[\"unevaluatedProperties\", \"unevaluatedItems\"],\n      // see-through\n      // Unused meta keywords not affecting validation (annotations and comments)\n      // https://json-schema.org/understanding-json-schema/reference/generic.html\n      // https://json-schema.org/draft/2019-09/json-schema-validation.html#rfc.section.9\n      ...[\"title\", \"description\", \"deprecated\", \"readOnly\", \"writeOnly\", \"examples\", \"$comment\"],\n      // unused meta\n      ...[\"example\"],\n      // unused meta, OpenAPI\n      \"discriminator\",\n      // optimization hint and error filtering only, does not affect validation result\n      \"removeAdditional\"\n      // optional keyword for { removeAdditional: 'keyword' } config, to target specific objects\n    ];\n    var schemaDrafts = [\n      ...[\"draft/next\"],\n      // not recommended to use, might change / break in an unexpected way\n      ...[\"draft/2020-12\", \"draft/2019-09\"],\n      // new\n      ...[\"draft-07\", \"draft-06\", \"draft-04\", \"draft-03\"]\n      // historic\n    ];\n    var schemaVersions = schemaDrafts.map((draft) => `https://json-schema.org/${draft}/schema`);\n    var vocab2019 = [\"core\", \"applicator\", \"validation\", \"meta-data\", \"format\", \"content\"];\n    var vocab2020 = [\n      ...[\"core\", \"applicator\", \"unevaluated\", \"validation\"],\n      ...[\"meta-data\", \"format-annotation\", \"format-assertion\", \"content\"]\n    ];\n    var knownVocabularies = [\n      ...vocab2019.map((v) => `https://json-schema.org/draft/2019-09/vocab/${v}`),\n      ...vocab2020.map((v) => `https://json-schema.org/draft/2020-12/vocab/${v}`)\n    ];\n    module.exports = { knownKeywords, schemaVersions, knownVocabularies };\n  }\n});\n\n// node_modules/@exodus/schemasafe/src/pointer.js\nvar require_pointer = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/pointer.js\"(exports, module) {\n    \"use strict\";\n    var { knownKeywords } = require_known_keywords();\n    function safeSet(map, key, value, comment = \"keys\") {\n      if (!map.has(key)) return map.set(key, value);\n      if (map.get(key) !== value) throw new Error(`Conflicting duplicate ${comment}: ${key}`);\n    }\n    function untilde(string) {\n      if (!string.includes(\"~\")) return string;\n      return string.replace(/~[01]/g, (match) => {\n        switch (match) {\n          case \"~1\":\n            return \"/\";\n          case \"~0\":\n            return \"~\";\n        }\n        throw new Error(\"Unreachable\");\n      });\n    }\n    function get(obj, pointer, objpath) {\n      if (typeof obj !== \"object\") throw new Error(\"Invalid input object\");\n      if (typeof pointer !== \"string\") throw new Error(\"Invalid JSON pointer\");\n      const parts = pointer.split(\"/\");\n      if (![\"\", \"#\"].includes(parts.shift())) throw new Error(\"Invalid JSON pointer\");\n      if (parts.length === 0) return obj;\n      let curr = obj;\n      for (const part of parts) {\n        if (typeof part !== \"string\") throw new Error(\"Invalid JSON pointer\");\n        if (objpath) objpath.push(curr);\n        const prop = untilde(part);\n        if (typeof curr !== \"object\") return void 0;\n        if (!Object.prototype.hasOwnProperty.call(curr, prop)) return void 0;\n        curr = curr[prop];\n      }\n      return curr;\n    }\n    var protocolRegex = /^https?:\\/\\//;\n    function joinPath(baseFull, sub) {\n      if (typeof baseFull !== \"string\" || typeof sub !== \"string\") throw new Error(\"Unexpected path!\");\n      if (sub.length === 0) return baseFull;\n      const base = baseFull.replace(/#.*/, \"\");\n      if (sub.startsWith(\"#\")) return `${base}${sub}`;\n      if (!base.includes(\"/\") || protocolRegex.test(sub)) return sub;\n      if (protocolRegex.test(base)) return `${new URL(sub, base)}`;\n      if (sub.startsWith(\"/\")) return sub;\n      return [...base.split(\"/\").slice(0, -1), sub].join(\"/\");\n    }\n    function objpath2path(objpath) {\n      const ids = objpath.map((obj) => obj && (obj.$id || obj.id) || \"\");\n      return ids.filter((id) => id && typeof id === \"string\").reduce(joinPath, \"\");\n    }\n    var withSpecialChilds = [\"properties\", \"patternProperties\", \"$defs\", \"definitions\"];\n    var skipChilds = [\"const\", \"enum\", \"examples\", \"example\", \"comment\"];\n    var sSkip = Symbol(\"skip\");\n    function traverse(schema, work) {\n      const visit = (sub, specialChilds = false) => {\n        if (!sub || typeof sub !== \"object\") return;\n        const res = work(sub);\n        if (res !== void 0) return res === sSkip ? void 0 : res;\n        for (const k of Object.keys(sub)) {\n          if (!specialChilds && !Array.isArray(sub) && !knownKeywords.includes(k)) continue;\n          if (!specialChilds && skipChilds.includes(k)) continue;\n          const kres = visit(sub[k], !specialChilds && withSpecialChilds.includes(k));\n          if (kres !== void 0) return kres;\n        }\n      };\n      return visit(schema);\n    }\n    function resolveReference(root, schemas, ref, base = \"\") {\n      const ptr = joinPath(base, ref);\n      const results = [];\n      const [main, hash = \"\"] = ptr.split(\"#\");\n      const local = decodeURI(hash);\n      const visit = (sub, oldPath, specialChilds = false, dynamic = false) => {\n        if (!sub || typeof sub !== \"object\") return;\n        const id = sub.$id || sub.id;\n        let path = oldPath;\n        if (id && typeof id === \"string\") {\n          path = joinPath(path, id);\n          if (path === ptr || path === main && local === \"\") {\n            results.push([sub, root, oldPath]);\n          } else if (path === main && local[0] === \"/\") {\n            const objpath = [];\n            const res = get(sub, local, objpath);\n            if (res !== void 0) results.push([res, root, joinPath(oldPath, objpath2path(objpath))]);\n          }\n        }\n        const anchor = dynamic ? sub.$dynamicAnchor : sub.$anchor;\n        if (anchor && typeof anchor === \"string\") {\n          if (anchor.includes(\"#\")) throw new Error(\"$anchor can't include '#'\");\n          if (anchor.startsWith(\"/\")) throw new Error(\"$anchor can't start with '/'\");\n          path = joinPath(path, `#${anchor}`);\n          if (path === ptr) results.push([sub, root, oldPath]);\n        }\n        for (const k of Object.keys(sub)) {\n          if (!specialChilds && !Array.isArray(sub) && !knownKeywords.includes(k)) continue;\n          if (!specialChilds && skipChilds.includes(k)) continue;\n          visit(sub[k], path, !specialChilds && withSpecialChilds.includes(k));\n        }\n        if (!dynamic && sub.$dynamicAnchor) visit(sub, oldPath, specialChilds, true);\n      };\n      visit(root, main);\n      if (main === base.replace(/#$/, \"\") && (local[0] === \"/\" || local === \"\")) {\n        const objpath = [];\n        const res = get(root, local, objpath);\n        if (res !== void 0) results.push([res, root, objpath2path(objpath)]);\n      }\n      if (schemas.has(main) && schemas.get(main) !== root) {\n        const additional = resolveReference(schemas.get(main), schemas, `#${hash}`, main);\n        results.push(...additional.map(([res, rRoot, rPath]) => [res, rRoot, joinPath(main, rPath)]));\n      }\n      if (schemas.has(ptr)) results.push([schemas.get(ptr), schemas.get(ptr), ptr]);\n      return results;\n    }\n    function getDynamicAnchors(schema) {\n      const results = /* @__PURE__ */ new Map();\n      traverse(schema, (sub) => {\n        if (sub !== schema && (sub.$id || sub.id)) return sSkip;\n        const anchor = sub.$dynamicAnchor;\n        if (anchor && typeof anchor === \"string\") {\n          if (anchor.includes(\"#\")) throw new Error(\"$dynamicAnchor can't include '#'\");\n          if (!/^[a-zA-Z0-9_-]+$/.test(anchor)) throw new Error(`Unsupported $dynamicAnchor: ${anchor}`);\n          safeSet(results, anchor, sub, \"$dynamicAnchor\");\n        }\n      });\n      return results;\n    }\n    var hasKeywords = (schema, keywords) => traverse(schema, (s) => Object.keys(s).some((k) => keywords.includes(k)) || void 0) || false;\n    var addSchemasArrayToMap = (schemas, input, optional = false) => {\n      if (!Array.isArray(input)) throw new Error(\"Expected an array of schemas\");\n      for (const schema of input) {\n        traverse(schema, (sub) => {\n          const idRaw = sub.$id || sub.id;\n          const id = idRaw && typeof idRaw === \"string\" ? idRaw.replace(/#$/, \"\") : null;\n          if (id && id.includes(\"://\") && !id.includes(\"#\")) {\n            safeSet(schemas, id, sub, \"schema $id in 'schemas'\");\n          } else if (sub === schema && !optional) {\n            throw new Error(\"Schema with missing or invalid $id in 'schemas'\");\n          }\n        });\n      }\n      return schemas;\n    };\n    var buildSchemas = (input, extra) => {\n      if (extra) return addSchemasArrayToMap(buildSchemas(input), extra, true);\n      if (input) {\n        switch (Object.getPrototypeOf(input)) {\n          case Object.prototype:\n            return new Map(Object.entries(input));\n          case Map.prototype:\n            return new Map(input);\n          case Array.prototype:\n            return addSchemasArrayToMap(/* @__PURE__ */ new Map(), input);\n        }\n      }\n      throw new Error(\"Unexpected value for 'schemas' option\");\n    };\n    module.exports = { get, joinPath, resolveReference, getDynamicAnchors, hasKeywords, buildSchemas };\n  }\n});\n\n// node_modules/@exodus/schemasafe/src/formats.js\nvar require_formats = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/formats.js\"(exports, module) {\n    \"use strict\";\n    var core = {\n      // matches ajv + length checks + does not start with a dot\n      // note that quoted emails are deliberately unsupported (as in ajv), who would want \\x01 in email\n      // first check is an additional fast path with lengths: 20+(1+21)*2 = 64, (1+61+1)+((1+60+1)+1)*3 = 252 < 253, that should cover most valid emails\n      // max length is 64 (name) + 1 (@) + 253 (host), we want to ensure that prior to feeding to the fast regex\n      // the second regex checks for quoted, starting-leading dot in name, and two dots anywhere\n      email: (input) => {\n        if (input.length > 318) return false;\n        const fast = /^[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,20}(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]{1,21}){0,2}@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,60}[a-z0-9])?){0,3}$/i;\n        if (fast.test(input)) return true;\n        if (!input.includes(\"@\") || /(^\\.|^\"|\\.@|\\.\\.)/.test(input)) return false;\n        const [name, host, ...rest] = input.split(\"@\");\n        if (!name || !host || rest.length !== 0 || name.length > 64 || host.length > 253) return false;\n        if (!/^[a-z0-9.-]+$/i.test(host) || !/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(name)) return false;\n        return host.split(\".\").every((part) => /^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(part));\n      },\n      // matches ajv + length checks\n      hostname: (input) => {\n        if (input.length > (input.endsWith(\".\") ? 254 : 253)) return false;\n        const hostname = /^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*\\.?$/i;\n        return hostname.test(input);\n      },\n      // 'time' matches ajv + length checks, 'date' matches ajv full\n      // date: https://tools.ietf.org/html/rfc3339#section-5.6\n      // date-time: https://tools.ietf.org/html/rfc3339#section-5.6\n      // leap year: https://tools.ietf.org/html/rfc3339#appendix-C\n      // 11: 1990-01-01, 1: T, 9: 00:00:00., 12: maxiumum fraction length (non-standard), 6: +00:00\n      date: (input) => {\n        if (input.length !== 10) return false;\n        if (input[5] === \"0\" && input[6] === \"2\") {\n          if (/^\\d\\d\\d\\d-02-(?:[012][1-8]|[12]0|[01]9)$/.test(input)) return true;\n          const matches = input.match(/^(\\d\\d\\d\\d)-02-29$/);\n          if (!matches) return false;\n          const year = matches[1] | 0;\n          return year % 16 === 0 || year % 4 === 0 && year % 25 !== 0;\n        }\n        if (input.endsWith(\"31\")) return /^\\d\\d\\d\\d-(?:0[13578]|1[02])-31$/.test(input);\n        return /^\\d\\d\\d\\d-(?:0[13-9]|1[012])-(?:[012][1-9]|[123]0)$/.test(input);\n      },\n      // leap second handling is special, we check it's 23:59:60.*\n      time: (input) => {\n        if (input.length > 9 + 12 + 6) return false;\n        const time = /^(?:2[0-3]|[0-1]\\d):[0-5]\\d:(?:[0-5]\\d|60)(?:\\.\\d+)?(?:z|[+-](?:2[0-3]|[0-1]\\d)(?::?[0-5]\\d)?)?$/i;\n        if (!time.test(input)) return false;\n        if (!/:60/.test(input)) return true;\n        const p = input.match(/([0-9.]+|[^0-9.])/g);\n        let hm = Number(p[0]) * 60 + Number(p[2]);\n        if (p[5] === \"+\") hm += 24 * 60 - Number(p[6] || 0) * 60 - Number(p[8] || 0);\n        else if (p[5] === \"-\") hm += Number(p[6] || 0) * 60 + Number(p[8] || 0);\n        return hm % (24 * 60) === 23 * 60 + 59;\n      },\n      // first two lines specific to date-time, then tests for unanchored (at end) date, code identical to 'date' above\n      // input[17] === '6' is a check for :60\n      \"date-time\": (input) => {\n        if (input.length > 10 + 1 + 9 + 12 + 6) return false;\n        const full = /^\\d\\d\\d\\d-(?:0[1-9]|1[0-2])-(?:[0-2]\\d|3[01])[t\\s](?:2[0-3]|[0-1]\\d):[0-5]\\d:(?:[0-5]\\d|60)(?:\\.\\d+)?(?:z|[+-](?:2[0-3]|[0-1]\\d)(?::?[0-5]\\d)?)$/i;\n        const feb = input[5] === \"0\" && input[6] === \"2\";\n        if (feb && input[8] === \"3\" || !full.test(input)) return false;\n        if (input[17] === \"6\") {\n          const p = input.slice(11).match(/([0-9.]+|[^0-9.])/g);\n          let hm = Number(p[0]) * 60 + Number(p[2]);\n          if (p[5] === \"+\") hm += 24 * 60 - Number(p[6] || 0) * 60 - Number(p[8] || 0);\n          else if (p[5] === \"-\") hm += Number(p[6] || 0) * 60 + Number(p[8] || 0);\n          if (hm % (24 * 60) !== 23 * 60 + 59) return false;\n        }\n        if (feb) {\n          if (/^\\d\\d\\d\\d-02-(?:[012][1-8]|[12]0|[01]9)/.test(input)) return true;\n          const matches = input.match(/^(\\d\\d\\d\\d)-02-29/);\n          if (!matches) return false;\n          const year = matches[1] | 0;\n          return year % 16 === 0 || year % 4 === 0 && year % 25 !== 0;\n        }\n        if (input[8] === \"3\" && input[9] === \"1\") return /^\\d\\d\\d\\d-(?:0[13578]|1[02])-31/.test(input);\n        return /^\\d\\d\\d\\d-(?:0[13-9]|1[012])-(?:[012][1-9]|[123]0)/.test(input);\n      },\n      /* ipv4 and ipv6 are from ajv with length restriction */\n      // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n      ipv4: (ip) => ip.length <= 15 && /^(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d\\d?)$/.test(ip),\n      // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n      // max length: 1000:1000:1000:1000:1000:1000:255.255.255.255\n      // we parse ip6 format with a simple scan, leaving embedded ipv4 validation to a regex\n      // s0=count(:), s1=count(.), hex=count(a-zA-Z0-9), short=count(::)>0\n      // 48-57: '0'-'9', 97-102, 65-70: 'a'-'f', 'A'-'F', 58: ':', 46: '.'\n      /* eslint-disable one-var */\n      // prettier-ignore\n      ipv6: (input) => {\n        if (input.length > 45 || input.length < 2) return false;\n        let s0 = 0, s1 = 0, hex = 0, short = false, letters = false, last = 0, start = true;\n        for (let i = 0; i < input.length; i++) {\n          const c = input.charCodeAt(i);\n          if (i === 1 && last === 58 && c !== 58) return false;\n          if (c >= 48 && c <= 57) {\n            if (++hex > 4) return false;\n          } else if (c === 46) {\n            if (s0 > 6 || s1 >= 3 || hex === 0 || letters) return false;\n            s1++;\n            hex = 0;\n          } else if (c === 58) {\n            if (s1 > 0 || s0 >= 7) return false;\n            if (last === 58) {\n              if (short) return false;\n              short = true;\n            } else if (i === 0) start = false;\n            s0++;\n            hex = 0;\n            letters = false;\n          } else if (c >= 97 && c <= 102 || c >= 65 && c <= 70) {\n            if (s1 > 0) return false;\n            if (++hex > 4) return false;\n            letters = true;\n          } else return false;\n          last = c;\n        }\n        if (s0 < 2 || s1 > 0 && (s1 !== 3 || hex === 0)) return false;\n        if (short && input.length === 2) return true;\n        if (s1 > 0 && !/(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}$/.test(input)) return false;\n        const spaces = s1 > 0 ? 6 : 7;\n        if (!short) return s0 === spaces && start && hex > 0;\n        return (start || hex > 0) && s0 < spaces;\n      },\n      /* eslint-enable one-var */\n      // matches ajv with optimization\n      uri: /^[a-z][a-z0-9+\\-.]*:(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/?(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\n      // matches ajv with optimization\n      \"uri-reference\": /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|v[0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/?(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?)?(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,\n      // ajv has /^(([^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?([a-z0-9_]|%[0-9a-f]{2})+(:[1-9][0-9]{0,3}|\\*)?(,([a-z0-9_]|%[0-9a-f]{2})+(:[1-9][0-9]{0,3}|\\*)?)*\\})*$/i\n      // this is equivalent\n      // uri-template: https://tools.ietf.org/html/rfc6570\n      // eslint-disable-next-line no-control-regex\n      \"uri-template\": /^(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2}|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i,\n      // ajv has /^(\\/([^~/]|~0|~1)*)*$/, this is equivalent\n      // JSON-pointer: https://tools.ietf.org/html/rfc6901\n      \"json-pointer\": /^(?:|\\/(?:[^~]|~0|~1)*)$/,\n      // ajv has /^(0|[1-9][0-9]*)(#|(\\/([^~/]|~0|~1)*)*)$/, this is equivalent\n      // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n      \"relative-json-pointer\": /^(?:0|[1-9][0-9]*)(?:|#|\\/(?:[^~]|~0|~1)*)$/,\n      // uuid: http://tools.ietf.org/html/rfc4122\n      uuid: /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i,\n      // length restriction is an arbitrary safeguard\n      // first regex checks if this a week duration (can't be combined with others)\n      // second regex verifies symbols, no more than one fraction, at least 1 block is present, and T is not last\n      // third regex verifies structure\n      duration: (input) => input.length > 1 && input.length < 80 && (/^P\\d+([.,]\\d+)?W$/.test(input) || /^P[\\dYMDTHS]*(\\d[.,]\\d+)?[YMDHS]$/.test(input) && /^P([.,\\d]+Y)?([.,\\d]+M)?([.,\\d]+D)?(T([.,\\d]+H)?([.,\\d]+M)?([.,\\d]+S)?)?$/.test(input))\n      // TODO: iri, iri-reference, idn-email, idn-hostname\n    };\n    var extra = {\n      // basic\n      alpha: /^[a-zA-Z]+$/,\n      alphanumeric: /^[a-zA-Z0-9]+$/,\n      // hex\n      \"hex-digits\": /^[0-9a-f]+$/i,\n      \"hex-digits-prefixed\": /^0x[0-9a-f]+$/i,\n      \"hex-bytes\": /^([0-9a-f][0-9a-f])+$/i,\n      \"hex-bytes-prefixed\": /^0x([0-9a-f][0-9a-f])+$/i,\n      base64: (input) => input.length % 4 === 0 && /^[a-z0-9+/]*={0,3}$/i.test(input),\n      // ajv has /^#(\\/([a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i, this is equivalent\n      // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n      \"json-pointer-uri-fragment\": /^#(|\\/(\\/|[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)$/i,\n      // draft3 backwards compat\n      \"host-name\": core.hostname,\n      \"ip-address\": core.ipv4,\n      // manually cleaned up from is-my-json-valid, CSS 2.1 colors only per draft03 spec\n      color: /^(#[0-9A-Fa-f]{3,6}|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|rgb\\(\\s*([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\s*,\\s*([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\s*,\\s*([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\\s*\\)|rgb\\(\\s*(\\d?\\d%|100%)\\s*,\\s*(\\d?\\d%|100%)\\s*,\\s*(\\d?\\d%|100%)\\s*\\))$/\n      // style is deliberately unsupported, don't accept untrusted styles\n    };\n    var weak = {\n      // In weak because don't accept regexes from untrusted sources, using them can cause DoS\n      // matches ajv + length checks\n      // eslint comment outside because we don't want comments in functions, those affect output\n      /* eslint-disable no-new */\n      regex: (str) => {\n        if (str.length > 1e5) return false;\n        const Z_ANCHOR = /[^\\\\]\\\\Z/;\n        if (Z_ANCHOR.test(str)) return false;\n        try {\n          new RegExp(str, \"u\");\n          return true;\n        } catch (e) {\n          return false;\n        }\n      }\n      /* eslint-enable no-new */\n    };\n    module.exports = { core, extra, weak };\n  }\n});\n\n// node_modules/@exodus/schemasafe/src/tracing.js\nvar require_tracing = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/tracing.js\"(exports, module) {\n    \"use strict\";\n    var merge = (a, b) => [.../* @__PURE__ */ new Set([...a, ...b])].sort();\n    var intersect = (a, b) => a.filter((x) => b.includes(x));\n    var wrapArgs = (f) => (...args) => f(...args.map(normalize));\n    var wrapFull = (f) => (...args) => normalize(f(...args.map(normalize)));\n    var typeIsNot = (type, t) => type && !type.includes(t);\n    var normalize = ({ type = null, dyn: d = {}, ...A }) => ({\n      type: type ? [...type].sort() : type,\n      items: typeIsNot(type, \"array\") ? Infinity : A.items || 0,\n      properties: typeIsNot(type, \"object\") ? [true] : [...A.properties || []].sort(),\n      patterns: typeIsNot(type, \"object\") ? [] : [...A.patterns || []].sort(),\n      required: typeIsNot(type, \"object\") ? [] : [...A.required || []].sort(),\n      fullstring: typeIsNot(type, \"string\") || A.fullstring || false,\n      dyn: {\n        item: typeIsNot(type, \"array\") ? false : d.item || false,\n        items: typeIsNot(type, \"array\") ? 0 : Math.max(A.items || 0, d.items || 0),\n        properties: typeIsNot(type, \"object\") ? [] : merge(A.properties || [], d.properties || []),\n        patterns: typeIsNot(type, \"object\") ? [] : merge(A.patterns || [], d.patterns || [])\n      },\n      unknown: A.unknown && !(typeIsNot(type, \"object\") && typeIsNot(type, \"array\")) || false\n    });\n    var initTracing = () => normalize({});\n    var andDelta = wrapFull((A, B) => ({\n      type: A.type && B.type ? intersect(A.type, B.type) : A.type || B.type || null,\n      items: Math.max(A.items, B.items),\n      properties: merge(A.properties, B.properties),\n      patterns: merge(A.patterns, B.patterns),\n      required: merge(A.required, B.required),\n      fullstring: A.fullstring || B.fullstring,\n      dyn: {\n        item: A.dyn.item || B.dyn.item,\n        items: Math.max(A.dyn.items, B.dyn.items),\n        properties: merge(A.dyn.properties, B.dyn.properties),\n        patterns: merge(A.dyn.patterns, B.dyn.patterns)\n      },\n      unknown: A.unknown || B.unknown\n    }));\n    var regtest = (pattern, value) => value !== true && new RegExp(pattern, \"u\").test(value);\n    var intersectProps = ({ properties: a, patterns: rega }, { properties: b, patterns: regb }) => {\n      const af = a.filter((x) => b.includes(x) || b.includes(true) || regb.some((p) => regtest(p, x)));\n      const bf = b.filter((x) => a.includes(x) || a.includes(true) || rega.some((p) => regtest(p, x)));\n      const ar = rega.filter((x) => regb.includes(x) || b.includes(true));\n      const br = regb.filter((x) => rega.includes(x) || a.includes(true));\n      return { properties: merge(af, bf), patterns: merge(ar, br) };\n    };\n    var inProperties = ({ properties: a, patterns: rega }, { properties: b, patterns: regb }) => b.every((x) => a.includes(x) || a.includes(true) || rega.some((p) => regtest(p, x))) && regb.every((x) => rega.includes(x) || a.includes(true));\n    var orDelta = wrapFull((A, B) => ({\n      type: A.type && B.type ? merge(A.type, B.type) : null,\n      items: Math.min(A.items, B.items),\n      ...intersectProps(A, B),\n      required: typeIsNot(A.type, \"object\") && B.required || typeIsNot(B.type, \"object\") && A.required || intersect(A.required, B.required),\n      fullstring: A.fullstring && B.fullstring,\n      dyn: {\n        item: A.dyn.item || B.dyn.item,\n        items: Math.max(A.dyn.items, B.dyn.items),\n        properties: merge(A.dyn.properties, B.dyn.properties),\n        patterns: merge(A.dyn.patterns, B.dyn.patterns)\n      },\n      unknown: A.unknown || B.unknown\n    }));\n    var applyDelta = (stat, delta) => Object.assign(stat, andDelta(stat, delta));\n    var isDynamic = wrapArgs(({ unknown, items, dyn, ...stat }) => ({\n      items: items !== Infinity && (unknown || dyn.items > items || dyn.item),\n      properties: !stat.properties.includes(true) && (unknown || !inProperties(stat, dyn))\n    }));\n    module.exports = { initTracing, andDelta, orDelta, applyDelta, isDynamic, inProperties };\n  }\n});\n\n// node_modules/@exodus/schemasafe/src/compile.js\nvar require_compile = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/compile.js\"(exports, module) {\n    \"use strict\";\n    var { format, safe, safeand, safenot, safenotor } = require_safe_format();\n    var genfun = require_generate_function();\n    var { resolveReference, joinPath, getDynamicAnchors, hasKeywords } = require_pointer();\n    var formats = require_formats();\n    var { toPointer, ...functions } = require_scope_functions();\n    var { scopeMethods } = require_scope_utils();\n    var { buildName, types, jsHelpers } = require_javascript();\n    var { knownKeywords, schemaVersions, knownVocabularies } = require_known_keywords();\n    var { initTracing, andDelta, orDelta, applyDelta, isDynamic, inProperties } = require_tracing();\n    var noopRegExps = /* @__PURE__ */ new Set([\"^[\\\\s\\\\S]*$\", \"^[\\\\S\\\\s]*$\", \"^[^]*$\", \"\", \".*\", \"^\", \"$\"]);\n    var primitiveTypes = [\"null\", \"boolean\", \"number\", \"integer\", \"string\"];\n    var schemaTypes = new Map(\n      Object.entries({\n        boolean: (arg) => typeof arg === \"boolean\",\n        array: (arg) => Array.isArray(arg) && Object.getPrototypeOf(arg) === Array.prototype,\n        object: (arg) => arg && Object.getPrototypeOf(arg) === Object.prototype,\n        finite: (arg) => Number.isFinite(arg),\n        natural: (arg) => Number.isInteger(arg) && arg >= 0,\n        string: (arg) => typeof arg === \"string\",\n        jsonval: (arg) => functions.deepEqual(arg, JSON.parse(JSON.stringify(arg)))\n      })\n    );\n    var isPlainObject = schemaTypes.get(\"object\");\n    var isSchemaish = (arg) => isPlainObject(arg) || typeof arg === \"boolean\";\n    var deltaEmpty = (delta) => functions.deepEqual(delta, { type: [] });\n    var schemaIsOlderThan = ($schema, ver) => schemaVersions.indexOf($schema) > schemaVersions.indexOf(`https://json-schema.org/${ver}/schema`);\n    var schemaIsUnkownOrOlder = ($schema, ver) => {\n      const normalized = `${$schema}`.replace(/^http:\\/\\//, \"https://\").replace(/#$/, \"\");\n      if (!schemaVersions.includes(normalized)) return true;\n      return schemaIsOlderThan(normalized, ver);\n    };\n    var propvar = (parent, keyname, inKeys = false, number = false) => Object.freeze({ parent, keyname, inKeys, number });\n    var propimm = (parent, keyval, checked = false) => Object.freeze({ parent, keyval, checked });\n    var evaluatedStatic = Symbol(\"evaluatedStatic\");\n    var optDynamic = Symbol(\"optDynamic\");\n    var optDynAnchors = Symbol(\"optDynAnchors\");\n    var optRecAnchors = Symbol(\"optRecAnchors\");\n    var constantValue = (schema) => {\n      if (typeof schema === \"boolean\") return schema;\n      if (isPlainObject(schema) && Object.keys(schema).length === 0) return true;\n      return void 0;\n    };\n    var refsNeedFullValidation = /* @__PURE__ */ new Set();\n    var rootMeta = /* @__PURE__ */ new Map();\n    var generateMeta = (root, $schema, enforce, requireSchema) => {\n      if ($schema) {\n        const version = $schema.replace(/^http:\\/\\//, \"https://\").replace(/#$/, \"\");\n        enforce(schemaVersions.includes(version), \"Unexpected schema version:\", version);\n        rootMeta.set(root, {\n          exclusiveRefs: schemaIsOlderThan(version, \"draft/2019-09\"),\n          contentValidation: schemaIsOlderThan(version, \"draft/2019-09\"),\n          dependentUnsupported: schemaIsOlderThan(version, \"draft/2019-09\"),\n          newItemsSyntax: !schemaIsOlderThan(version, \"draft/2020-12\"),\n          containsEvaluates: !schemaIsOlderThan(version, \"draft/2020-12\"),\n          objectContains: !schemaIsOlderThan(version, \"draft/next\"),\n          bookending: schemaIsOlderThan(version, \"draft/next\")\n        });\n      } else {\n        enforce(!requireSchema, \"[requireSchema] $schema is required\");\n        rootMeta.set(root, {});\n      }\n    };\n    var compileSchema = (schema, root, opts, scope, basePathRoot = \"\") => {\n      const {\n        mode = \"default\",\n        useDefaults = false,\n        removeAdditional = false,\n        // supports additionalProperties: false and additionalItems: false\n        includeErrors = false,\n        allErrors = false,\n        contentValidation,\n        dryRun,\n        // unused, just for rest siblings\n        lint: lintOnly = false,\n        allowUnusedKeywords = opts.mode === \"lax\" || opts.mode === \"spec\",\n        allowUnreachable = opts.mode === \"lax\" || opts.mode === \"spec\",\n        requireSchema = opts.mode === \"strong\",\n        requireValidation = opts.mode === \"strong\",\n        requireStringValidation = opts.mode === \"strong\",\n        forbidNoopValues = opts.mode === \"strong\",\n        // e.g. $recursiveAnchor: false (it's false by default)\n        complexityChecks = opts.mode === \"strong\",\n        unmodifiedPrototypes = false,\n        // assumes no mangled Object/Array prototypes\n        isJSON = false,\n        // assume input to be JSON, which e.g. makes undefined impossible\n        $schemaDefault = null,\n        formatAssertion = opts.mode !== \"spec\" || schemaIsUnkownOrOlder(root.$schema, \"draft/2019-09\"),\n        formats: optFormats = {},\n        weakFormats = opts.mode !== \"strong\",\n        extraFormats = false,\n        schemas,\n        // always a Map, produced at wrapper\n        ...unknown\n      } = opts;\n      const fmts = {\n        ...formats.core,\n        ...weakFormats ? formats.weak : {},\n        ...extraFormats ? formats.extra : {},\n        ...optFormats\n      };\n      if (Object.keys(unknown).length !== 0)\n        throw new Error(`Unknown options: ${Object.keys(unknown).join(\", \")}`);\n      if (![\"strong\", \"lax\", \"default\", \"spec\"].includes(mode)) throw new Error(`Invalid mode: ${mode}`);\n      if (!includeErrors && allErrors) throw new Error(\"allErrors requires includeErrors to be enabled\");\n      if (requireSchema && $schemaDefault) throw new Error(\"requireSchema forbids $schemaDefault\");\n      if (mode === \"strong\") {\n        const validation = { requireValidation, requireStringValidation };\n        const strong = { ...validation, formatAssertion, complexityChecks, requireSchema };\n        const weak = { weakFormats, allowUnusedKeywords };\n        for (const [k, v] of Object.entries(strong)) if (!v) throw new Error(`Strong mode demands ${k}`);\n        for (const [k, v] of Object.entries(weak)) if (v) throw new Error(`Strong mode forbids ${k}`);\n      }\n      const { gensym, getref, genref, genformat } = scopeMethods(scope);\n      const buildPath = (prop) => {\n        const path = [];\n        let curr = prop;\n        while (curr) {\n          if (!curr.name) path.unshift(curr);\n          curr = curr.parent || curr.errorParent;\n        }\n        if (path.every((part) => part.keyval !== void 0))\n          return format(\"%j\", toPointer(path.map((part) => part.keyval)));\n        const stringParts = [\"#\"];\n        const stringJoined = () => {\n          const value = stringParts.map(functions.pointerPart).join(\"/\");\n          stringParts.length = 0;\n          return value;\n        };\n        let res = null;\n        for (const { keyname, keyval, number } of path) {\n          if (keyname) {\n            if (!number) scope.pointerPart = functions.pointerPart;\n            const value = number ? keyname : format(\"pointerPart(%s)\", keyname);\n            const str = `${stringJoined()}/`;\n            res = res ? format(\"%s+%j+%s\", res, str, value) : format(\"%j+%s\", str, value);\n          } else if (keyval) stringParts.push(keyval);\n        }\n        return stringParts.length > 0 ? format(\"%s+%j\", res, `/${stringJoined()}`) : res;\n      };\n      const funname = genref(schema);\n      let validate = null;\n      const wrap = (...args) => {\n        const res = validate(...args);\n        wrap.errors = validate.errors;\n        return res;\n      };\n      scope[funname] = wrap;\n      const hasRefs = hasKeywords(schema, [\"$ref\", \"$recursiveRef\", \"$dynamicRef\"]);\n      const hasDynAnchors = opts[optDynAnchors] && hasRefs && hasKeywords(schema, [\"$dynamicAnchor\"]);\n      const dynAnchorsHead = () => {\n        if (!opts[optDynAnchors]) return format(\"\");\n        return hasDynAnchors ? format(\", dynAnchors = []\") : format(\", dynAnchors\");\n      };\n      const recAnchorsHead = opts[optRecAnchors] ? format(\", recursive\") : format(\"\");\n      const fun = genfun();\n      fun.write(\"function validate(data%s%s) {\", recAnchorsHead, dynAnchorsHead());\n      if (includeErrors) fun.write(\"validate.errors = null\");\n      if (allErrors) fun.write(\"let errorCount = 0\");\n      if (opts[optDynamic]) fun.write(\"validate.evaluatedDynamic = null\");\n      let dynamicAnchorsNext = opts[optDynAnchors] ? format(\", dynAnchors\") : format(\"\");\n      if (hasDynAnchors) {\n        fun.write(\"const dynLocal = [{}]\");\n        dynamicAnchorsNext = format(\", [...dynAnchors, dynLocal[0] || []]\");\n      }\n      const helpers = jsHelpers(fun, scope, propvar, { unmodifiedPrototypes, isJSON }, noopRegExps);\n      const { present, forObjectKeys, forArray, patternTest, compare } = helpers;\n      const recursiveLog = [];\n      const getMeta = () => rootMeta.get(root);\n      const basePathStack = basePathRoot ? [basePathRoot] : [];\n      const visit = (errors, history, current, node, schemaPath, trace = {}, { constProp } = {}) => {\n        const isSub = history.length > 0 && history[history.length - 1].prop === current;\n        const queryCurrent = () => history.filter((h) => h.prop === current);\n        const definitelyPresent = !current.parent || current.checked || current.inKeys && isJSON || queryCurrent().length > 0;\n        const name = buildName(current);\n        const currPropImm = (...args) => propimm(current, ...args);\n        const error = ({ path = [], prop = current, source, suberr }) => {\n          const schemaP = toPointer([...schemaPath, ...path]);\n          const dataP = includeErrors ? buildPath(prop) : null;\n          if (includeErrors === true && errors && source) {\n            scope.errorMerge = functions.errorMerge;\n            const args = [source, schemaP, dataP];\n            if (allErrors) {\n              fun.write(\"if (validate.errors === null) validate.errors = []\");\n              fun.write(\"validate.errors.push(...%s.map(e => errorMerge(e, %j, %s)))\", ...args);\n            } else fun.write(\"validate.errors = [errorMerge(%s[0], %j, %s)]\", ...args);\n          } else if (includeErrors === true && errors) {\n            const errorJS = format(\"{ keywordLocation: %j, instanceLocation: %s }\", schemaP, dataP);\n            if (allErrors) {\n              fun.write(\"if (%s === null) %s = []\", errors, errors);\n              fun.write(\"%s.push(%s)\", errors, errorJS);\n            } else fun.write(\"%s = [%s]\", errors, errorJS);\n          }\n          if (suberr) mergeerror(suberr);\n          if (allErrors) fun.write(\"errorCount++\");\n          else fun.write(\"return false\");\n        };\n        const errorIf = (condition, errorArgs) => fun.if(condition, () => error(errorArgs));\n        if (lintOnly && !scope.lintErrors) scope.lintErrors = [];\n        const fail = (msg, value) => {\n          const comment = value !== void 0 ? ` ${JSON.stringify(value)}` : \"\";\n          const keywordLocation = joinPath(basePathRoot, toPointer(schemaPath));\n          const message = `${msg}${comment} at ${keywordLocation}`;\n          if (lintOnly) return scope.lintErrors.push({ message, keywordLocation, schema });\n          throw new Error(message);\n        };\n        const patternTestSafe = (pat, key) => {\n          try {\n            return patternTest(pat, key);\n          } catch (e) {\n            fail(e.message);\n            return format(\"false\");\n          }\n        };\n        const enforce = (ok, ...args) => ok || fail(...args);\n        const laxMode = (ok, ...args) => enforce(mode === \"lax\" || mode === \"spec\" || ok, ...args);\n        const enforceMinMax = (a, b) => laxMode(!(node[b] < node[a]), `Invalid ${a} / ${b} combination`);\n        const enforceValidation = (msg, suffix = \"should be specified\") => enforce(!requireValidation, `[requireValidation] ${msg} ${suffix}`);\n        const subPath = (...args) => [...schemaPath, ...args];\n        const uncertain = (msg) => enforce(!removeAdditional && !useDefaults, `[removeAdditional/useDefaults] uncertain: ${msg}`);\n        const complex = (msg, arg) => enforce(!complexityChecks, `[complexityChecks] ${msg}`, arg);\n        const saveMeta = ($sch) => generateMeta(root, $sch || $schemaDefault, enforce, requireSchema);\n        const stat2 = initTracing();\n        const evaluateDelta = (delta) => applyDelta(stat2, delta);\n        if (typeof node === \"boolean\") {\n          if (node === true) {\n            enforceValidation(\"schema = true\", \"is not allowed\");\n            return { stat: stat2 };\n          }\n          errorIf(definitelyPresent || current.inKeys ? true : present(current), {});\n          evaluateDelta({ type: [] });\n          return { stat: stat2 };\n        }\n        enforce(isPlainObject(node), \"Schema is not an object\");\n        for (const key of Object.keys(node))\n          enforce(knownKeywords.includes(key) || allowUnusedKeywords, \"Keyword not supported:\", key);\n        if (Object.keys(node).length === 0) {\n          enforceValidation(\"empty rules node\", \"is not allowed\");\n          return { stat: stat2 };\n        }\n        const unused = new Set(Object.keys(node));\n        const multiConsumable = /* @__PURE__ */ new Set();\n        const consume = (prop, ...ruleTypes) => {\n          enforce(multiConsumable.has(prop) || unused.has(prop), \"Unexpected double consumption:\", prop);\n          enforce(functions.hasOwn(node, prop), \"Is not an own property:\", prop);\n          enforce(ruleTypes.every((t) => schemaTypes.has(t)), \"Invalid type used in consume\");\n          enforce(ruleTypes.some((t) => schemaTypes.get(t)(node[prop])), \"Unexpected type for\", prop);\n          unused.delete(prop);\n        };\n        const get = (prop, ...ruleTypes) => {\n          if (node[prop] !== void 0) consume(prop, ...ruleTypes);\n          return node[prop];\n        };\n        const handle = (prop, ruleTypes, handler, errorArgs = {}) => {\n          if (node[prop] === void 0) return false;\n          consume(prop, ...ruleTypes);\n          if (handler !== null) {\n            try {\n              const condition = handler(node[prop]);\n              if (condition !== null) errorIf(condition, { path: [prop], ...errorArgs });\n            } catch (e) {\n              if (lintOnly && !e.message.startsWith(\"[opt] \")) {\n                fail(e.message);\n              } else {\n                throw e;\n              }\n            }\n          }\n          return true;\n        };\n        if (node === root) {\n          saveMeta(get(\"$schema\", \"string\"));\n          handle(\"$vocabulary\", [\"object\"], ($vocabulary) => {\n            for (const [vocab, flag] of Object.entries($vocabulary)) {\n              if (flag === false) continue;\n              enforce(flag === true && knownVocabularies.includes(vocab), \"Unknown vocabulary:\", vocab);\n            }\n            return null;\n          });\n        } else if (!getMeta()) saveMeta(root.$schema);\n        if (getMeta().objectContains) {\n          for (const prop of [\"contains\", \"minContains\", \"maxContains\"]) multiConsumable.add(prop);\n        }\n        handle(\"examples\", [\"array\"], null);\n        handle(\"example\", [\"jsonval\"], null);\n        for (const ignore of [\"title\", \"description\", \"$comment\"]) handle(ignore, [\"string\"], null);\n        for (const ignore of [\"deprecated\", \"readOnly\", \"writeOnly\"]) handle(ignore, [\"boolean\"], null);\n        handle(\"$defs\", [\"object\"], null) || handle(\"definitions\", [\"object\"], null);\n        const compileSub = (sub, subR, path) => sub === schema ? safe(\"validate\") : getref(sub) || compileSchema(sub, subR, opts, scope, path);\n        const basePath = () => basePathStack.length > 0 ? basePathStack[basePathStack.length - 1] : \"\";\n        const basePathStackLength = basePathStack.length;\n        const setId = ($id) => {\n          basePathStack.push(joinPath(basePath(), $id));\n          return null;\n        };\n        if (!getMeta().exclusiveRefs || !node.$ref) {\n          handle(\"$id\", [\"string\"], setId) || handle(\"id\", [\"string\"], setId);\n          handle(\"$anchor\", [\"string\"], null);\n          handle(\"$dynamicAnchor\", [\"string\"], null);\n          if (node.$recursiveAnchor || !forbidNoopValues) {\n            handle(\"$recursiveAnchor\", [\"boolean\"], (isRecursive) => {\n              if (isRecursive) recursiveLog.push([node, root, basePath()]);\n              return null;\n            });\n          }\n        }\n        const isDynScope = hasDynAnchors && (node === schema || node.id || node.$id);\n        if (isDynScope) {\n          const allDynamic = getDynamicAnchors(node);\n          if (node !== schema) fun.write(\"dynLocal.unshift({})\");\n          for (const [key, subcheck] of allDynamic) {\n            const resolved = resolveReference(root, schemas, `#${key}`, basePath());\n            const [sub, subRoot, path] = resolved[0] || [];\n            enforce(sub === subcheck, `Unexpected $dynamicAnchor resolution: ${key}`);\n            const n = compileSub(sub, subRoot, path);\n            fun.write(\"dynLocal[0][%j] = %s\", `#${key}`, n);\n          }\n        }\n        const needUnevaluated = (rule2) => opts[optDynamic] && (node[rule2] || node[rule2] === false || node === schema);\n        const local2 = Object.freeze({\n          item: needUnevaluated(\"unevaluatedItems\") ? gensym(\"evaluatedItem\") : null,\n          items: needUnevaluated(\"unevaluatedItems\") ? gensym(\"evaluatedItems\") : null,\n          props: needUnevaluated(\"unevaluatedProperties\") ? gensym(\"evaluatedProps\") : null\n        });\n        const dyn = Object.freeze({\n          item: local2.item || trace.item,\n          items: local2.items || trace.items,\n          props: local2.props || trace.props\n        });\n        const canSkipDynamic = () => (!dyn.items || stat2.items === Infinity) && (!dyn.props || stat2.properties.includes(true));\n        const evaluateDeltaDynamic = (delta) => {\n          if (dyn.item && delta.item && stat2.items !== Infinity)\n            fun.write(\"%s.push(%s)\", dyn.item, delta.item);\n          if (dyn.items && delta.items > stat2.items) fun.write(\"%s.push(%d)\", dyn.items, delta.items);\n          if (dyn.props && (delta.properties || []).includes(true) && !stat2.properties.includes(true)) {\n            fun.write(\"%s[0].push(true)\", dyn.props);\n          } else if (dyn.props) {\n            const inStat = (properties2, patterns2) => inProperties(stat2, { properties: properties2, patterns: patterns2 });\n            const properties = (delta.properties || []).filter((x) => !inStat([x], []));\n            const patterns = (delta.patterns || []).filter((x) => !inStat([], [x]));\n            if (properties.length > 0) fun.write(\"%s[0].push(...%j)\", dyn.props, properties);\n            if (patterns.length > 0) fun.write(\"%s[1].push(...%j)\", dyn.props, patterns);\n            for (const sym of delta.propertiesVars || []) fun.write(\"%s[0].push(%s)\", dyn.props, sym);\n          }\n        };\n        const applyDynamicToDynamic = (target, item, items, props) => {\n          if (isDynamic(stat2).items && target.item && item)\n            fun.write(\"%s.push(...%s)\", target.item, item);\n          if (isDynamic(stat2).items && target.items && items)\n            fun.write(\"%s.push(...%s)\", target.items, items);\n          if (isDynamic(stat2).properties && target.props && props) {\n            fun.write(\"%s[0].push(...%s[0])\", target.props, props);\n            fun.write(\"%s[1].push(...%s[1])\", target.props, props);\n          }\n        };\n        const makeRecursive = () => {\n          if (!opts[optRecAnchors]) return format(\"\");\n          if (recursiveLog.length === 0) return format(\", recursive\");\n          return format(\", recursive || %s\", compileSub(...recursiveLog[0]));\n        };\n        const applyRef = (n, errorArgs) => {\n          const delta = scope[n] && scope[n][evaluatedStatic] || { unknown: true };\n          evaluateDelta(delta);\n          const call = format(\"%s(%s%s%s)\", n, name, makeRecursive(), dynamicAnchorsNext);\n          if (!includeErrors && canSkipDynamic()) return format(\"!%s\", call);\n          const res = gensym(\"res\");\n          const err = gensym(\"err\");\n          const suberr = gensym(\"suberr\");\n          if (includeErrors) fun.write(\"const %s = validate.errors\", err);\n          fun.write(\"const %s = %s\", res, call);\n          if (includeErrors) fun.write(\"const %s = %s.errors\", suberr, n);\n          if (includeErrors) fun.write(\"validate.errors = %s\", err);\n          errorIf(safenot(res), { ...errorArgs, source: suberr });\n          fun.if(res, () => {\n            const item = isDynamic(delta).items ? format(\"%s.evaluatedDynamic[0]\", n) : null;\n            const items = isDynamic(delta).items ? format(\"%s.evaluatedDynamic[1]\", n) : null;\n            const props = isDynamic(delta).properties ? format(\"%s.evaluatedDynamic[2]\", n) : null;\n            applyDynamicToDynamic(dyn, item, items, props);\n          });\n          return null;\n        };\n        const allIn = (arr, valid) => arr && arr.every((s) => valid.includes(s));\n        const someIn = (arr, possible) => possible.some((x) => arr === null || arr.includes(x));\n        const parentCheckedType = (...valid) => queryCurrent().some((h) => allIn(h.stat.type, valid));\n        const definitelyType = (...valid) => allIn(stat2.type, valid) || parentCheckedType(...valid);\n        const typeApplicable = (...possible) => someIn(stat2.type, possible) && queryCurrent().every((h) => someIn(h.stat.type, possible));\n        const enforceRegex = (source, target = node) => {\n          enforce(typeof source === \"string\", \"Invalid pattern:\", source);\n          if (requireValidation || requireStringValidation)\n            enforce(/^\\^.*\\$$/.test(source), \"Should start with ^ and end with $:\", source);\n          if (/([{+*].*[{+*]|\\)[{+*]|^[^^].*[{+*].)/.test(source) && target.maxLength === void 0)\n            complex(\"maxLength should be specified for pattern:\", source);\n        };\n        const havePattern = node.pattern && !noopRegExps.has(node.pattern);\n        const haveComplex = node.uniqueItems || havePattern || node.patternProperties || node.format;\n        const prev = allErrors && haveComplex ? gensym(\"prev\") : null;\n        const prevWrap = (shouldWrap, writeBody) => fun.if(shouldWrap && prev !== null ? format(\"errorCount === %s\", prev) : true, writeBody);\n        const nexthistory = () => [...history, { stat: stat2, prop: current }];\n        const rule = (...args) => visit(errors, nexthistory(), ...args).stat;\n        const subrule = (suberr, ...args) => {\n          if (args[0] === current) {\n            const constval = constantValue(args[1]);\n            if (constval === true) return { sub: format(\"true\"), delta: {} };\n            if (constval === false) return { sub: format(\"false\"), delta: { type: [] } };\n          }\n          const sub = gensym(\"sub\");\n          fun.write(\"const %s = (() => {\", sub);\n          if (allErrors) fun.write(\"let errorCount = 0\");\n          const { stat: delta } = visit(suberr, nexthistory(), ...args);\n          if (allErrors) {\n            fun.write(\"return errorCount === 0\");\n          } else fun.write(\"return true\");\n          fun.write(\"})()\");\n          return { sub, delta };\n        };\n        const suberror = () => {\n          const suberr = includeErrors && allErrors ? gensym(\"suberr\") : null;\n          if (suberr) fun.write(\"let %s = null\", suberr);\n          return suberr;\n        };\n        const mergeerror = (suberr) => {\n          if (errors === null || suberr === null) return;\n          fun.if(suberr, () => fun.write(\"%s.push(...%s)\", errors, suberr));\n        };\n        const willRemoveAdditional = () => {\n          if (!removeAdditional) return false;\n          if (removeAdditional === true) return true;\n          if (removeAdditional === \"keyword\") {\n            if (!node.removeAdditional) return false;\n            consume(\"removeAdditional\", \"boolean\");\n            return true;\n          }\n          throw new Error(`Invalid removeAdditional: ${removeAdditional}`);\n        };\n        const additionalItems = (rulePath, limit, extra) => {\n          const handled = handle(rulePath, [\"object\", \"boolean\"], (ruleValue) => {\n            if (ruleValue === false && willRemoveAdditional()) {\n              fun.write(\"if (%s.length > %s) %s.length = %s\", name, limit, name, limit);\n              return null;\n            }\n            if (ruleValue === false && !extra) return format(\"%s.length > %s\", name, limit);\n            forArray(current, limit, (prop, i) => {\n              if (extra) fun.write(\"if (%s) continue\", extra(i));\n              return rule(prop, ruleValue, subPath(rulePath));\n            });\n            return null;\n          });\n          if (handled) evaluateDelta({ items: Infinity });\n        };\n        const additionalProperties = (rulePath, condition) => {\n          const handled = handle(rulePath, [\"object\", \"boolean\"], (ruleValue) => {\n            forObjectKeys(current, (sub, key) => {\n              fun.if(condition(key), () => {\n                if (ruleValue === false && willRemoveAdditional()) fun.write(\"delete %s[%s]\", name, key);\n                else rule(sub, ruleValue, subPath(rulePath));\n              });\n            });\n            return null;\n          });\n          if (handled) evaluateDelta({ properties: [true] });\n        };\n        const additionalCondition = (key, properties, patternProperties) => safeand(\n          ...properties.map((p) => format(\"%s !== %j\", key, p)),\n          ...patternProperties.map((p) => safenot(patternTestSafe(p, key)))\n        );\n        const lintRequired = (properties, patterns) => {\n          const regexps = patterns.map((p) => new RegExp(p, \"u\"));\n          const known = (key) => properties.includes(key) || regexps.some((r) => r.test(key));\n          for (const key of stat2.required) enforce(known(key), `Unknown required property:`, key);\n        };\n        const finalLint = [];\n        const checkNumbers = () => {\n          const minMax = (value, operator) => format(\"!(%d %c %s)\", value, operator, name);\n          if (Number.isFinite(node.exclusiveMinimum)) {\n            handle(\"exclusiveMinimum\", [\"finite\"], (min) => minMax(min, \"<\"));\n          } else {\n            handle(\"minimum\", [\"finite\"], (min) => minMax(min, node.exclusiveMinimum ? \"<\" : \"<=\"));\n            handle(\"exclusiveMinimum\", [\"boolean\"], null);\n          }\n          if (Number.isFinite(node.exclusiveMaximum)) {\n            handle(\"exclusiveMaximum\", [\"finite\"], (max) => minMax(max, \">\"));\n            enforceMinMax(\"minimum\", \"exclusiveMaximum\");\n            enforceMinMax(\"exclusiveMinimum\", \"exclusiveMaximum\");\n          } else if (node.maximum !== void 0) {\n            handle(\"maximum\", [\"finite\"], (max) => minMax(max, node.exclusiveMaximum ? \">\" : \">=\"));\n            handle(\"exclusiveMaximum\", [\"boolean\"], null);\n            enforceMinMax(\"minimum\", \"maximum\");\n            enforceMinMax(\"exclusiveMinimum\", \"maximum\");\n          }\n          const multipleOf = node.multipleOf === void 0 ? \"divisibleBy\" : \"multipleOf\";\n          handle(multipleOf, [\"finite\"], (value) => {\n            enforce(value > 0, `Invalid ${multipleOf}:`, value);\n            const [part, exp] = `${value}`.split(\"e-\");\n            const frac = `${part}.`.split(\".\")[1];\n            const e = frac.length + (exp ? Number(exp) : 0);\n            if (Number.isInteger(value * 2 ** e)) return format(\"%s %% %d !== 0\", name, value);\n            scope.isMultipleOf = functions.isMultipleOf;\n            const args = [name, value, e, Math.round(value * Math.pow(10, e))];\n            return format(\"!isMultipleOf(%s, %d, 1e%d, %d)\", ...args);\n          });\n        };\n        const checkStrings = () => {\n          handle(\"maxLength\", [\"natural\"], (max) => {\n            scope.stringLength = functions.stringLength;\n            return format(\"%s.length > %d && stringLength(%s) > %d\", name, max, name, max);\n          });\n          handle(\"minLength\", [\"natural\"], (min) => {\n            scope.stringLength = functions.stringLength;\n            return format(\"%s.length < %d || stringLength(%s) < %d\", name, min, name, min);\n          });\n          enforceMinMax(\"minLength\", \"maxLength\");\n          prevWrap(true, () => {\n            const checkFormat = (fmtname, target, formatsObj = fmts) => {\n              const known = typeof fmtname === \"string\" && functions.hasOwn(formatsObj, fmtname);\n              enforce(known, \"Unrecognized format used:\", fmtname);\n              const formatImpl = formatsObj[fmtname];\n              const valid = formatImpl instanceof RegExp || typeof formatImpl === \"function\";\n              enforce(valid, \"Invalid format used:\", fmtname);\n              if (!formatAssertion) return null;\n              if (formatImpl instanceof RegExp) {\n                if (functions.hasOwn(optFormats, fmtname)) enforceRegex(formatImpl.source);\n                return format(\"!%s.test(%s)\", genformat(formatImpl), target);\n              }\n              return format(\"!%s(%s)\", genformat(formatImpl), target);\n            };\n            handle(\"format\", [\"string\"], (value) => {\n              evaluateDelta({ fullstring: true });\n              return checkFormat(value, name);\n            });\n            handle(\"pattern\", [\"string\"], (pattern) => {\n              enforceRegex(pattern);\n              evaluateDelta({ fullstring: true });\n              return noopRegExps.has(pattern) ? null : safenot(patternTestSafe(pattern, name));\n            });\n            enforce(node.contentSchema !== false, \"contentSchema cannot be set to false\");\n            const cV = contentValidation === void 0 ? getMeta().contentValidation : contentValidation;\n            const haveContent = node.contentEncoding || node.contentMediaType || node.contentSchema;\n            const contentErr = '\"content*\" keywords are disabled by default per spec, enable with { contentValidation = true } option (see doc/Options.md for more info)';\n            enforce(!haveContent || cV || allowUnusedKeywords, contentErr);\n            if (haveContent && cV) {\n              const dec = gensym(\"dec\");\n              if (node.contentMediaType) fun.write(\"let %s = %s\", dec, name);\n              if (node.contentEncoding === \"base64\") {\n                errorIf(checkFormat(\"base64\", name, formats.extra), { path: [\"contentEncoding\"] });\n                if (node.contentMediaType) {\n                  scope.deBase64 = functions.deBase64;\n                  fun.write(\"try {\");\n                  fun.write(\"%s = deBase64(%s)\", dec, dec);\n                }\n                consume(\"contentEncoding\", \"string\");\n              } else enforce(!node.contentEncoding, \"Unknown contentEncoding:\", node.contentEncoding);\n              let json = false;\n              if (node.contentMediaType === \"application/json\") {\n                fun.write(\"try {\");\n                fun.write(\"%s = JSON.parse(%s)\", dec, dec);\n                json = true;\n                consume(\"contentMediaType\", \"string\");\n              } else enforce(!node.contentMediaType, \"Unknown contentMediaType:\", node.contentMediaType);\n              if (node.contentSchema) {\n                enforce(json, \"contentSchema requires contentMediaType application/json\");\n                const decprop = Object.freeze({ name: dec, errorParent: current });\n                rule(decprop, node.contentSchema, subPath(\"contentSchema\"));\n                consume(\"contentSchema\", \"object\", \"array\");\n                evaluateDelta({ fullstring: true });\n              }\n              if (node.contentMediaType) {\n                fun.write(\"} catch (e) {\");\n                error({ path: [\"contentMediaType\"] });\n                fun.write(\"}\");\n                if (node.contentEncoding) {\n                  fun.write(\"} catch (e) {\");\n                  error({ path: [\"contentEncoding\"] });\n                  fun.write(\"}\");\n                }\n              }\n            }\n          });\n        };\n        const checkArrays = () => {\n          handle(\"maxItems\", [\"natural\"], (max) => {\n            const prefixItemsName = getMeta().newItemsSyntax ? \"prefixItems\" : \"items\";\n            if (Array.isArray(node[prefixItemsName]) && node[prefixItemsName].length > max)\n              fail(`Invalid maxItems: ${max} is less than ${prefixItemsName} array length`);\n            return format(\"%s.length > %d\", name, max);\n          });\n          handle(\"minItems\", [\"natural\"], (min) => format(\"%s.length < %d\", name, min));\n          enforceMinMax(\"minItems\", \"maxItems\");\n          const checkItemsArray = (items) => {\n            for (let p = 0; p < items.length; p++) rule(currPropImm(p), items[p], subPath(`${p}`));\n            evaluateDelta({ items: items.length });\n            return null;\n          };\n          if (getMeta().newItemsSyntax) {\n            handle(\"prefixItems\", [\"array\"], checkItemsArray);\n            additionalItems(\"items\", format(\"%d\", (node.prefixItems || []).length));\n          } else if (Array.isArray(node.items)) {\n            handle(\"items\", [\"array\"], checkItemsArray);\n            additionalItems(\"additionalItems\", format(\"%d\", node.items.length));\n          } else {\n            handle(\"items\", [\"object\", \"boolean\"], (items) => {\n              forArray(current, format(\"0\"), (prop) => rule(prop, items, subPath(\"items\")));\n              evaluateDelta({ items: Infinity });\n              return null;\n            });\n          }\n          checkContains((run) => {\n            forArray(current, format(\"0\"), (prop, i) => {\n              run(prop, () => {\n                evaluateDelta({ dyn: { item: true } });\n                evaluateDeltaDynamic({ item: i });\n              });\n            });\n          });\n          const itemsSimple = (ischema) => {\n            if (!isPlainObject(ischema)) return false;\n            if (ischema.enum || functions.hasOwn(ischema, \"const\")) return true;\n            if (ischema.type) {\n              const itemTypes = Array.isArray(ischema.type) ? ischema.type : [ischema.type];\n              if (itemTypes.every((itemType) => primitiveTypes.includes(itemType))) return true;\n            }\n            if (ischema.$ref) {\n              const [sub] = resolveReference(root, schemas, ischema.$ref, basePath())[0] || [];\n              if (itemsSimple(sub)) return true;\n            }\n            return false;\n          };\n          const itemsSimpleOrFalse = (ischema) => ischema === false || itemsSimple(ischema);\n          const uniqueSimple = () => {\n            if (node.maxItems !== void 0 || itemsSimpleOrFalse(node.items)) return true;\n            if (Array.isArray(node.items) && itemsSimpleOrFalse(node.additionalItems)) return true;\n            return false;\n          };\n          prevWrap(true, () => {\n            handle(\"uniqueItems\", [\"boolean\"], (uniqueItems) => {\n              if (uniqueItems === false) return null;\n              if (!uniqueSimple()) complex(\"maxItems should be specified for non-primitive uniqueItems\");\n              Object.assign(scope, { unique: functions.unique, deepEqual: functions.deepEqual });\n              return format(\"!unique(%s)\", name);\n            });\n          });\n        };\n        const checked = (p) => !allErrors && (stat2.required.includes(p) || queryCurrent().some((h) => h.stat.required.includes(p)));\n        const checkObjects = () => {\n          const propertiesCount = format(\"Object.keys(%s).length\", name);\n          handle(\"maxProperties\", [\"natural\"], (max) => format(\"%s > %d\", propertiesCount, max));\n          handle(\"minProperties\", [\"natural\"], (min) => format(\"%s < %d\", propertiesCount, min));\n          enforceMinMax(\"minProperties\", \"maxProperties\");\n          handle(\"propertyNames\", [\"object\", \"boolean\"], (s) => {\n            forObjectKeys(current, (sub, key) => {\n              const nameSchema = typeof s === \"object\" && !s.$ref ? { type: \"string\", ...s } : s;\n              const nameprop = Object.freeze({ name: key, errorParent: sub, type: \"string\" });\n              rule(nameprop, nameSchema, subPath(\"propertyNames\"));\n            });\n            return null;\n          });\n          handle(\"required\", [\"array\"], (required) => {\n            for (const req of required) {\n              if (checked(req)) continue;\n              const prop = currPropImm(req);\n              errorIf(safenot(present(prop)), { path: [\"required\"], prop });\n            }\n            evaluateDelta({ required });\n            return null;\n          });\n          for (const dependencies of [\"dependencies\", \"dependentRequired\", \"dependentSchemas\"]) {\n            if (dependencies !== \"dependencies\" && getMeta().dependentUnsupported) continue;\n            handle(dependencies, [\"object\"], (value) => {\n              for (const key of Object.keys(value)) {\n                const deps = typeof value[key] === \"string\" ? [value[key]] : value[key];\n                const item = currPropImm(key, checked(key));\n                if (Array.isArray(deps) && dependencies !== \"dependentSchemas\") {\n                  const clauses = deps.filter((k) => !checked(k)).map((k) => present(currPropImm(k)));\n                  const condition = safenot(safeand(...clauses));\n                  const errorArgs = { path: [dependencies, key] };\n                  if (clauses.length === 0) {\n                  } else if (item.checked) {\n                    errorIf(condition, errorArgs);\n                    evaluateDelta({ required: deps });\n                  } else {\n                    errorIf(safeand(present(item), condition), errorArgs);\n                  }\n                } else if (isSchemaish(deps) && dependencies !== \"dependentRequired\") {\n                  uncertain(dependencies);\n                  fun.if(item.checked ? true : present(item), () => {\n                    const delta = rule(current, deps, subPath(dependencies, key), dyn);\n                    evaluateDelta(orDelta({}, delta));\n                    evaluateDeltaDynamic(delta);\n                  });\n                } else fail(`Unexpected ${dependencies} entry`);\n              }\n              return null;\n            });\n          }\n          handle(\"propertyDependencies\", [\"object\"], (propertyDependencies) => {\n            for (const [key, variants] of Object.entries(propertyDependencies)) {\n              enforce(isPlainObject(variants), \"propertyDependencies must be an object\");\n              uncertain(\"propertyDependencies\");\n              const item = currPropImm(key, checked(key));\n              fun.if(item.checked ? true : present(item), () => {\n                for (const [val, deps] of Object.entries(variants)) {\n                  enforce(isSchemaish(deps), \"propertyDependencies must contain schemas\");\n                  fun.if(compare(buildName(item), val), () => {\n                    const delta = rule(current, deps, subPath(\"propertyDependencies\", key, val), dyn);\n                    evaluateDelta(orDelta({}, delta));\n                    evaluateDeltaDynamic(delta);\n                  });\n                }\n              });\n            }\n            return null;\n          });\n          handle(\"properties\", [\"object\"], (properties) => {\n            for (const p of Object.keys(properties)) {\n              if (constProp === p) continue;\n              rule(currPropImm(p, checked(p)), properties[p], subPath(\"properties\", p));\n            }\n            evaluateDelta({ properties: Object.keys(properties) });\n            return null;\n          });\n          prevWrap(node.patternProperties, () => {\n            handle(\"patternProperties\", [\"object\"], (patternProperties) => {\n              forObjectKeys(current, (sub, key) => {\n                for (const p of Object.keys(patternProperties)) {\n                  enforceRegex(p, node.propertyNames || {});\n                  fun.if(patternTestSafe(p, key), () => {\n                    rule(sub, patternProperties[p], subPath(\"patternProperties\", p));\n                  });\n                }\n              });\n              evaluateDelta({ patterns: Object.keys(patternProperties) });\n              return null;\n            });\n            if (node.additionalProperties || node.additionalProperties === false) {\n              const properties = Object.keys(node.properties || {});\n              const patternProperties = Object.keys(node.patternProperties || {});\n              if (node.additionalProperties === false) {\n                finalLint.push(() => lintRequired(properties, patternProperties));\n              }\n              const condition = (key) => additionalCondition(key, properties, patternProperties);\n              additionalProperties(\"additionalProperties\", condition);\n            }\n          });\n          if (getMeta().objectContains) {\n            checkContains((run) => {\n              forObjectKeys(current, (prop, i) => {\n                run(prop, () => {\n                  evaluateDelta({ dyn: { properties: [true] } });\n                  evaluateDeltaDynamic({ propertiesVars: [i] });\n                });\n              });\n            });\n          }\n        };\n        const checkConst = () => {\n          const handledConst = handle(\"const\", [\"jsonval\"], (val) => safenot(compare(name, val)));\n          if (handledConst && !allowUnusedKeywords) return true;\n          const handledEnum = handle(\"enum\", [\"array\"], (vals) => {\n            const objects = vals.filter((value) => value && typeof value === \"object\");\n            const primitive = vals.filter((value) => !(value && typeof value === \"object\"));\n            return safenotor(...[...primitive, ...objects].map((value) => compare(name, value)));\n          });\n          return handledConst || handledEnum;\n        };\n        const checkContains = (iterate) => {\n          handle(\"contains\", [\"object\", \"boolean\"], () => {\n            uncertain(\"contains\");\n            if (getMeta().objectContains && typeApplicable(\"array\") && typeApplicable(\"object\")) {\n              enforceValidation(\"possible type confusion in 'contains',\", \"forbid 'object' or 'array'\");\n            }\n            const passes = gensym(\"passes\");\n            fun.write(\"let %s = 0\", passes);\n            const suberr = suberror();\n            iterate((prop, evaluate) => {\n              const { sub } = subrule(suberr, prop, node.contains, subPath(\"contains\"));\n              fun.if(sub, () => {\n                fun.write(\"%s++\", passes);\n                if (getMeta().containsEvaluates) {\n                  enforce(!removeAdditional, `Can't use removeAdditional with draft2020+ \"contains\"`);\n                  evaluate();\n                }\n              });\n            });\n            if (!handle(\"minContains\", [\"natural\"], (mn) => format(\"%s < %d\", passes, mn), { suberr }))\n              errorIf(format(\"%s < 1\", passes), { path: [\"contains\"], suberr });\n            handle(\"maxContains\", [\"natural\"], (max) => format(\"%s > %d\", passes, max));\n            enforceMinMax(\"minContains\", \"maxContains\");\n            return null;\n          });\n        };\n        const checkGeneric = () => {\n          handle(\"not\", [\"object\", \"boolean\"], (not) => subrule(null, current, not, subPath(\"not\")).sub);\n          if (node.not) uncertain(\"not\");\n          const thenOrElse = node.then || node.then === false || node.else || node.else === false;\n          if (thenOrElse || allowUnusedKeywords)\n            handle(\"if\", [\"object\", \"boolean\"], (ifS) => {\n              uncertain(\"if/then/else\");\n              const { sub, delta: deltaIf } = subrule(null, current, ifS, subPath(\"if\"), dyn);\n              let handleElse, handleThen, deltaElse, deltaThen;\n              handle(\"else\", [\"object\", \"boolean\"], (elseS) => {\n                handleElse = () => {\n                  deltaElse = rule(current, elseS, subPath(\"else\"), dyn);\n                  evaluateDeltaDynamic(deltaElse);\n                };\n                return null;\n              });\n              handle(\"then\", [\"object\", \"boolean\"], (thenS) => {\n                handleThen = () => {\n                  deltaThen = rule(current, thenS, subPath(\"then\"), dyn);\n                  evaluateDeltaDynamic(andDelta(deltaIf, deltaThen));\n                };\n                return null;\n              });\n              if (!handleThen && !deltaEmpty(deltaIf)) handleThen = () => evaluateDeltaDynamic(deltaIf);\n              fun.if(sub, handleThen, handleElse);\n              evaluateDelta(orDelta(deltaElse || {}, andDelta(deltaIf, deltaThen || {})));\n              return null;\n            });\n          const performAllOf = (allOf, rulePath = \"allOf\") => {\n            enforce(allOf.length > 0, `${rulePath} cannot be empty`);\n            for (const [key, sch] of Object.entries(allOf))\n              evaluateDelta(rule(current, sch, subPath(rulePath, key), dyn));\n            return null;\n          };\n          handle(\"allOf\", [\"array\"], (allOf) => performAllOf(allOf));\n          let handleDiscriminator = null;\n          handle(\"discriminator\", [\"object\"], (discriminator) => {\n            const seen = /* @__PURE__ */ new Set();\n            const fix = (check, message, arg) => enforce(check, `[discriminator]: ${message}`, arg);\n            const { propertyName: pname, mapping: map, ...e0 } = discriminator;\n            const prop = currPropImm(pname);\n            fix(pname && !node.oneOf !== !node.anyOf, \"need propertyName, oneOf OR anyOf\");\n            fix(Object.keys(e0).length === 0, 'only \"propertyName\" and \"mapping\" are supported');\n            const keylen = (obj) => isPlainObject(obj) ? Object.keys(obj).length : null;\n            handleDiscriminator = (branches, ruleName) => {\n              const runDiscriminator = () => {\n                fun.write(\"switch (%s) {\", buildName(prop));\n                let delta;\n                for (const [i, branch] of Object.entries(branches)) {\n                  const { const: myval, enum: myenum, ...e1 } = (branch.properties || {})[pname] || {};\n                  let vals = myval !== void 0 ? [myval] : myenum;\n                  if (!vals && branch.$ref) {\n                    const [sub] = resolveReference(root, schemas, branch.$ref, basePath())[0] || [];\n                    enforce(isPlainObject(sub), \"failed to resolve $ref:\", branch.$ref);\n                    const rprop = (sub.properties || {})[pname] || {};\n                    vals = rprop.const !== void 0 ? [rprop.const] : rprop.enum;\n                  }\n                  const ok1 = Array.isArray(vals) && vals.length > 0;\n                  fix(ok1, \"branches should have unique string const or enum values for [propertyName]\");\n                  const ok2 = Object.keys(e1).length === 0 && (!myval || !myenum);\n                  fix(ok2, \"only const OR enum rules are allowed on [propertyName] in branches\");\n                  for (const val of vals) {\n                    const okMapping = !map || functions.hasOwn(map, val) && map[val] === branch.$ref;\n                    fix(okMapping, \"mismatching mapping for\", val);\n                    const valok = typeof val === \"string\" && !seen.has(val);\n                    fix(valok, \"const/enum values for [propertyName] should be unique strings\");\n                    seen.add(val);\n                    fun.write(\"case %j:\", val);\n                  }\n                  const subd = rule(current, branch, subPath(ruleName, i), dyn, { constProp: pname });\n                  evaluateDeltaDynamic(subd);\n                  delta = delta ? orDelta(delta, subd) : subd;\n                  fun.write(\"break\");\n                }\n                fix(map === void 0 || keylen(map) === seen.size, \"mismatching mapping size\");\n                evaluateDelta(delta);\n                fun.write(\"default:\");\n                error({ path: [ruleName] });\n                fun.write(\"}\");\n              };\n              const propCheck = () => {\n                if (!checked(pname)) {\n                  const errorPath = [\"discriminator\", \"propertyName\"];\n                  fun.if(present(prop), runDiscriminator, () => error({ path: errorPath, prop }));\n                } else runDiscriminator();\n              };\n              if (allErrors || !functions.deepEqual(stat2.type, [\"object\"])) {\n                fun.if(types.get(\"object\")(name), propCheck, () => error({ path: [\"discriminator\"] }));\n              } else propCheck();\n              fix(functions.deepEqual(stat2.type, [\"object\"]), \"has to be checked for type:\", \"object\");\n              fix(stat2.required.includes(pname), \"propertyName should be placed in required:\", pname);\n              return null;\n            };\n            return null;\n          });\n          const uncertainBranchTypes = (key, arr) => {\n            const btypes = arr.map((x) => x.type || (Array.isArray(x.const) ? \"array\" : typeof x.const));\n            const maybeObj = btypes.filter((x) => !primitiveTypes.includes(x) && x !== \"array\").length;\n            const maybeArr = btypes.filter((x) => !primitiveTypes.includes(x) && x !== \"object\").length;\n            if (maybeObj > 1 || maybeArr > 1) uncertain(`${key}, use discriminator to make it certain`);\n          };\n          handle(\"anyOf\", [\"array\"], (anyOf) => {\n            enforce(anyOf.length > 0, \"anyOf cannot be empty\");\n            if (anyOf.length === 1) return performAllOf(anyOf);\n            if (handleDiscriminator) return handleDiscriminator(anyOf, \"anyOf\");\n            const suberr = suberror();\n            if (!canSkipDynamic()) {\n              uncertainBranchTypes(\"anyOf\", anyOf);\n              const entries = Object.entries(anyOf).map(\n                ([key, sch]) => subrule(suberr, current, sch, subPath(\"anyOf\", key), dyn)\n              );\n              evaluateDelta(entries.map((x) => x.delta).reduce((acc, cur) => orDelta(acc, cur)));\n              errorIf(safenotor(...entries.map(({ sub }) => sub)), { path: [\"anyOf\"], suberr });\n              for (const { delta: delta2, sub } of entries) fun.if(sub, () => evaluateDeltaDynamic(delta2));\n              return null;\n            }\n            const constBlocks = anyOf.filter((x) => functions.hasOwn(x, \"const\"));\n            const otherBlocks = anyOf.filter((x) => !functions.hasOwn(x, \"const\"));\n            uncertainBranchTypes(\"anyOf\", otherBlocks);\n            const blocks = [...constBlocks, ...otherBlocks];\n            let delta;\n            if (!getMeta().exclusiveRefs) {\n              const entries = Object.entries(anyOf).map(\n                ([key, sch]) => subrule(suberr, current, sch, subPath(\"anyOf\", key), dyn)\n              );\n              delta = entries.map((x) => x.delta).reduce((acc, cur) => orDelta(acc, cur));\n              errorIf(safenotor(...entries.map(({ sub }) => sub)), { path: [\"anyOf\"], suberr });\n            } else {\n              let body = () => error({ path: [\"anyOf\"], suberr });\n              for (const [key, sch] of Object.entries(blocks).reverse()) {\n                const oldBody = body;\n                body = () => {\n                  const { sub, delta: deltaVar } = subrule(suberr, current, sch, subPath(\"anyOf\", key));\n                  fun.if(safenot(sub), oldBody);\n                  delta = delta ? orDelta(delta, deltaVar) : deltaVar;\n                };\n              }\n              body();\n            }\n            evaluateDelta(delta);\n            return null;\n          });\n          handle(\"oneOf\", [\"array\"], (oneOf) => {\n            enforce(oneOf.length > 0, \"oneOf cannot be empty\");\n            if (oneOf.length === 1) return performAllOf(oneOf);\n            if (handleDiscriminator) return handleDiscriminator(oneOf, \"oneOf\");\n            uncertainBranchTypes(\"oneOf\", oneOf);\n            const passes = gensym(\"passes\");\n            fun.write(\"let %s = 0\", passes);\n            const suberr = suberror();\n            let delta;\n            let i = 0;\n            const entries = Object.entries(oneOf).map(([key, sch]) => {\n              if (!includeErrors && i++ > 1) errorIf(format(\"%s > 1\", passes), { path: [\"oneOf\"] });\n              const entry = subrule(suberr, current, sch, subPath(\"oneOf\", key), dyn);\n              fun.if(entry.sub, () => fun.write(\"%s++\", passes));\n              delta = delta ? orDelta(delta, entry.delta) : entry.delta;\n              return entry;\n            });\n            evaluateDelta(delta);\n            errorIf(format(\"%s !== 1\", passes), { path: [\"oneOf\"] });\n            fun.if(format(\"%s === 0\", passes), () => mergeerror(suberr));\n            for (const entry of entries) fun.if(entry.sub, () => evaluateDeltaDynamic(entry.delta));\n            return null;\n          });\n        };\n        const typeWrap = (checkBlock, validTypes, queryType) => {\n          const [funSize, unusedSize] = [fun.size(), unused.size];\n          fun.if(definitelyType(...validTypes) ? true : queryType, checkBlock);\n          if (funSize !== fun.size() || unusedSize !== unused.size)\n            enforce(typeApplicable(...validTypes), `Unexpected rules in type`, node.type);\n        };\n        const checkArraysFinal = () => {\n          if (stat2.items === Infinity) {\n            if (node.unevaluatedItems === false) consume(\"unevaluatedItems\", \"boolean\");\n          } else if (node.unevaluatedItems || node.unevaluatedItems === false) {\n            if (isDynamic(stat2).items) {\n              if (!opts[optDynamic]) throw new Error(\"[opt] Dynamic unevaluated tracing not enabled\");\n              const limit = format(\"Math.max(%d, ...%s)\", stat2.items, dyn.items);\n              const extra = (i) => format(\"%s.includes(%s)\", dyn.item, i);\n              additionalItems(\"unevaluatedItems\", limit, getMeta().containsEvaluates ? extra : null);\n            } else {\n              additionalItems(\"unevaluatedItems\", format(\"%d\", stat2.items));\n            }\n          }\n        };\n        const checkObjectsFinal = () => {\n          prevWrap(stat2.patterns.length > 0 || stat2.dyn.patterns.length > 0 || stat2.unknown, () => {\n            if (stat2.properties.includes(true)) {\n              if (node.unevaluatedProperties === false) consume(\"unevaluatedProperties\", \"boolean\");\n            } else if (node.unevaluatedProperties || node.unevaluatedProperties === false) {\n              const notStatic = (key) => additionalCondition(key, stat2.properties, stat2.patterns);\n              if (isDynamic(stat2).properties) {\n                if (!opts[optDynamic]) throw new Error(\"[opt] Dynamic unevaluated tracing not enabled\");\n                scope.propertyIn = functions.propertyIn;\n                const notDynamic = (key) => format(\"!propertyIn(%s, %s)\", key, dyn.props);\n                const condition = (key) => safeand(notStatic(key), notDynamic(key));\n                additionalProperties(\"unevaluatedProperties\", condition);\n              } else {\n                if (node.unevaluatedProperties === false) lintRequired(stat2.properties, stat2.patterns);\n                additionalProperties(\"unevaluatedProperties\", notStatic);\n              }\n            }\n          });\n        };\n        const performValidation = () => {\n          if (prev !== null) fun.write(\"const %s = errorCount\", prev);\n          if (checkConst()) {\n            const typeKeys = [...types.keys()];\n            evaluateDelta({ properties: [true], items: Infinity, type: typeKeys, fullstring: true });\n            if (!allowUnusedKeywords) {\n              enforce(unused.size === 0, \"Unexpected keywords mixed with const or enum:\", [...unused]);\n              return;\n            }\n          }\n          typeWrap(checkNumbers, [\"number\", \"integer\"], types.get(\"number\")(name));\n          typeWrap(checkStrings, [\"string\"], types.get(\"string\")(name));\n          typeWrap(checkArrays, [\"array\"], types.get(\"array\")(name));\n          typeWrap(checkObjects, [\"object\"], types.get(\"object\")(name));\n          checkGeneric();\n          typeWrap(checkArraysFinal, [\"array\"], types.get(\"array\")(name));\n          typeWrap(checkObjectsFinal, [\"object\"], types.get(\"object\")(name));\n          for (const lint of finalLint) lint();\n          applyDynamicToDynamic(trace, local2.item, local2.items, local2.props);\n        };\n        const writeMain = () => {\n          if (local2.item) fun.write(\"const %s = []\", local2.item);\n          if (local2.items) fun.write(\"const %s = [0]\", local2.items);\n          if (local2.props) fun.write(\"const %s = [[], []]\", local2.props);\n          handle(\"$ref\", [\"string\"], ($ref) => {\n            const resolved = resolveReference(root, schemas, $ref, basePath());\n            const [sub, subRoot, path] = resolved[0] || [];\n            if (!sub && sub !== false) {\n              fail(\"failed to resolve $ref:\", $ref);\n              if (lintOnly) return null;\n            }\n            const n = compileSub(sub, subRoot, path);\n            const rn = sub === schema ? funname : n;\n            if (!scope[rn]) throw new Error(\"Unexpected: coherence check failed\");\n            if (!scope[rn][evaluatedStatic] && sub.type) {\n              const type = Array.isArray(sub.type) ? sub.type : [sub.type];\n              evaluateDelta({ type });\n              if (requireValidation) {\n                refsNeedFullValidation.add(rn);\n                if (type.includes(\"array\")) evaluateDelta({ items: Infinity });\n                if (type.includes(\"object\")) evaluateDelta({ properties: [true] });\n              }\n              if (requireStringValidation && type.includes(\"string\")) {\n                refsNeedFullValidation.add(rn);\n                evaluateDelta({ fullstring: true });\n              }\n            }\n            return applyRef(n, { path: [\"$ref\"] });\n          });\n          if (getMeta().exclusiveRefs) {\n            enforce(!opts[optDynamic], \"unevaluated* is supported only on draft2019-09 and above\");\n            if (node.$ref) return;\n          }\n          handle(\"$recursiveRef\", [\"string\"], ($recursiveRef) => {\n            if (!opts[optRecAnchors]) throw new Error(\"[opt] Recursive anchors are not enabled\");\n            enforce($recursiveRef === \"#\", 'Behavior of $recursiveRef is defined only for \"#\"');\n            const resolved = resolveReference(root, schemas, \"#\", basePath());\n            const [sub, subRoot, path] = resolved[0];\n            laxMode(sub.$recursiveAnchor, \"$recursiveRef without $recursiveAnchor\");\n            const n = compileSub(sub, subRoot, path);\n            const nrec = sub.$recursiveAnchor ? format(\"(recursive || %s)\", n) : n;\n            return applyRef(nrec, { path: [\"$recursiveRef\"] });\n          });\n          handle(\"$dynamicRef\", [\"string\"], ($dynamicRef) => {\n            if (!opts[optDynAnchors]) throw new Error(\"[opt] Dynamic anchors are not enabled\");\n            laxMode(/^[^#]*#[a-zA-Z0-9_-]+$/.test($dynamicRef), \"Unsupported $dynamicRef format\");\n            const dynamicTail = $dynamicRef.replace(/^[^#]+/, \"\");\n            const resolved = resolveReference(root, schemas, $dynamicRef, basePath());\n            if (!resolved[0] && !getMeta().bookending) {\n              laxMode(false, \"$dynamicRef bookending resolution failed (even though not required)\");\n              scope.dynamicResolve = functions.dynamicResolve;\n              const nrec2 = format(\"dynamicResolve(dynAnchors || [], %j)\", dynamicTail);\n              return applyRef(nrec2, { path: [\"$dynamicRef\"] });\n            }\n            enforce(resolved[0], \"$dynamicRef bookending resolution failed\", $dynamicRef);\n            const [sub, subRoot, path] = resolved[0];\n            const ok = sub.$dynamicAnchor && `#${sub.$dynamicAnchor}` === dynamicTail;\n            laxMode(ok, \"$dynamicRef without $dynamicAnchor in the same scope\");\n            const n = compileSub(sub, subRoot, path);\n            scope.dynamicResolve = functions.dynamicResolve;\n            const nrec = ok ? format(\"(dynamicResolve(dynAnchors || [], %j) || %s)\", dynamicTail, n) : n;\n            return applyRef(nrec, { path: [\"$dynamicRef\"] });\n          });\n          let typeCheck = null;\n          handle(\"type\", [\"string\", \"array\"], (type) => {\n            const typearr = Array.isArray(type) ? type : [type];\n            for (const t of typearr) enforce(typeof t === \"string\" && types.has(t), \"Unknown type:\", t);\n            if (current.type) {\n              enforce(functions.deepEqual(typearr, [current.type]), \"One type allowed:\", current.type);\n              evaluateDelta({ type: [current.type] });\n              return null;\n            }\n            if (parentCheckedType(...typearr)) return null;\n            const filteredTypes = typearr.filter((t) => typeApplicable(t));\n            if (filteredTypes.length === 0) fail(\"No valid types possible\");\n            evaluateDelta({ type: typearr });\n            typeCheck = safenotor(...filteredTypes.map((t) => types.get(t)(name)));\n            return null;\n          });\n          if (typeCheck && allErrors) {\n            fun.if(typeCheck, () => error({ path: [\"type\"] }), performValidation);\n          } else {\n            if (typeCheck) errorIf(typeCheck, { path: [\"type\"] });\n            performValidation();\n          }\n          if (stat2.items < Infinity && node.maxItems <= stat2.items) evaluateDelta({ items: Infinity });\n        };\n        if (node.default !== void 0 && useDefaults) {\n          if (definitelyPresent) fail(\"Can not apply default value here (e.g. at root)\");\n          const defvalue = get(\"default\", \"jsonval\");\n          fun.if(present(current), writeMain, () => fun.write(\"%s = %j\", name, defvalue));\n        } else {\n          handle(\"default\", [\"jsonval\"], null);\n          fun.if(definitelyPresent ? true : present(current), writeMain);\n        }\n        basePathStack.length = basePathStackLength;\n        if (recursiveLog[0] && recursiveLog[recursiveLog.length - 1][0] === node) recursiveLog.pop();\n        if (isDynScope && node !== schema) fun.write(\"dynLocal.shift()\");\n        if (!allowUnreachable) enforce(!fun.optimizedOut, \"some checks are never reachable\");\n        if (isSub) {\n          const logicalOp = [\"not\", \"if\", \"then\", \"else\"].includes(schemaPath[schemaPath.length - 1]);\n          const branchOp = [\"oneOf\", \"anyOf\", \"allOf\"].includes(schemaPath[schemaPath.length - 2]);\n          const depOp = [\"dependencies\", \"dependentSchemas\"].includes(schemaPath[schemaPath.length - 2]);\n          const propDepOp = [\"propertyDependencies\"].includes(schemaPath[schemaPath.length - 3]);\n          enforce(logicalOp || branchOp || depOp || propDepOp, \"Unexpected logical path\");\n        } else if (!schemaPath.includes(\"not\")) {\n          const isRefTop = schema !== root && node === schema;\n          if (!isRefTop || refsNeedFullValidation.has(funname)) {\n            refsNeedFullValidation.delete(funname);\n            if (!stat2.type) enforceValidation(\"type\");\n            if (typeApplicable(\"array\") && stat2.items !== Infinity)\n              enforceValidation(node.items ? \"additionalItems or unevaluatedItems\" : \"items rule\");\n            if (typeApplicable(\"object\") && !stat2.properties.includes(true))\n              enforceValidation(\"additionalProperties or unevaluatedProperties\");\n            if (!stat2.fullstring && requireStringValidation) {\n              const stringWarning = \"pattern, format or contentSchema should be specified for strings\";\n              fail(`[requireStringValidation] ${stringWarning}, use pattern: ^[\\\\s\\\\S]*$ to opt-out`);\n            }\n          }\n          if (typeof node.propertyNames !== \"object\") {\n            for (const sub of [\"additionalProperties\", \"unevaluatedProperties\"])\n              if (node[sub]) enforceValidation(`wild-card ${sub}`, \"requires propertyNames\");\n          }\n        }\n        if (node.properties && !node.required) enforceValidation(\"if properties is used, required\");\n        enforce(unused.size === 0 || allowUnusedKeywords, \"Unprocessed keywords:\", [...unused]);\n        return { stat: stat2, local: local2 };\n      };\n      const { stat, local } = visit(format(\"validate.errors\"), [], { name: safe(\"data\") }, schema, []);\n      if (refsNeedFullValidation.has(funname)) throw new Error(\"Unexpected: unvalidated cyclic ref\");\n      if (opts[optDynamic] && (isDynamic(stat).items || isDynamic(stat).properties)) {\n        if (!local) throw new Error(\"Failed to trace dynamic properties\");\n        fun.write(\"validate.evaluatedDynamic = [%s, %s, %s]\", local.item, local.items, local.props);\n      }\n      if (allErrors) fun.write(\"return errorCount === 0\");\n      else fun.write(\"return true\");\n      fun.write(\"}\");\n      if (!lintOnly) {\n        validate = fun.makeFunction(scope);\n        delete scope[funname];\n        scope[funname] = validate;\n      }\n      scope[funname][evaluatedStatic] = stat;\n      return funname;\n    };\n    var compile = (schemas, opts) => {\n      if (!Array.isArray(schemas)) throw new Error(\"Expected an array of schemas\");\n      try {\n        const scope = /* @__PURE__ */ Object.create(null);\n        const { getref } = scopeMethods(scope);\n        refsNeedFullValidation.clear();\n        rootMeta.clear();\n        const refs = schemas.map((s) => getref(s) || compileSchema(s, s, opts, scope));\n        if (refsNeedFullValidation.size !== 0) throw new Error(\"Unexpected: not all refs are validated\");\n        return { scope, refs };\n      } catch (e) {\n        if (!opts[optDynamic] && e.message === \"[opt] Dynamic unevaluated tracing not enabled\")\n          return compile(schemas, { ...opts, [optDynamic]: true });\n        if (!opts[optDynAnchors] && e.message === \"[opt] Dynamic anchors are not enabled\")\n          return compile(schemas, { ...opts, [optDynAnchors]: true });\n        if (!opts[optRecAnchors] && e.message === \"[opt] Recursive anchors are not enabled\")\n          return compile(schemas, { ...opts, [optRecAnchors]: true });\n        throw e;\n      } finally {\n        refsNeedFullValidation.clear();\n        rootMeta.clear();\n      }\n    };\n    module.exports = { compile };\n  }\n});\n\n// node_modules/@exodus/schemasafe/src/index.js\nvar require_index = __commonJS({\n  \"node_modules/@exodus/schemasafe/src/index.js\"(exports, module) {\n    var genfun = require_generate_function();\n    var { buildSchemas } = require_pointer();\n    var { compile } = require_compile();\n    var { deepEqual } = require_scope_functions();\n    var jsonCheckWithErrors = (validate) => function validateIsJSON(data) {\n      if (!deepEqual(data, JSON.parse(JSON.stringify(data)))) {\n        validateIsJSON.errors = [{ instanceLocation: \"#\", error: \"not JSON compatible\" }];\n        return false;\n      }\n      const res = validate(data);\n      validateIsJSON.errors = validate.errors;\n      return res;\n    };\n    var jsonCheckWithoutErrors = (validate) => (data) => deepEqual(data, JSON.parse(JSON.stringify(data))) && validate(data);\n    var validator = (schema, { parse = false, multi = false, jsonCheck = false, isJSON = false, schemas = [], ...opts } = {}) => {\n      if (jsonCheck && isJSON) throw new Error(\"Can not specify both isJSON and jsonCheck options\");\n      if (parse && (jsonCheck || isJSON))\n        throw new Error(\"jsonCheck and isJSON options are not applicable in parser mode\");\n      const mode = parse ? \"strong\" : \"default\";\n      const willJSON = isJSON || jsonCheck || parse;\n      const arg = multi ? schema : [schema];\n      const options = { mode, ...opts, schemas: buildSchemas(schemas, arg), isJSON: willJSON };\n      const { scope, refs } = compile(arg, options);\n      if (opts.dryRun) return;\n      if (opts.lint) return scope.lintErrors;\n      const fun = genfun();\n      if (parse) {\n        scope.parseWrap = opts.includeErrors ? parseWithErrors : parseWithoutErrors;\n      } else if (jsonCheck) {\n        scope.deepEqual = deepEqual;\n        scope.jsonCheckWrap = opts.includeErrors ? jsonCheckWithErrors : jsonCheckWithoutErrors;\n      }\n      if (multi) {\n        fun.write(\"[\");\n        for (const ref of refs.slice(0, -1)) fun.write(\"%s,\", ref);\n        if (refs.length > 0) fun.write(\"%s\", refs[refs.length - 1]);\n        fun.write(\"]\");\n        if (parse) fun.write(\".map(parseWrap)\");\n        else if (jsonCheck) fun.write(\".map(jsonCheckWrap)\");\n      } else {\n        if (parse) fun.write(\"parseWrap(%s)\", refs[0]);\n        else if (jsonCheck) fun.write(\"jsonCheckWrap(%s)\", refs[0]);\n        else fun.write(\"%s\", refs[0]);\n      }\n      const validate = fun.makeFunction(scope);\n      validate.toModule = ({ semi = true } = {}) => fun.makeModule(scope) + (semi ? \";\" : \"\");\n      validate.toJSON = () => schema;\n      return validate;\n    };\n    var parseWithErrors = (validate) => (src) => {\n      if (typeof src !== \"string\") return { valid: false, error: \"Input is not a string\" };\n      try {\n        const value = JSON.parse(src);\n        if (!validate(value)) {\n          const { keywordLocation, instanceLocation } = validate.errors[0];\n          const keyword = keywordLocation.slice(keywordLocation.lastIndexOf(\"/\") + 1);\n          const error = `JSON validation failed for ${keyword} at ${instanceLocation}`;\n          return { valid: false, error, errors: validate.errors };\n        }\n        return { valid: true, value };\n      } catch ({ message }) {\n        return { valid: false, error: message };\n      }\n    };\n    var parseWithoutErrors = (validate) => (src) => {\n      if (typeof src !== \"string\") return { valid: false };\n      try {\n        const value = JSON.parse(src);\n        if (!validate(value)) return { valid: false };\n        return { valid: true, value };\n      } catch (e) {\n        return { valid: false };\n      }\n    };\n    var parser = function(schema, { parse = true, ...opts } = {}) {\n      if (!parse) throw new Error(\"can not disable parse in parser\");\n      return validator(schema, { parse, ...opts });\n    };\n    var lint = function(schema, { lint: lintOption = true, ...opts } = {}) {\n      if (!lintOption) throw new Error(\"can not disable lint option in lint()\");\n      return validator(schema, { lint: lintOption, ...opts });\n    };\n    module.exports = { validator, parser, lint };\n  }\n});\nexport default require_index();\n", "import schemasafeModule from './vendor/schemasafe.esm.js'\nimport { isPlainObject } from '../helper/objectUtils.js'\n\nconst validatorCache = new WeakMap()\nconst customRuleCache = new WeakMap()\n\nconst { validator } = schemasafeModule\n\nexport function validateOptions(schema, data) {\n  const compiled = getValidator(schema)\n  const valid = compiled(data)\n  const schemaErrors = valid ? [] : compiled.errors || []\n  const convertedErrors = schemaErrors.map(convertError)\n\n  const customRules = getCustomRules(schema)\n  const customErrors = runCustomRules(customRules, data)\n\n  const errors = [...convertedErrors, ...customErrors]\n  return {\n    valid: errors.length === 0,\n    errors,\n  }\n}\n\nfunction getValidator(schema) {\n  let compiled = validatorCache.get(schema)\n  if (!compiled) {\n    compiled = validator(schema, {\n      includeErrors: true,\n      allErrors: true,\n      allowUnusedKeywords: true,\n    })\n    validatorCache.set(schema, compiled)\n  }\n  return compiled\n}\n\nfunction getCustomRules(schema) {\n  let rules = customRuleCache.get(schema)\n  if (!rules) {\n    rules = collectCustomRules(schema)\n    customRuleCache.set(schema, rules)\n  }\n  return rules\n}\n\nfunction collectCustomRules(schema, basePath = []) {\n  if (!isPlainObject(schema)) {\n    return []\n  }\n\n  const rules = []\n  if (schema['x-allowZeroOrMin'] !== undefined) {\n    rules.push({\n      path: basePath.join('.'),\n      min: schema['x-allowZeroOrMin'],\n    })\n  }\n\n  if (schema.properties) {\n    for (const [key, child] of Object.entries(schema.properties)) {\n      rules.push(...collectCustomRules(child, [...basePath, key]))\n    }\n  }\n\n  if (schema.items) {\n    if (Array.isArray(schema.items)) {\n      schema.items.forEach((item, index) => {\n        rules.push(...collectCustomRules(item, [...basePath, String(index)]))\n      })\n    } else {\n      rules.push(...collectCustomRules(schema.items, [...basePath, '0']))\n    }\n  }\n\n  return rules\n}\n\nfunction runCustomRules(rules, data) {\n  const errors = []\n  for (const rule of rules) {\n    const value = getValueByPath(data, rule.path)\n    if (value === undefined || value === null) {\n      continue\n    }\n    if (typeof value !== 'number') {\n      continue\n    }\n    if (value !== 0 && value < rule.min) {\n      errors.push({\n        path: rule.path,\n        message: `Must be 0 or at least ${rule.min}`,\n      })\n    }\n  }\n  return errors\n}\n\nfunction getValueByPath(object, path) {\n  if (!path) {\n    return object\n  }\n  const segments = path.split('.')\n  return segments.reduce((current, segment) => {\n    if (current === undefined || current === null) {\n      return undefined\n    }\n    if (Array.isArray(current)) {\n      return current[Number(segment)]\n    }\n    return current[segment]\n  }, object)\n}\n\nfunction convertError(error) {\n  const pointer = error.instanceLocation || error.dataPath || '#'\n  return {\n    path: pointerToPath(pointer),\n    message: error.error || 'Invalid value',\n  }\n}\n\nfunction pointerToPath(pointer) {\n  if (!pointer || pointer === '#' || pointer === '') {\n    return ''\n  }\n  return pointer\n    .replace(/^#\\//, '')\n    .split('/')\n    .map((segment) => segment.replace(/~1/g, '/').replace(/~0/g, '~'))\n    .join('.')\n}\n", "import { printError } from '../helper/utils.js'\nimport { browserApi } from '../helper/browserApi.js'\nimport { defaultOptions, setUserOptions } from '../model/options.js'\n\nconst ext = {\n  opts: {},\n  dom: {},\n  browserApi,\n  initialized: false,\n}\n\nwindow.ext = ext\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  initializeOptions().catch((error) => {\n    printError(error, 'Could not initialize options view.')\n  })\n})\n\nasync function initializeOptions() {\n  const container = document.getElementById('options-app')\n  if (!container) {\n    throw new Error('Options root element #options-app not found')\n  }\n\n  const [{ optionsSchema, uiSchema }, formStateModule, { renderOptionsForm }, validationModule] = await Promise.all([\n    import('./optionsSchema.js'),\n    import('./formState.js'),\n    import('./renderForm.js'),\n    import('./validation.js'),\n  ])\n\n  const state = await formStateModule.createFormState(defaultOptions)\n  let validationErrors = new Map()\n  const sectionState = {}\n  let yamlLoaderPromise = null\n\n  const handlers = {\n    onFieldChange: handleFieldChange,\n    onResetField: handleResetField,\n    onAddItem: handleAddItem,\n    onRemoveItem: handleRemoveItem,\n    onToggleSection: handleToggleSection,\n    onResetAll: handleResetAll,\n    onSubmit: handleSubmit,\n    onDownload: handleDownloadOverrides,\n    onFocus: focusPath,\n  }\n\n  render()\n  ext.initialized = true\n\n  function render(focusTarget) {\n    renderOptionsForm({\n      container,\n      schema: optionsSchema,\n      uiSchema,\n      state,\n      errors: validationErrors,\n      customizedCount: formStateModule.customizedCount(state),\n      sectionState,\n      isCustomized: (path) => formStateModule.isCustomized(state, path),\n      handlers,\n    })\n\n    if (focusTarget) {\n      window.requestAnimationFrame(() => focusPath(focusTarget))\n    }\n  }\n\n  function focusPath(path) {\n    const field = container.querySelector(`[data-path=\"${path}\"]`)\n    if (!field) {\n      return\n    }\n    const focusable = field.querySelector('input, select, textarea, button')\n    if (focusable) {\n      focusable.focus()\n    }\n  }\n\n  function handleToggleSection(sectionId, collapsed) {\n    sectionState[sectionId] = collapsed\n    render()\n  }\n\n  function handleFieldChange(path, value) {\n    formStateModule.updateField(state, path, value)\n    clearValidationErrorsForPath(path)\n    render(path.join('.'))\n  }\n\n  function handleResetField(path) {\n    formStateModule.resetField(state, path)\n    clearValidationErrorsForPath(path)\n    render(path.join('.'))\n  }\n\n  function handleResetAll() {\n    formStateModule.resetAll(state)\n    validationErrors = new Map()\n    render()\n  }\n\n  function handleAddItem(path, item) {\n    formStateModule.appendItem(state, path, item)\n    clearValidationErrorsForPath(path)\n    render(path.join('.'))\n  }\n\n  function handleRemoveItem(path, index) {\n    formStateModule.removeItem(state, path, index)\n    clearValidationErrorsForPath(path)\n    render(path.join('.'))\n  }\n\n  async function handleSubmit() {\n    const { validateOptions } = validationModule\n    const validationResult = validateOptions(optionsSchema, state.formData)\n    validationErrors = mapErrors(validationResult)\n\n    if (validationErrors.size > 0) {\n      render()\n      return\n    }\n\n    try {\n      const overrides = formStateModule.getOverrides(state)\n      await setUserOptions(overrides)\n      window.location.href = './index.html#search/'\n    } catch (error) {\n      printError(error, 'Could not save user options.')\n    }\n  }\n\n  async function handleDownloadOverrides() {\n    try {\n      const overrides = formStateModule.getOverrides(state)\n      const yaml = await loadYaml()\n      const content = yaml.dump(overrides)\n      const blob = new Blob([content], { type: 'text/yaml' })\n      const url = URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = 'user-options-overrides.yml'\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      URL.revokeObjectURL(url)\n    } catch (error) {\n      printError(error, 'Could not export overrides as YAML.')\n    }\n  }\n\n  function loadYaml() {\n    if (window.jsyaml) {\n      return Promise.resolve(window.jsyaml)\n    }\n    if (!yamlLoaderPromise) {\n      yamlLoaderPromise = new Promise((resolve, reject) => {\n        const script = document.createElement('script')\n        script.src = './lib/js-yaml.min.js'\n        script.defer = true\n        script.onload = () => resolve(window.jsyaml)\n        script.onerror = () => reject(new Error('Failed to load js-yaml library'))\n        document.head.appendChild(script)\n      })\n    }\n    return yamlLoaderPromise\n  }\n\n  function clearValidationErrorsForPath(path) {\n    const key = path.join('.')\n    for (const existingKey of Array.from(validationErrors.keys())) {\n      if (existingKey === key || existingKey.startsWith(`${key}.`)) {\n        validationErrors.delete(existingKey)\n      }\n    }\n  }\n\n  function mapErrors(validationResult) {\n    if (validationResult.valid) {\n      return new Map()\n    }\n    const map = new Map()\n    for (const error of validationResult.errors) {\n      const path = error.path || ''\n      if (!map.has(path)) {\n        map.set(path, [])\n      }\n      map.get(path).push(error.message)\n    }\n    return map\n  }\n}\n", "import { cleanUpUrl } from './utils.js'\n\nexport const browserApi = window.chrome || window.browser || {}\n\nexport async function getBrowserTabs(queryOptions = {}) {\n  if (ext.opts.tabsOnlyCurrentWindow) {\n    queryOptions.currentWindow = true\n  }\n  if (browserApi.tabs) {\n    return (await browserApi.tabs.query(queryOptions)).filter((el) => {\n      return !el.url.includes('extension://')\n    })\n  } else {\n    console.warn(`No browser tab API found. Returning no results.`)\n    return []\n  }\n}\n\nexport function convertBrowserTabs(chromeTabs) {\n  return chromeTabs.map((el) => {\n    const cleanUrl = cleanUpUrl(el.url)\n    const searchString = createSearchString(el.title, cleanUrl)\n    return {\n      type: 'tab',\n      title: getTitle(el.title, cleanUrl),\n      url: cleanUrl,\n      originalUrl: el.url.replace(/\\/$/, ''),\n      originalId: el.id,\n      active: el.active,\n      windowId: el.windowId,\n      searchString,\n      searchStringLower: searchString.toLowerCase(),\n      lastVisitSecondsAgo: el.lastAccessed ? (Date.now() - el.lastAccessed) / 1000 : undefined,\n    }\n  })\n}\n\nexport async function getBrowserBookmarks() {\n  if (browserApi.bookmarks && browserApi.bookmarks.getTree) {\n    return browserApi.bookmarks.getTree()\n  } else {\n    console.warn(`No browser bookmark API found. Returning no results.`)\n    return []\n  }\n}\n\n/**\n * Recursive function to return bookmarks in our internal, flat array format\n */\nexport function convertBrowserBookmarks(bookmarks, folderTrail, depth) {\n  depth = depth || 1\n  let result = []\n  folderTrail = folderTrail || []\n\n  for (const entry of bookmarks) {\n    let newFolderTrail = folderTrail.slice() // clone\n    // Only consider bookmark folders that have a title and have\n    // at least a depth of 2, so we skip the default chrome \"system\" folders\n    if (depth > 2) {\n      newFolderTrail = folderTrail.concat(entry.title)\n    }\n\n    // Filter out bookmarks by ignored folder\n    if (ext.opts.bookmarksIgnoreFolderList) {\n      if (folderTrail.some((el) => ext.opts.bookmarksIgnoreFolderList.includes(el))) {\n        continue\n      }\n    }\n\n    if (entry.url) {\n      let title = entry.title\n      let customBonusScore = 0\n\n      const regex = /[ ][+]([0-9]+)/\n      const match = title.match(regex)\n      if (match && match.length > 0) {\n        title = title.replace(match[0], '')\n        if (match.length !== 2) {\n          console.error(`Unexpected custom bonus score match length`, match, entry)\n        } else {\n          customBonusScore = parseInt(match[1])\n        }\n      }\n\n      const mappedEntry = {\n        type: 'bookmark',\n        originalId: entry.id,\n        title: title,\n        originalUrl: entry.url.replace(/\\/$/, ''),\n        url: cleanUpUrl(entry.url),\n        dateAdded: entry.dateAdded,\n        customBonusScore,\n      }\n\n      // Parse out tags from bookmark title (starting with \" #\")\n      let tagsText = ''\n      let tagsArray = []\n      if (title) {\n        const tagSplit = title.split(' #').map((el) => el.trim())\n        title = tagSplit.shift()\n\n        tagsArray = tagSplit.filter((el) => {\n          if (el.match(/^\\d/)) {\n            title += ' #' + el\n            return false\n          } else if (!el.trim()) {\n            return false\n          } else {\n            return el\n          }\n        })\n        for (const tag of tagsArray) {\n          tagsText += '#' + tag.trim() + ' '\n        }\n        tagsText = tagsText.slice(0, -1)\n      }\n\n      mappedEntry.title = getTitle(title, mappedEntry.url)\n      mappedEntry.tags = tagsText\n      mappedEntry.tagsArray = tagsArray\n\n      // Consider the folder names / structure of bookmarks\n      let folderText = ''\n      for (const folder of folderTrail) {\n        folderText += '~' + folder + ' '\n      }\n      folderText = folderText.slice(0, -1)\n\n      mappedEntry.folder = folderText\n      mappedEntry.folderArray = folderTrail\n\n      mappedEntry.searchString = createSearchString(\n        mappedEntry.title,\n        mappedEntry.url,\n        mappedEntry.tags,\n        mappedEntry.folder,\n      )\n      mappedEntry.searchStringLower = mappedEntry.searchString.toLowerCase()\n\n      result.push(mappedEntry)\n    }\n\n    if (entry.children) {\n      result = result.concat(convertBrowserBookmarks(entry.children, newFolderTrail, depth + 1))\n    }\n  }\n\n  return result\n}\n\n/**\n * Gets chrome browsing history.\n * Warning: This chrome API call tends to be rather slow\n */\nexport async function getBrowserHistory(startTime, maxResults) {\n  if (browserApi.history) {\n    return await browserApi.history.search({\n      text: '',\n      startTime: startTime,\n      maxResults: maxResults,\n    })\n  } else {\n    console.warn(`No browser history API found. Returning no results.`)\n    return []\n  }\n}\n\n/**\n * Convert chrome history into our internal, flat array format\n */\nexport function convertBrowserHistory(history) {\n  if (ext.opts.historyIgnoreList && ext.opts.historyIgnoreList.length) {\n    let ignoredHistoryCounter = 0\n    history = history.filter((el) => {\n      for (const ignoreUrl of ext.opts.historyIgnoreList) {\n        if (el.url.includes(ignoreUrl)) {\n          ignoredHistoryCounter += 1\n          return false\n        }\n      }\n      return true\n    })\n    if (ext.opts.debug) {\n      console.debug(`Ignored ${ignoredHistoryCounter} history items due to ignore list`)\n    }\n  }\n\n  const now = Date.now()\n  return history.map((el) => {\n    const cleanUrl = cleanUpUrl(el.url)\n    const searchString = createSearchString(el.title, cleanUrl)\n    return {\n      type: 'history',\n      title: getTitle(el.title, cleanUrl),\n      originalUrl: el.url.replace(/\\/$/, ''),\n      url: cleanUrl,\n      visitCount: el.visitCount,\n      lastVisitSecondsAgo: (now - el.lastVisitTime) / 1000,\n      originalId: el.id,\n      searchString,\n      searchStringLower: searchString.toLowerCase(),\n    }\n  })\n}\n\nexport function createSearchString(title, url, tags, folder) {\n  const separator = '\u00A6'\n  let searchString = ''\n  if (!url) {\n    console.error('createSearchString: No URL given', { title, url, tags, folder })\n    return searchString\n  }\n  // Keep the original casing intact. Fuzzy search relies on searchString\n  // to generate highlighted snippets for the UI, so we compute\n  // searchStringLower separately when building the data model.\n  if (title && !title.toLowerCase().includes(url.toLowerCase())) {\n    searchString += title + separator + url\n  } else {\n    searchString += url\n  }\n  if (tags) {\n    searchString += separator + tags\n  }\n  if (folder) {\n    searchString += separator + folder\n  }\n  return searchString\n}\n\nexport function getTitle(title, url) {\n  let newTitle = title || ''\n  if (newTitle.includes('http://') || newTitle.includes('https://') || newTitle === url) {\n    newTitle = shortenTitle(cleanUpUrl(newTitle))\n  }\n  if (!newTitle.trim()) {\n    newTitle = shortenTitle(cleanUpUrl(url))\n  }\n  return newTitle\n}\n\nexport function shortenTitle(title) {\n  const urlTitleLengthRestriction = 85\n  const maxLengthRestriction = 512\n  if (title && title.length > urlTitleLengthRestriction) {\n    return `${title.substring(0, urlTitleLengthRestriction - 3)}...`\n  } else if (title && title.length > maxLengthRestriction) {\n    return `${title.substring(0, maxLengthRestriction - 3)}...`\n  } else {\n    return title\n  }\n}\n"],
  "mappings": "4MAwFO,SAASA,GAAWC,EAAKC,EAAM,CACpC,IAAIC,EAAO,GACPD,IACFC,GAAQ,mCAAmCD,CAAI,UAC/C,QAAQ,MAAMA,CAAI,GAEpB,QAAQ,MAAMD,CAAG,EACjBE,GAAQ,2CAA2CF,EAAI,OAAO,UAC1DA,EAAI,QACNE,GAAQ,yCAAyCF,EAAI,KAAK,SAE5D,IAAMG,EAAY,SAAS,eAAe,YAAY,EACtDA,EAAU,UAAYD,EAAOC,EAAU,UACvCA,EAAU,MAAQ,iBACpB,CAtGA,IAAAC,GAAAC,GAAA,KAwFgBC,EAAAP,GAAA,gBCxFT,SAASQ,GAAUC,EAAO,CAC/B,GAAI,MAAM,QAAQA,CAAK,EACrB,OAAOA,EAAM,IAAKC,GAAUF,GAAUE,CAAK,CAAC,EAE9C,GAAID,GAAS,OAAOA,GAAU,SAAU,CACtC,IAAME,EAAS,CAAC,EAChB,OAAW,CAACC,EAAKC,CAAM,IAAK,OAAO,QAAQJ,CAAK,EAC9CE,EAAOC,CAAG,EAAIJ,GAAUK,CAAM,EAEhC,OAAOF,CACT,CACA,OAAOF,CACT,CAEO,SAASK,GAAUC,EAAMC,EAAO,CACrC,GAAID,IAASC,EACX,MAAO,GAGT,GAAI,MAAM,QAAQD,CAAI,GAAK,MAAM,QAAQC,CAAK,EAAG,CAC/C,GAAID,EAAK,SAAWC,EAAM,OACxB,MAAO,GAET,QAASC,EAAQ,EAAGA,EAAQF,EAAK,OAAQE,GAAS,EAChD,GAAI,CAACH,GAAUC,EAAKE,CAAK,EAAGD,EAAMC,CAAK,CAAC,EACtC,MAAO,GAGX,MAAO,EACT,CAEA,GAAIC,GAAcH,CAAI,GAAKG,GAAcF,CAAK,EAAG,CAC/C,IAAMG,EAAW,OAAO,KAAKJ,CAAI,EAC3BK,EAAY,OAAO,KAAKJ,CAAK,EACnC,GAAIG,EAAS,SAAWC,EAAU,OAChC,MAAO,GAET,QAAWR,KAAOO,EAChB,GAAI,CAACL,GAAUC,EAAKH,CAAG,EAAGI,EAAMJ,CAAG,CAAC,EAClC,MAAO,GAGX,MAAO,EACT,CAEA,MAAO,EACT,CAEO,SAASM,GAAcT,EAAO,CACnC,MAAO,CAAC,CAACA,GAAS,OAAOA,GAAU,UAAY,CAAC,MAAM,QAAQA,CAAK,CACrE,CAlDA,IAAAY,GAAAC,GAAA,KAAgBC,EAAAf,GAAA,aAcAe,EAAAT,GAAA,aAkCAS,EAAAL,GAAA,mBC9CT,SAASM,GAAiBC,EAASC,EAAU,CAClD,IAAMC,EAAOC,GAAcH,EAASC,CAAQ,EAC5C,OAAIC,IAAS,OACJ,CAAC,EAEHA,CACT,CAUA,SAASC,GAAcH,EAASC,EAAU,CACxC,GAAI,CAAAG,GAAUJ,EAASC,CAAQ,EAI/B,IAAI,MAAM,QAAQD,CAAO,EAAG,CAC1B,GAAI,CAAC,MAAM,QAAQC,CAAQ,EACzB,OAAOI,GAAUL,CAAO,EAE1B,GAAIA,EAAQ,SAAWC,EAAS,OAC9B,OAAOI,GAAUL,CAAO,EAE1B,QAASM,EAAQ,EAAGA,EAAQN,EAAQ,OAAQM,GAAS,EACnD,GAAI,CAACF,GAAUJ,EAAQM,CAAK,EAAGL,EAASK,CAAK,CAAC,EAC5C,OAAOD,GAAUL,CAAO,EAG5B,MACF,CAEA,GAAIO,GAAcP,CAAO,EAAG,CAC1B,GAAI,CAACO,GAAcN,CAAQ,EACzB,OAAOI,GAAUL,CAAO,EAE1B,IAAMQ,EAAO,IAAI,IAAI,CAAC,GAAG,OAAO,KAAKR,CAAO,EAAG,GAAG,OAAO,KAAKC,CAAQ,CAAC,CAAC,EAClEQ,EAAS,CAAC,EAChB,QAAWC,KAAOF,EAAM,CACtB,GAAI,CAAC,OAAO,UAAU,eAAe,KAAKR,EAASU,CAAG,EACpD,SAEF,IAAMR,EAAOC,GAAcH,EAAQU,CAAG,EAAGT,EAASS,CAAG,CAAC,EAClDR,IAAS,SACXO,EAAOC,CAAG,EAAIR,EAElB,CACA,OAAI,OAAO,KAAKO,CAAM,EAAE,SAAW,EACjC,OAEKA,CACT,CAEA,OAAOJ,GAAUL,CAAO,EAC1B,CA5DA,IAAAW,GAAAC,GAAA,KAAAC,KAEgBC,EAAAf,GAAA,oBAgBPe,EAAAX,GAAA,mBC2XT,eAAsBY,GAAeC,EAAc,CAAC,EAAG,CACrD,OAAO,IAAI,QAAQ,CAACC,EAASC,IAAW,CACtC,GAAI,CACFC,GAAoBH,CAAW,CACjC,OAASI,EAAK,CACZ,OAAAC,GAAWD,EAAK,8BAA8B,EACvCF,EAAOE,CAAG,CACnB,CAEA,GAAI,IAAI,WAAW,SAAW,IAAI,WAAW,QAAQ,KACnD,IAAI,WAAW,QAAQ,KAAK,IAAI,CAAE,YAAaJ,CAAY,EAAG,IACxD,IAAI,WAAW,QAAQ,UAClBE,EAAO,IAAI,WAAW,QAAQ,SAAS,EAEzCD,EAAQ,CAChB,MAED,gBAAQ,KAAK,yDAAyD,EACtE,OAAO,aAAa,QAAQ,cAAe,KAAK,UAAUD,CAAW,CAAC,EAC/DC,EAAQ,CAEnB,CAAC,CACH,CAKA,eAAsBK,IAAiB,CACrC,OAAO,IAAI,QAAQ,CAACL,EAASC,IAAW,CACtC,GAAI,CACF,GAAI,IAAI,WAAW,SAAW,IAAI,WAAW,QAAQ,KACnD,IAAI,WAAW,QAAQ,KAAK,IAAI,CAAC,aAAa,EAAIK,GAAW,CAC3D,GAAI,IAAI,WAAW,QAAQ,UACzB,OAAOL,EAAO,IAAI,WAAW,QAAQ,SAAS,EAEhD,IAAMF,EAAcO,EAAO,aAAeC,GAC1C,OAAOP,EAAQD,CAAW,CAC5B,CAAC,MACI,CACL,QAAQ,KAAK,yDAAyD,EACtE,IAAMS,EAAoB,OAAO,aAAa,QAAQ,aAAa,EAC7DT,EAAcS,EAAoB,KAAK,MAAMA,CAAiB,EAAID,GACxE,OAAOP,EAAQD,CAAW,CAC5B,CACF,OAASI,EAAK,CACZ,OAAOF,EAAOE,CAAG,CACnB,CACF,CAAC,CACH,CAoBO,SAASD,GAAoBH,EAAa,CAC/C,GAAIA,EAAa,CACf,GAAI,OAAOA,GAAgB,SACzB,MAAM,IAAI,MAAM,iDAAiD,EAEnE,GAAI,CACF,KAAK,UAAUA,CAAW,CAC5B,OAASI,EAAK,CACZ,MAAM,IAAI,MAAM,4CAA8CA,EAAI,OAAO,CAC3E,CACF,CACF,CA5dA,IAQaM,EA4XAF,GApYbG,GAAAC,GAAA,KAAAC,KA8dAC,KAtdaJ,EAAiB,CAS5B,MAAO,GAmBP,eAAgB,UAKhB,iBAAkB,GAIlB,yBAA0B,EAQ1B,gBAAiB,GAKjB,iBAAkB,IASlB,iBAAkB,EAKlB,cAAe,UAIf,SAAU,UAIV,aAAc,UAId,YAAa,UAIb,kBAAmB,UAInB,YAAa,UASb,WAAY,GAIZ,gBAAiB,GAMjB,cAAe,GAKf,oBAAqB,GAIrB,WAAY,GAIZ,gBAAiB,GAUjB,YAAa,GAKb,kBAAmB,GAKnB,4BAA6B,GAI7B,iBAAkB,GAIlB,oBAAqB,GAIrB,iBAAkB,GAKlB,aAAc,GASd,0BAA2B,CAAC,EAS5B,sBAAuB,GAKvB,oBAAqB,GASrB,eAAgB,GAKhB,gBAAiB,KAIjB,kBAAmB,CAAC,cAAc,EAelC,oBAAqB,CACnB,CACE,KAAM,SACN,UAAW,oCACb,EACA,CACE,KAAM,OACN,UAAW,kCACb,EACA,CACE,KAAM,UACN,UAAW,2BACb,CACF,EAaA,oBAAqB,CACnB,CACE,MAAO,CAAC,IAAK,QAAQ,EACrB,KAAM,SACN,UAAW,qCACX,MAAO,wBACT,EACA,CACE,MAAO,CAAC,IAAK,MAAM,EACnB,KAAM,UACN,UAAW,4BACX,MAAO,qBACT,CACF,EASA,cAAe,GAQf,6BAA8B,GAQ9B,uBAAwB,IAIxB,kBAAmB,GAInB,sBAAuB,GAIvB,2BAA4B,GAK5B,iCAAkC,IAIlC,oBAAqB,IAMrB,iBAAkB,EAElB,eAAgB,GAEhB,eAAgB,GAEhB,kBAAmB,GAUnB,sBAAuB,GAIvB,wBAAyB,EAIzB,gCAAiC,EAKjC,0BAA2B,GAK3B,sBAAuB,GAIvB,wBAAyB,GAIzB,2BAA4B,EAM5B,uBAAwB,GAIxB,8BAA+B,GAM/B,6BAA8B,GAa9B,8BAA+B,GAM/B,cAAe,CAAC,CAClB,EAEaF,GAAe,CAC1B,eAAgBE,EAAe,cACjC,EAOsBK,EAAAhB,GAAA,kBA2BAgB,EAAAT,GAAA,kBAyCNS,EAAAZ,GAAA,yBCjdhB,IAAAa,GAAA,GAAAC,GAAAD,GAAA,mBAAAE,GAAA,aAAAC,KAAA,IAQaD,GAmcAC,GA3cbC,GAAAC,GAAA,KAAAC,KAQaJ,GAAgB,CAC3B,IAAK,kFACL,QAAS,0CACT,KAAM,SACN,qBAAsB,GACtB,WAAY,CACV,MAAO,CACL,KAAM,UACN,QAASK,EAAe,MACxB,YAAa,iEACb,aAAc,SAChB,EACA,eAAgB,CACd,KAAM,SACN,KAAM,CAAC,UAAW,OAAO,EACzB,QAASA,EAAe,eACxB,YAAa,uCACb,aAAc,QAChB,EACA,iBAAkB,CAChB,KAAM,UACN,QAAS,EACT,QAASA,EAAe,iBACxB,YAAa,+CACb,aAAc,QAChB,EACA,yBAA0B,CACxB,KAAM,UACN,QAAS,EACT,QAASA,EAAe,yBACxB,YAAa,4DACb,aAAc,QAChB,EACA,gBAAiB,CACf,KAAM,SACN,QAAS,EACT,QAAS,EACT,QAASA,EAAe,gBACxB,YAAa,qEACb,aAAc,QAChB,EACA,iBAAkB,CAChB,KAAM,UACN,QAAS,EACT,QAASA,EAAe,iBACxB,YAAa,0DACb,aAAc,QAChB,EACA,iBAAkB,CAChB,KAAM,UACN,QAAS,EACT,QAAS,GACT,QAASA,EAAe,iBACxB,YAAa,+DACb,aAAc,OAChB,EACA,cAAe,CACb,KAAM,SACN,QAAS,2BACT,QAASA,EAAe,cACxB,YAAa,mCACb,aAAc,OAChB,EACA,SAAU,CACR,KAAM,SACN,QAAS,2BACT,QAASA,EAAe,SACxB,YAAa,8BACb,aAAc,OAChB,EACA,aAAc,CACZ,KAAM,SACN,QAAS,2BACT,QAASA,EAAe,aACxB,YAAa,kCACb,aAAc,OAChB,EACA,YAAa,CACX,KAAM,SACN,QAAS,2BACT,QAASA,EAAe,YACxB,YAAa,0CACb,aAAc,OAChB,EACA,kBAAmB,CACjB,KAAM,SACN,QAAS,2BACT,QAASA,EAAe,kBACxB,YAAa,wCACb,aAAc,OAChB,EACA,YAAa,CACX,KAAM,SACN,QAAS,2BACT,QAASA,EAAe,YACxB,YAAa,qCACb,aAAc,OAChB,EACA,WAAY,CACV,KAAM,UACN,QAASA,EAAe,WACxB,YAAa,8BACb,aAAc,SAChB,EACA,gBAAiB,CACf,KAAM,UACN,QAASA,EAAe,gBACxB,YAAa,8BACb,aAAc,SAChB,EACA,cAAe,CACb,KAAM,UACN,QAASA,EAAe,cACxB,YAAa,oCACb,aAAc,SAChB,EACA,oBAAqB,CACnB,KAAM,UACN,QAASA,EAAe,oBACxB,YAAa,kDACb,aAAc,SAChB,EACA,WAAY,CACV,KAAM,UACN,QAASA,EAAe,WACxB,YAAa,qCACb,aAAc,SAChB,EACA,gBAAiB,CACf,KAAM,UACN,QAASA,EAAe,gBACxB,YAAa,oDACb,aAAc,SAChB,EACA,YAAa,CACX,KAAM,UACN,QAASA,EAAe,YACxB,YAAa,iCACb,aAAc,SAChB,EACA,kBAAmB,CACjB,KAAM,UACN,QAASA,EAAe,kBACxB,YAAa,yCACb,aAAc,SAChB,EACA,4BAA6B,CAC3B,KAAM,UACN,QAASA,EAAe,4BACxB,YAAa,oCACb,aAAc,SAChB,EACA,iBAAkB,CAChB,KAAM,UACN,QAASA,EAAe,iBACxB,YAAa,8CACb,aAAc,SAChB,EACA,oBAAqB,CACnB,KAAM,UACN,QAASA,EAAe,oBACxB,YAAa,yCACb,aAAc,SAChB,EACA,iBAAkB,CAChB,KAAM,UACN,QAASA,EAAe,iBACxB,YAAa,2CACb,aAAc,SAChB,EACA,aAAc,CACZ,KAAM,UACN,QAASA,EAAe,aACxB,YAAa,oDACb,aAAc,SAChB,EACA,0BAA2B,CACzB,KAAM,QACN,MAAO,CACL,KAAM,SACN,UAAW,CACb,EACA,QAASA,EAAe,0BACxB,YAAa,0DACb,aAAc,WAChB,EACA,sBAAuB,CACrB,KAAM,UACN,QAASA,EAAe,sBACxB,YAAa,oDACb,aAAc,MAChB,EACA,oBAAqB,CACnB,KAAM,UACN,QAAS,EACT,QAASA,EAAe,oBACxB,YAAa,sEACb,aAAc,OACd,mBAAoB,CACtB,EACA,eAAgB,CACd,KAAM,UACN,QAAS,EACT,QAASA,EAAe,eACxB,YAAa,uCACb,aAAc,SAChB,EACA,gBAAiB,CACf,KAAM,UACN,QAAS,EACT,QAASA,EAAe,gBACxB,YAAa,8CACb,aAAc,SAChB,EACA,kBAAmB,CACjB,KAAM,QACN,MAAO,CACL,KAAM,SACN,UAAW,CACb,EACA,QAASA,EAAe,kBACxB,YAAa,wEACb,aAAc,SAChB,EACA,oBAAqB,CACnB,KAAM,QACN,SAAU,EACV,MAAO,CACL,KAAM,4BACR,EACA,QAASA,EAAe,oBACxB,YAAa,uDACb,aAAc,eAChB,EACA,oBAAqB,CACnB,KAAM,QACN,MAAO,CACL,KAAM,kCACR,EACA,QAASA,EAAe,oBACxB,YAAa,8DACb,aAAc,eAChB,EACA,cAAe,CACb,KAAM,UACN,QAAS,EACT,QAASA,EAAe,cACxB,YAAa,mDACb,aAAc,QAChB,EACA,6BAA8B,CAC5B,KAAM,SACN,QAAS,EACT,QAAS,EACT,QAASA,EAAe,6BACxB,YAAa,2CACb,aAAc,QAChB,EACA,uBAAwB,CACtB,KAAM,UACN,QAASA,EAAe,uBACxB,YAAa,0CACb,aAAc,QAChB,EACA,kBAAmB,CACjB,KAAM,UACN,QAASA,EAAe,kBACxB,YAAa,0CACb,aAAc,QAChB,EACA,sBAAuB,CACrB,KAAM,UACN,QAASA,EAAe,sBACxB,YAAa,yCACb,aAAc,QAChB,EACA,2BAA4B,CAC1B,KAAM,UACN,QAASA,EAAe,2BACxB,YAAa,gDACb,aAAc,QAChB,EACA,iCAAkC,CAChC,KAAM,UACN,QAASA,EAAe,iCACxB,YAAa,+CACb,aAAc,QAChB,EACA,oBAAqB,CACnB,KAAM,UACN,QAASA,EAAe,oBACxB,YAAa,+CACb,aAAc,QAChB,EACA,iBAAkB,CAChB,KAAM,SACN,QAASA,EAAe,iBACxB,YAAa,2CACb,aAAc,QAChB,EACA,eAAgB,CACd,KAAM,SACN,QAASA,EAAe,eACxB,YAAa,yCACb,aAAc,QAChB,EACA,eAAgB,CACd,KAAM,SACN,QAASA,EAAe,eACxB,YAAa,yCACb,aAAc,QAChB,EACA,kBAAmB,CACjB,KAAM,SACN,QAASA,EAAe,kBACxB,YAAa,iDACb,aAAc,QAChB,EACA,sBAAuB,CACrB,KAAM,UACN,QAASA,EAAe,sBACxB,YAAa,sDACb,aAAc,QAChB,EACA,wBAAyB,CACvB,KAAM,UACN,QAASA,EAAe,wBACxB,YAAa,yCACb,aAAc,QAChB,EACA,gCAAiC,CAC/B,KAAM,UACN,QAAS,EACT,QAASA,EAAe,gCACxB,YAAa,qDACb,aAAc,QAChB,EACA,0BAA2B,CACzB,KAAM,UACN,QAASA,EAAe,0BACxB,YAAa,6DACb,aAAc,QAChB,EACA,sBAAuB,CACrB,KAAM,UACN,QAASA,EAAe,sBACxB,YAAa,0CACb,aAAc,QAChB,EACA,wBAAyB,CACvB,KAAM,UACN,QAASA,EAAe,wBACxB,YAAa,qCACb,aAAc,QAChB,EACA,2BAA4B,CAC1B,KAAM,UACN,QAASA,EAAe,2BACxB,YAAa,wCACb,aAAc,QAChB,EACA,uBAAwB,CACtB,KAAM,SACN,QAAS,EACT,QAASA,EAAe,uBACxB,YAAa,+CACb,aAAc,QAChB,EACA,8BAA+B,CAC7B,KAAM,UACN,QAAS,EACT,QAASA,EAAe,8BACxB,YAAa,2CACb,aAAc,QAChB,EACA,6BAA8B,CAC5B,KAAM,UACN,QAAS,EACT,QAASA,EAAe,6BACxB,YAAa,4CACb,aAAc,QAChB,EACA,8BAA+B,CAC7B,KAAM,UACN,QAAS,EACT,QAASA,EAAe,8BACxB,YAAa,+CACb,aAAc,YAChB,EACA,cAAe,CACb,KAAM,SACN,QAASA,EAAe,cACxB,YAAa,wDACb,qBAAsB,GACtB,aAAc,YAChB,CACF,EACA,YAAa,CACX,aAAc,CACZ,KAAM,SACN,SAAU,CAAC,OAAQ,WAAW,EAC9B,qBAAsB,GACtB,WAAY,CACV,KAAM,CACJ,KAAM,SACN,UAAW,CACb,EACA,UAAW,CACT,KAAM,SACN,UAAW,CACb,CACF,CACF,EACA,mBAAoB,CAClB,KAAM,SACN,SAAU,CAAC,QAAS,OAAQ,WAAW,EACvC,qBAAsB,GACtB,WAAY,CACV,MAAO,CACL,MAAO,CACL,CACE,KAAM,QACN,SAAU,EACV,MAAO,CACL,KAAM,SACN,UAAW,CACb,CACF,EACA,CACE,KAAM,SACN,UAAW,CACb,CACF,CACF,EACA,KAAM,CACJ,KAAM,SACN,UAAW,CACb,EACA,UAAW,CACT,KAAM,SACN,UAAW,CACb,EACA,MAAO,CACL,KAAM,SACN,UAAW,CACb,CACF,CACF,CACF,CACF,EAEaJ,GAAW,CACtB,aAAc,CACZ,UACA,SACA,QACA,UACA,UACA,YACA,OACA,UACA,gBACA,SACA,YACF,EACA,SAAU,CACR,QAAS,CACP,MAAO,UACP,YAAa,qCACf,EACA,OAAQ,CACN,MAAO,SACP,YAAa,gDACf,EACA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",
  "names": ["printError", "err", "text", "html", "errorList", "init_utils", "__esmMin", "__name", "deepClone", "value", "entry", "result", "key", "nested", "deepEqual", "left", "right", "index", "isPlainObject", "leftKeys", "rightKeys", "init_objectUtils", "__esmMin", "__name", "computeOverrides", "current", "defaults", "diff", "diffRecursive", "deepEqual", "deepClone", "index", "isPlainObject", "keys", "result", "key", "init_optionsDiff", "__esmMin", "init_objectUtils", "__name", "setUserOptions", "userOptions", "resolve", "reject", "validateUserOptions", "err", "printError", "getUserOptions", "result", "emptyOptions", "userOptionsString", "defaultOptions", "init_options", "__esmMin", "init_utils", "init_optionsDiff", "__name", "optionsSchema_exports", "__export", "optionsSchema", "uiSchema", "init_optionsSchema", "__esmMin", "init_options", "defaultOptions", "formState_exports", "__export", "appendItem", "collectCustomizedPaths", "createFormState", "customizedCount", "deleteAtPath", "getAtPath", "getOverrides", "isCustomized", "removeItem", "resetAll", "resetField", "setAtPath", "updateField", "defaultOptions", "userOptions", "getUserOptions", "defaults", "deepClone", "overrides", "formData", "mergeOptions", "state", "path", "value", "refreshCustomization", "defaultValue", "item", "current", "next", "index", "computeOverrides", "basePath", "customized", "walkCustomization", "currentValue", "deepEqual", "pathKey", "max", "nextPath", "defaultChild", "currentChild", "keys", "key", "length", "slice", "merged", "object", "accumulator", "segment", "target", "nextSegment", "expectsArray", "isArrayIndex", "lastSegment", "init_formState", "__esmMin", "init_options", "init_optionsDiff", "init_objectUtils", "__name", "renderForm_exports", "__export", "renderOptionsForm", "container", "schema", "uiSchema", "state", "errors", "customizedCount", "sectionState", "isCustomized", "handlers", "errorMap", "root", "header", "createHeader", "errorBanner", "createErrorBanner", "sectionsWrapper", "fieldsBySection", "groupFieldsBySection", "sectionId", "fields", "sectionMeta", "sectionElement", "renderSection", "summary", "title", "customized", "actions", "resetButton", "downloadButton", "saveButton", "banner", "heading", "list", "shown", "path", "messages", "item", "button", "more", "section", "toggle", "collapsed", "description", "body", "fieldName", "fieldSchema", "fieldPath", "fieldValue", "getAtPath", "uiField", "resolveUiFieldConfig", "fieldElement", "renderField", "value", "variant", "resolvedSchema", "resolveSchemaVariant", "fieldErrors", "collectErrorsForPath", "label", "humanize", "controlWrapper", "control", "createControl", "message", "resolveControlType", "createSwitchControl", "createSegmentedControl", "createNumberControl", "createSliderControl", "createColorControl", "createSelectControl", "createStringListControl", "createObjectListControl", "createJsonControl", "createTextControl", "input", "wrapper", "options", "option", "parsed", "range", "display", "formatNumber", "preview", "select", "optionValue", "raw", "items", "itemValue", "index", "row", "remove", "addButton", "resolvedItemSchema", "resolveItemSchema", "itemLabel", "properties", "propKey", "propSchema", "nestedPath", "nestedValue", "nestedUiField", "itemName", "defaultItem", "defaultObjectForSchema", "textarea", "rootSchema", "dereferenceSchema", "resolved", "matchesType", "ref", "segments", "current", "segment", "key", "isPlainObject", "result", "propertySchema", "deepClone", "fullPath", "grouped", "left", "right", "match", "init_renderForm", "__esmMin", "init_formState", "init_objectUtils", "__name", "__getOwnPropNames", "__commonJS", "require_safe_format", "require_scope_utils", "require_scope_functions", "require_javascript", "require_generate_function", "require_known_keywords", "require_pointer", "require_formats", "require_tracing", "require_compile", "require_index", "schemasafe_esm_default", "init_schemasafe_esm", "__esmMin", "__name", "cb", "mod", "exports", "module", "SafeString", "compares", "escapeCode", "code", "jsval", "val", "proto", "char", "format", "fmt", "args", "res", "match", "safe", "string", "safewrap", "fun", "arg", "safepriority", "safeor", "safeand", "safenot", "safenotor", "caches", "scopeMethods", "scope", "cache", "gensym", "name", "index", "genpattern", "p", "n", "sub", "impl", "stringLength", "isMultipleOf", "value", "divisor", "factor", "factorMultiple", "multiple", "normal", "deepEqual", "obj", "obj2", "x", "i", "keys", "keys2", "key", "unique", "array", "objects", "primitives", "primitivesCount", "pos", "item", "j", "deBase64", "b", "_", "hasOwn", "pointerPart", "s", "toPointer", "path", "errorMerge", "keywordLocation", "instanceLocation", "schemaBase", "dataBase", "propertyIn", "properties", "patterns", "prop", "pattern", "dynamicResolve", "anchors", "id", "extraUtils", "functions", "types", "buildName", "parent", "keyval", "keyname", "parentName", "jsonProtoKeys", "c", "jsHelpers", "propvar", "unmodifiedPrototypes", "isJSON", "noopRegExps", "genloop", "inKeys", "checked", "pname", "writeBody", "start", "pat", "r", "subr", "type", "shouldInline", "arr", "k", "values", "isArrowFnWithParensRegex", "isArrowFnWithoutParensRegex", "toJayString", "jaystring", "stringified", "INDENT_START", "INDENT_END", "lines", "indent", "pushLine", "line", "build", "joined", "processScope", "entries", "prefix", "noInline", "oldIndent", "length", "condition", "writeElse", "scopeEntries", "entry", "vals", "knownKeywords", "schemaDrafts", "schemaVersions", "draft", "vocab2019", "vocab2020", "knownVocabularies", "v", "safeSet", "map", "comment", "untilde", "get", "pointer", "objpath", "parts", "curr", "part", "protocolRegex", "joinPath", "baseFull", "base", "objpath2path", "withSpecialChilds", "skipChilds", "sSkip", "traverse", "schema", "work", "visit", "specialChilds", "kres", "resolveReference", "root", "schemas", "ref", "ptr", "results", "main", "hash", "local", "oldPath", "dynamic", "anchor", "additional", "rRoot", "rPath", "getDynamicAnchors", "hasKeywords", "keywords", "addSchemasArrayToMap", "input", "optional", "idRaw", "buildSchemas", "extra", "core", "host", "rest", "matches", "year", "hm", "full", "feb", "ip", "s0", "s1", "hex", "short", "letters", "last", "spaces", "weak", "str", "merge", "a", "intersect", "wrapArgs", "f", "normalize", "wrapFull", "typeIsNot", "t", "d", "A", "initTracing", "andDelta", "B", "regtest", "intersectProps", "rega", "regb", "af", "bf", "ar", "br", "inProperties", "orDelta", "applyDelta", "stat", "delta", "isDynamic", "unknown", "items", "dyn", "genfun", "formats", "primitiveTypes", "schemaTypes", "isPlainObject", "isSchemaish", "deltaEmpty", "schemaIsOlderThan", "$schema", "ver", "schemaIsUnkownOrOlder", "normalized", "number", "propimm", "evaluatedStatic", "optDynamic", "optDynAnchors", "optRecAnchors", "constantValue", "refsNeedFullValidation", "rootMeta", "generateMeta", "enforce", "requireSchema", "version", "compileSchema", "opts", "basePathRoot", "mode", "useDefaults", "removeAdditional", "includeErrors", "allErrors", "contentValidation", "dryRun", "lintOnly", "allowUnusedKeywords", "allowUnreachable", "requireValidation", "requireStringValidation", "forbidNoopValues", "complexityChecks", "$schemaDefault", "formatAssertion", "optFormats", "weakFormats", "extraFormats", "fmts", "strong", "getref", "genref", "genformat", "buildPath", "stringParts", "stringJoined", "funname", "validate", "wrap", "hasRefs", "hasDynAnchors", "dynAnchorsHead", "recAnchorsHead", "dynamicAnchorsNext", "helpers", "present", "forObjectKeys", "forArray", "patternTest", "compare", "recursiveLog", "getMeta", "basePathStack", "errors", "history", "current", "node", "schemaPath", "trace", "constProp", "isSub", "queryCurrent", "h", "definitelyPresent", "currPropImm", "error", "source", "suberr", "schemaP", "dataP", "errorJS", "mergeerror", "errorIf", "errorArgs", "fail", "msg", "message", "patternTestSafe", "e", "ok", "laxMode", "enforceMinMax", "enforceValidation", "suffix", "subPath", "uncertain", "complex", "saveMeta", "$sch", "stat2", "evaluateDelta", "unused", "multiConsumable", "consume", "ruleTypes", "handle", "handler", "$vocabulary", "vocab", "flag", "ignore", "compileSub", "subR", "basePath", "basePathStackLength", "setId", "$id", "isRecursive", "isDynScope", "allDynamic", "subcheck", "resolved", "subRoot", "needUnevaluated", "rule2", "local2", "canSkipDynamic", "evaluateDeltaDynamic", "inStat", "properties2", "patterns2", "sym", "applyDynamicToDynamic", "target", "props", "makeRecursive", "applyRef", "call", "err", "allIn", "valid", "someIn", "possible", "parentCheckedType", "definitelyType", "typeApplicable", "enforceRegex", "havePattern", "haveComplex", "prev", "prevWrap", "shouldWrap", "nexthistory", "rule", "subrule", "constval", "suberror", "willRemoveAdditional", "additionalItems", "rulePath", "limit", "ruleValue", "additionalProperties", "additionalCondition", "patternProperties", "lintRequired", "regexps", "known", "finalLint", "checkNumbers", "minMax", "operator", "min", "max", "multipleOf", "exp", "checkStrings", "checkFormat", "fmtname", "formatsObj", "formatImpl", "cV", "haveContent", "dec", "json", "decprop", "checkArrays", "prefixItemsName", "checkItemsArray", "checkContains", "run", "itemsSimple", "ischema", "itemType", "itemsSimpleOrFalse", "uniqueSimple", "uniqueItems", "checkObjects", "propertiesCount", "nameSchema", "nameprop", "required", "req", "dependencies", "deps", "clauses", "propertyDependencies", "variants", "checkConst", "handledConst", "handledEnum", "primitive", "iterate", "passes", "evaluate", "mn", "checkGeneric", "not", "ifS", "deltaIf", "handleElse", "handleThen", "deltaElse", "deltaThen", "elseS", "thenS", "performAllOf", "allOf", "sch", "handleDiscriminator", "discriminator", "seen", "fix", "check", "e0", "keylen", "branches", "ruleName", "runDiscriminator", "branch", "myval", "myenum", "e1", "rprop", "ok1", "ok2", "okMapping", "valok", "subd", "propCheck", "errorPath", "uncertainBranchTypes", "btypes", "maybeObj", "maybeArr", "anyOf", "acc", "cur", "delta2", "constBlocks", "otherBlocks", "blocks", "body", "oldBody", "deltaVar", "oneOf", "typeWrap", "checkBlock", "validTypes", "queryType", "funSize", "unusedSize", "checkArraysFinal", "checkObjectsFinal", "notStatic", "notDynamic", "performValidation", "typeKeys", "lint", "writeMain", "$ref", "rn", "$recursiveRef", "nrec", "$dynamicRef", "dynamicTail", "nrec2", "typeCheck", "typearr", "filteredTypes", "defvalue", "logicalOp", "branchOp", "depOp", "propDepOp", "compile", "refs", "jsonCheckWithErrors", "validateIsJSON", "data", "jsonCheckWithoutErrors", "validator", "parse", "multi", "jsonCheck", "willJSON", "options", "parseWithErrors", "parseWithoutErrors", "semi", "src", "parser", "lintOption", "validation_exports", "__export", "validateOptions", "schema", "data", "compiled", "getValidator", "convertedErrors", "convertError", "customRules", "getCustomRules", "customErrors", "runCustomRules", "errors", "validatorCache", "validator", "rules", "customRuleCache", "collectCustomRules", "basePath", "isPlainObject", "key", "child", "item", "index", "rule", "value", "getValueByPath", "object", "path", "current", "segment", "error", "pointer", "pointerToPath", "init_validation", "__esmMin", "init_schemasafe_esm", "init_objectUtils", "schemasafe_esm_default", "__name", "init_utils", "init_utils", "browserApi", "init_options", "ext", "browserApi", "initializeOptions", "error", "printError", "container", "optionsSchema", "uiSchema", "formStateModule", "renderOptionsForm", "validationModule", "state", "defaultOptions", "validationErrors", "sectionState", "yamlLoaderPromise", "handlers", "handleFieldChange", "handleResetField", "handleAddItem", "handleRemoveItem", "handleToggleSection", "handleResetAll", "handleSubmit", "handleDownloadOverrides", "focusPath", "render", "focusTarget", "__name", "path", "field", "focusable", "sectionId", "collapsed", "value", "clearValidationErrorsForPath", "item", "index", "validateOptions", "validationResult", "mapErrors", "overrides", "setUserOptions", "content", "loadYaml", "blob", "url", "link", "resolve", "reject", "script", "key", "existingKey", "map"]
}
